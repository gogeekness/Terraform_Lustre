2025-04-25 14:04:15,531 p=987439 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-04-25 14:04:17,381 p=987439 u=reseke n=ansible | {
    "_meta": {
        "hostvars": {
            "ec2-3-76-30-146.eu-central-1.compute.amazonaws.com": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.12",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-04-25T12:03:32+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0e962c30215361e92"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-04-25T12:03:32+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-07ee8857a96b11abb"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250425120331264200000007",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0cde42f63109026da",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-04-25T12:03:31+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "association": {
                            "ip_owner_id": "amazon",
                            "public_dns_name": "ec2-3-76-30-146.eu-central-1.compute.amazonaws.com",
                            "public_ip": "3.76.30.146"
                        },
                        "attachment": {
                            "attach_time": "2025-04-25T12:03:31+00:00",
                            "attachment_id": "eni-attach-03c7b8a2d6f9c816f",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-08096f202c7791091",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:57:e1:60:cb:91",
                        "network_interface_id": "eni-09a9d4bc5192a1ca0",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.12",
                        "private_ip_addresses": [
                            {
                                "association": {
                                    "ip_owner_id": "amazon",
                                    "public_dns_name": "ec2-3-76-30-146.eu-central-1.compute.amazonaws.com",
                                    "public_ip": "3.76.30.146"
                                },
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.12"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-04bddb2140c5860fe",
                        "vpc_id": "vpc-0504f7e5dab4df33e"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.12",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "ec2-3-76-30-146.eu-central-1.compute.amazonaws.com",
                "public_ip_address": "3.76.30.146",
                "requester_id": "",
                "reservation_id": "r-0714c4c2a19289b64",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-08096f202c7791091",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-04bddb2140c5860fe",
                "tags": {
                    "Name": "bastion",
                    "Project": "lustre",
                    "Role": "client"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-04-25T12:03:31+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0504f7e5dab4df33e"
            },
            "ip-10-0-1-10.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.10",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-04-25T12:03:32+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0bb9f9674e1d54f0f"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-04-25T12:03:32+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0c9bb1d6ba69f8223"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250425120331268700000008",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0d9349d0d4a2f0912",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-04-25T12:03:31+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-04-25T12:03:31+00:00",
                            "attachment_id": "eni-attach-0c51ad53d3827a033",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-08096f202c7791091",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:16:24:ea:1b:b9",
                        "network_interface_id": "eni-01627c596ed318ad3",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.10",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.10"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-04bddb2140c5860fe",
                        "vpc_id": "vpc-0504f7e5dab4df33e"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.10",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-0c6f8102a0db7a520",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-08096f202c7791091",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-04bddb2140c5860fe",
                "tags": {
                    "Name": "lustre_mgt",
                    "Project": "lustre",
                    "Role": "manager"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-04-25T12:03:31+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0504f7e5dab4df33e"
            },
            "ip-10-0-1-11.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.11",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-04-25T12:03:32+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-04fe29299a6b16868"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-04-25T12:03:32+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-007c04bb2a8928603"
                        }
                    },
                    {
                        "device_name": "/dev/sdz",
                        "ebs": {
                            "attach_time": "2025-04-25T12:03:55.677000+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-07f9ac98159ee35f6"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250425120331261600000006",
                "cpu_options": {
                    "core_count": 2,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0aac5ae1fb7ac4d00",
                "instance_type": "t3.xlarge",
                "key_name": "Lustre_Key",
                "launch_time": "2025-04-25T12:03:31+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-04-25T12:03:31+00:00",
                            "attachment_id": "eni-attach-0453dc0b7c04be8dd",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-08096f202c7791091",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:97:50:14:98:27",
                        "network_interface_id": "eni-0e69de8762cec350e",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.11",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.11"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-04bddb2140c5860fe",
                        "vpc_id": "vpc-0504f7e5dab4df33e"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.11",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-0c6cd50bc351e9320",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-08096f202c7791091",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-04bddb2140c5860fe",
                "tags": {
                    "Name": "lustre_oss",
                    "Project": "lustre",
                    "Role": "storage"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-04-25T12:03:31+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0504f7e5dab4df33e"
            }
        }
    },
    "all": {
        "children": [
            "ungrouped",
            "aws_ec2"
        ]
    },
    "aws_ec2": {
        "hosts": [
            "ip-10-0-1-11.eu-central-1.compute.internal",
            "ec2-3-76-30-146.eu-central-1.compute.amazonaws.com",
            "ip-10-0-1-10.eu-central-1.compute.internal"
        ]
    }
}
2025-04-27 14:12:23,301 p=1140164 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-04-27 14:12:24,115 p=1140164 u=reseke n=ansible | {
    "_meta": {
        "hostvars": {
            "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.12",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-08146fa00d3cda699"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0cd5bb29c64c30ef2"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250427121017173700000006",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-045198a8311f06991",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-04-27T12:10:18+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "association": {
                            "ip_owner_id": "amazon",
                            "public_dns_name": "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
                            "public_ip": "3.71.199.13"
                        },
                        "attachment": {
                            "attach_time": "2025-04-27T12:10:18+00:00",
                            "attachment_id": "eni-attach-03a885312d7a4d4f1",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-018d43afbc67efa9e",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:c7:e3:a8:28:6b",
                        "network_interface_id": "eni-0b6159ab03eb878e6",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.12",
                        "private_ip_addresses": [
                            {
                                "association": {
                                    "ip_owner_id": "amazon",
                                    "public_dns_name": "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
                                    "public_ip": "3.71.199.13"
                                },
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.12"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0de11b30a06e89571",
                        "vpc_id": "vpc-0f584f0cdf877ae6d"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.12",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
                "public_ip_address": "3.71.199.13",
                "requester_id": "",
                "reservation_id": "r-09e1a776c2412ba73",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-018d43afbc67efa9e",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0de11b30a06e89571",
                "tags": {
                    "Name": "bastion",
                    "Project": "lustre",
                    "Role": "client"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-04-27T12:10:18+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0f584f0cdf877ae6d"
            },
            "ip-10-0-1-10.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.10",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0d7de9e5875def04a"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0f4efd701a9cd88cd"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250427121017173700000007",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0b218437e80321bba",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-04-27T12:10:18+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-04-27T12:10:18+00:00",
                            "attachment_id": "eni-attach-01e642efe9229c3eb",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-018d43afbc67efa9e",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:b6:f5:ab:ee:75",
                        "network_interface_id": "eni-00bd80db860e833ad",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.10",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.10"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0de11b30a06e89571",
                        "vpc_id": "vpc-0f584f0cdf877ae6d"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.10",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-0f75c25e68374d6ac",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-018d43afbc67efa9e",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0de11b30a06e89571",
                "tags": {
                    "Name": "lustre_mgt",
                    "Project": "lustre",
                    "Role": "manager"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-04-27T12:10:18+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0f584f0cdf877ae6d"
            },
            "ip-10-0-1-11.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.11",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0923132bae9fd4a93"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0824008db098e5d61"
                        }
                    },
                    {
                        "device_name": "/dev/sdz",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:41.899000+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-005644eca74b71985"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250427121017173900000008",
                "cpu_options": {
                    "core_count": 2,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0ec8faab56e105dc3",
                "instance_type": "t3.xlarge",
                "key_name": "Lustre_Key",
                "launch_time": "2025-04-27T12:10:18+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-04-27T12:10:18+00:00",
                            "attachment_id": "eni-attach-0336ff38c6d300b5c",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-018d43afbc67efa9e",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:bf:c3:ba:19:13",
                        "network_interface_id": "eni-0797d86840e72b9ac",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.11",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.11"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0de11b30a06e89571",
                        "vpc_id": "vpc-0f584f0cdf877ae6d"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.11",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-04d479d53ac7df310",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-018d43afbc67efa9e",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0de11b30a06e89571",
                "tags": {
                    "Name": "lustre_oss",
                    "Project": "lustre",
                    "Role": "storage"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-04-27T12:10:18+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0f584f0cdf877ae6d"
            }
        }
    },
    "all": {
        "children": [
            "ungrouped",
            "aws_ec2"
        ]
    },
    "aws_ec2": {
        "hosts": [
            "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
            "ip-10-0-1-10.eu-central-1.compute.internal",
            "ip-10-0-1-11.eu-central-1.compute.internal"
        ]
    }
}
2025-04-27 14:12:26,967 p=1140214 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-04-27 14:12:27,609 p=1140214 u=reseke n=ansible | {
    "_meta": {
        "hostvars": {
            "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.12",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-08146fa00d3cda699"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0cd5bb29c64c30ef2"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250427121017173700000006",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-045198a8311f06991",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-04-27T12:10:18+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "association": {
                            "ip_owner_id": "amazon",
                            "public_dns_name": "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
                            "public_ip": "3.71.199.13"
                        },
                        "attachment": {
                            "attach_time": "2025-04-27T12:10:18+00:00",
                            "attachment_id": "eni-attach-03a885312d7a4d4f1",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-018d43afbc67efa9e",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:c7:e3:a8:28:6b",
                        "network_interface_id": "eni-0b6159ab03eb878e6",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.12",
                        "private_ip_addresses": [
                            {
                                "association": {
                                    "ip_owner_id": "amazon",
                                    "public_dns_name": "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
                                    "public_ip": "3.71.199.13"
                                },
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.12"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0de11b30a06e89571",
                        "vpc_id": "vpc-0f584f0cdf877ae6d"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.12",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
                "public_ip_address": "3.71.199.13",
                "requester_id": "",
                "reservation_id": "r-09e1a776c2412ba73",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-018d43afbc67efa9e",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0de11b30a06e89571",
                "tags": {
                    "Name": "bastion",
                    "Project": "lustre",
                    "Role": "client"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-04-27T12:10:18+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0f584f0cdf877ae6d"
            },
            "ip-10-0-1-10.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.10",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0d7de9e5875def04a"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0f4efd701a9cd88cd"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250427121017173700000007",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0b218437e80321bba",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-04-27T12:10:18+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-04-27T12:10:18+00:00",
                            "attachment_id": "eni-attach-01e642efe9229c3eb",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-018d43afbc67efa9e",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:b6:f5:ab:ee:75",
                        "network_interface_id": "eni-00bd80db860e833ad",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.10",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.10"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0de11b30a06e89571",
                        "vpc_id": "vpc-0f584f0cdf877ae6d"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.10",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-0f75c25e68374d6ac",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-018d43afbc67efa9e",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0de11b30a06e89571",
                "tags": {
                    "Name": "lustre_mgt",
                    "Project": "lustre",
                    "Role": "manager"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-04-27T12:10:18+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0f584f0cdf877ae6d"
            },
            "ip-10-0-1-11.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.11",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0923132bae9fd4a93"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0824008db098e5d61"
                        }
                    },
                    {
                        "device_name": "/dev/sdz",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:41.899000+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-005644eca74b71985"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250427121017173900000008",
                "cpu_options": {
                    "core_count": 2,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0ec8faab56e105dc3",
                "instance_type": "t3.xlarge",
                "key_name": "Lustre_Key",
                "launch_time": "2025-04-27T12:10:18+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-04-27T12:10:18+00:00",
                            "attachment_id": "eni-attach-0336ff38c6d300b5c",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-018d43afbc67efa9e",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:bf:c3:ba:19:13",
                        "network_interface_id": "eni-0797d86840e72b9ac",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.11",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.11"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0de11b30a06e89571",
                        "vpc_id": "vpc-0f584f0cdf877ae6d"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.11",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-04d479d53ac7df310",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-018d43afbc67efa9e",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0de11b30a06e89571",
                "tags": {
                    "Name": "lustre_oss",
                    "Project": "lustre",
                    "Role": "storage"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-04-27T12:10:18+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0f584f0cdf877ae6d"
            }
        }
    },
    "all": {
        "children": [
            "ungrouped",
            "aws_ec2"
        ]
    },
    "aws_ec2": {
        "hosts": [
            "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
            "ip-10-0-1-10.eu-central-1.compute.internal",
            "ip-10-0-1-11.eu-central-1.compute.internal"
        ]
    }
}
2025-04-27 14:12:36,686 p=1140333 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-04-27 14:12:37,254 p=1140333 u=reseke n=ansible | {
    "_meta": {
        "hostvars": {
            "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.12",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-08146fa00d3cda699"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0cd5bb29c64c30ef2"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250427121017173700000006",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-045198a8311f06991",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-04-27T12:10:18+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "association": {
                            "ip_owner_id": "amazon",
                            "public_dns_name": "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
                            "public_ip": "3.71.199.13"
                        },
                        "attachment": {
                            "attach_time": "2025-04-27T12:10:18+00:00",
                            "attachment_id": "eni-attach-03a885312d7a4d4f1",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-018d43afbc67efa9e",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:c7:e3:a8:28:6b",
                        "network_interface_id": "eni-0b6159ab03eb878e6",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.12",
                        "private_ip_addresses": [
                            {
                                "association": {
                                    "ip_owner_id": "amazon",
                                    "public_dns_name": "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
                                    "public_ip": "3.71.199.13"
                                },
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.12"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0de11b30a06e89571",
                        "vpc_id": "vpc-0f584f0cdf877ae6d"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.12",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
                "public_ip_address": "3.71.199.13",
                "requester_id": "",
                "reservation_id": "r-09e1a776c2412ba73",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-018d43afbc67efa9e",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0de11b30a06e89571",
                "tags": {
                    "Name": "bastion",
                    "Project": "lustre",
                    "Role": "client"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-04-27T12:10:18+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0f584f0cdf877ae6d"
            },
            "ip-10-0-1-10.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.10",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0d7de9e5875def04a"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0f4efd701a9cd88cd"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250427121017173700000007",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0b218437e80321bba",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-04-27T12:10:18+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-04-27T12:10:18+00:00",
                            "attachment_id": "eni-attach-01e642efe9229c3eb",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-018d43afbc67efa9e",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:b6:f5:ab:ee:75",
                        "network_interface_id": "eni-00bd80db860e833ad",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.10",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.10"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0de11b30a06e89571",
                        "vpc_id": "vpc-0f584f0cdf877ae6d"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.10",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-0f75c25e68374d6ac",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-018d43afbc67efa9e",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0de11b30a06e89571",
                "tags": {
                    "Name": "lustre_mgt",
                    "Project": "lustre",
                    "Role": "manager"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-04-27T12:10:18+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0f584f0cdf877ae6d"
            },
            "ip-10-0-1-11.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.11",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0923132bae9fd4a93"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0824008db098e5d61"
                        }
                    },
                    {
                        "device_name": "/dev/sdz",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:41.899000+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-005644eca74b71985"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250427121017173900000008",
                "cpu_options": {
                    "core_count": 2,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0ec8faab56e105dc3",
                "instance_type": "t3.xlarge",
                "key_name": "Lustre_Key",
                "launch_time": "2025-04-27T12:10:18+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-04-27T12:10:18+00:00",
                            "attachment_id": "eni-attach-0336ff38c6d300b5c",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-018d43afbc67efa9e",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:bf:c3:ba:19:13",
                        "network_interface_id": "eni-0797d86840e72b9ac",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.11",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.11"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0de11b30a06e89571",
                        "vpc_id": "vpc-0f584f0cdf877ae6d"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.11",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-04d479d53ac7df310",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-018d43afbc67efa9e",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0de11b30a06e89571",
                "tags": {
                    "Name": "lustre_oss",
                    "Project": "lustre",
                    "Role": "storage"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-04-27T12:10:18+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0f584f0cdf877ae6d"
            }
        }
    },
    "all": {
        "children": [
            "ungrouped",
            "aws_ec2"
        ]
    },
    "aws_ec2": {
        "hosts": [
            "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
            "ip-10-0-1-10.eu-central-1.compute.internal",
            "ip-10-0-1-11.eu-central-1.compute.internal"
        ]
    }
}
2025-04-27 14:13:25,415 p=1140922 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-04-27 14:13:26,118 p=1140922 u=reseke n=ansible | {
    "_meta": {
        "hostvars": {
            "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.12",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-08146fa00d3cda699"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0cd5bb29c64c30ef2"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250427121017173700000006",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-045198a8311f06991",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-04-27T12:10:18+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "association": {
                            "ip_owner_id": "amazon",
                            "public_dns_name": "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
                            "public_ip": "3.71.199.13"
                        },
                        "attachment": {
                            "attach_time": "2025-04-27T12:10:18+00:00",
                            "attachment_id": "eni-attach-03a885312d7a4d4f1",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-018d43afbc67efa9e",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:c7:e3:a8:28:6b",
                        "network_interface_id": "eni-0b6159ab03eb878e6",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.12",
                        "private_ip_addresses": [
                            {
                                "association": {
                                    "ip_owner_id": "amazon",
                                    "public_dns_name": "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
                                    "public_ip": "3.71.199.13"
                                },
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.12"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0de11b30a06e89571",
                        "vpc_id": "vpc-0f584f0cdf877ae6d"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.12",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
                "public_ip_address": "3.71.199.13",
                "requester_id": "",
                "reservation_id": "r-09e1a776c2412ba73",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-018d43afbc67efa9e",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0de11b30a06e89571",
                "tags": {
                    "Name": "bastion",
                    "Project": "lustre",
                    "Role": "client"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-04-27T12:10:18+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0f584f0cdf877ae6d"
            },
            "ip-10-0-1-10.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.10",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0d7de9e5875def04a"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0f4efd701a9cd88cd"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250427121017173700000007",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0b218437e80321bba",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-04-27T12:10:18+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-04-27T12:10:18+00:00",
                            "attachment_id": "eni-attach-01e642efe9229c3eb",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-018d43afbc67efa9e",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:b6:f5:ab:ee:75",
                        "network_interface_id": "eni-00bd80db860e833ad",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.10",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.10"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0de11b30a06e89571",
                        "vpc_id": "vpc-0f584f0cdf877ae6d"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.10",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-0f75c25e68374d6ac",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-018d43afbc67efa9e",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0de11b30a06e89571",
                "tags": {
                    "Name": "lustre_mgt",
                    "Project": "lustre",
                    "Role": "manager"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-04-27T12:10:18+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0f584f0cdf877ae6d"
            },
            "ip-10-0-1-11.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.11",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0923132bae9fd4a93"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0824008db098e5d61"
                        }
                    },
                    {
                        "device_name": "/dev/sdz",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:41.899000+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-005644eca74b71985"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250427121017173900000008",
                "cpu_options": {
                    "core_count": 2,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0ec8faab56e105dc3",
                "instance_type": "t3.xlarge",
                "key_name": "Lustre_Key",
                "launch_time": "2025-04-27T12:10:18+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-04-27T12:10:18+00:00",
                            "attachment_id": "eni-attach-0336ff38c6d300b5c",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-018d43afbc67efa9e",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:bf:c3:ba:19:13",
                        "network_interface_id": "eni-0797d86840e72b9ac",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.11",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.11"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0de11b30a06e89571",
                        "vpc_id": "vpc-0f584f0cdf877ae6d"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.11",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-04d479d53ac7df310",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-018d43afbc67efa9e",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0de11b30a06e89571",
                "tags": {
                    "Name": "lustre_oss",
                    "Project": "lustre",
                    "Role": "storage"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-04-27T12:10:18+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0f584f0cdf877ae6d"
            }
        }
    },
    "all": {
        "children": [
            "ungrouped",
            "aws_ec2"
        ]
    },
    "aws_ec2": {
        "hosts": [
            "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
            "ip-10-0-1-10.eu-central-1.compute.internal",
            "ip-10-0-1-11.eu-central-1.compute.internal"
        ]
    }
}
2025-04-27 14:14:44,629 p=1141901 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-04-27 14:14:47,019 p=1141901 u=reseke n=ansible | {
    "_meta": {
        "hostvars": {
            "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.12",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-08146fa00d3cda699"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0cd5bb29c64c30ef2"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250427121017173700000006",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-045198a8311f06991",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-04-27T12:10:18+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "association": {
                            "ip_owner_id": "amazon",
                            "public_dns_name": "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
                            "public_ip": "3.71.199.13"
                        },
                        "attachment": {
                            "attach_time": "2025-04-27T12:10:18+00:00",
                            "attachment_id": "eni-attach-03a885312d7a4d4f1",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-018d43afbc67efa9e",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:c7:e3:a8:28:6b",
                        "network_interface_id": "eni-0b6159ab03eb878e6",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.12",
                        "private_ip_addresses": [
                            {
                                "association": {
                                    "ip_owner_id": "amazon",
                                    "public_dns_name": "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
                                    "public_ip": "3.71.199.13"
                                },
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.12"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0de11b30a06e89571",
                        "vpc_id": "vpc-0f584f0cdf877ae6d"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.12",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
                "public_ip_address": "3.71.199.13",
                "requester_id": "",
                "reservation_id": "r-09e1a776c2412ba73",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-018d43afbc67efa9e",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0de11b30a06e89571",
                "tags": {
                    "Name": "bastion",
                    "Project": "lustre",
                    "Role": "client"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-04-27T12:10:18+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0f584f0cdf877ae6d"
            },
            "ip-10-0-1-10.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.10",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0d7de9e5875def04a"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0f4efd701a9cd88cd"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250427121017173700000007",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0b218437e80321bba",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-04-27T12:10:18+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-04-27T12:10:18+00:00",
                            "attachment_id": "eni-attach-01e642efe9229c3eb",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-018d43afbc67efa9e",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:b6:f5:ab:ee:75",
                        "network_interface_id": "eni-00bd80db860e833ad",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.10",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.10"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0de11b30a06e89571",
                        "vpc_id": "vpc-0f584f0cdf877ae6d"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.10",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-0f75c25e68374d6ac",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-018d43afbc67efa9e",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0de11b30a06e89571",
                "tags": {
                    "Name": "lustre_mgt",
                    "Project": "lustre",
                    "Role": "manager"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-04-27T12:10:18+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0f584f0cdf877ae6d"
            },
            "ip-10-0-1-11.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.11",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0923132bae9fd4a93"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0824008db098e5d61"
                        }
                    },
                    {
                        "device_name": "/dev/sdz",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:41.899000+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-005644eca74b71985"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250427121017173900000008",
                "cpu_options": {
                    "core_count": 2,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0ec8faab56e105dc3",
                "instance_type": "t3.xlarge",
                "key_name": "Lustre_Key",
                "launch_time": "2025-04-27T12:10:18+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-04-27T12:10:18+00:00",
                            "attachment_id": "eni-attach-0336ff38c6d300b5c",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-018d43afbc67efa9e",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:bf:c3:ba:19:13",
                        "network_interface_id": "eni-0797d86840e72b9ac",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.11",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.11"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0de11b30a06e89571",
                        "vpc_id": "vpc-0f584f0cdf877ae6d"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.11",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-04d479d53ac7df310",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-018d43afbc67efa9e",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0de11b30a06e89571",
                "tags": {
                    "Name": "lustre_oss",
                    "Project": "lustre",
                    "Role": "storage"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-04-27T12:10:18+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0f584f0cdf877ae6d"
            }
        }
    },
    "all": {
        "children": [
            "ungrouped",
            "aws_ec2"
        ]
    },
    "aws_ec2": {
        "hosts": [
            "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
            "ip-10-0-1-10.eu-central-1.compute.internal",
            "ip-10-0-1-11.eu-central-1.compute.internal"
        ]
    }
}
2025-04-27 14:16:51,049 p=1143431 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-04-27 14:16:53,289 p=1143431 u=reseke n=ansible | ERROR! Unexpected Exception, this is probably a bug: [Errno 32] Broken pipe
2025-04-27 14:16:53,289 p=1143431 u=reseke n=ansible | to see the full traceback, use -vvv
2025-04-27 14:16:53,291 p=1143431 u=reseke n=ansible | the full traceback was:

Traceback (most recent call last):
  File "/home/reseke/.local/lib/python3.10/site-packages/ansible/cli/__init__.py", line 659, in cli_executor
    exit_code = cli.run()
  File "/home/reseke/.local/lib/python3.10/site-packages/ansible/cli/inventory.py", line 148, in run
    display.display(results)
  File "/home/reseke/.local/lib/python3.10/site-packages/ansible/utils/display.py", line 134, in proxyit
    return method(self, *args, **kwargs)
  File "/home/reseke/.local/lib/python3.10/site-packages/ansible/utils/display.py", line 399, in display
    fileobj.write(msg2)
  File "/home/reseke/.local/lib/python3.10/site-packages/ansible/utils/display.py", line 207, in locking_wrapper
    return f(*args, **kwargs)
BrokenPipeError: [Errno 32] Broken pipe

2025-04-27 14:17:54,064 p=1144215 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-04-27 14:17:54,741 p=1144215 u=reseke n=ansible | ERROR! Unexpected Exception, this is probably a bug: [Errno 32] Broken pipe
2025-04-27 14:17:54,741 p=1144215 u=reseke n=ansible | to see the full traceback, use -vvv
2025-04-27 14:17:54,742 p=1144215 u=reseke n=ansible | the full traceback was:

Traceback (most recent call last):
  File "/home/reseke/.local/lib/python3.10/site-packages/ansible/cli/__init__.py", line 659, in cli_executor
    exit_code = cli.run()
  File "/home/reseke/.local/lib/python3.10/site-packages/ansible/cli/inventory.py", line 148, in run
    display.display(results)
  File "/home/reseke/.local/lib/python3.10/site-packages/ansible/utils/display.py", line 134, in proxyit
    return method(self, *args, **kwargs)
  File "/home/reseke/.local/lib/python3.10/site-packages/ansible/utils/display.py", line 399, in display
    fileobj.write(msg2)
  File "/home/reseke/.local/lib/python3.10/site-packages/ansible/utils/display.py", line 207, in locking_wrapper
    return f(*args, **kwargs)
BrokenPipeError: [Errno 32] Broken pipe

2025-04-27 14:18:27,206 p=1144630 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-04-27 14:18:28,087 p=1144630 u=reseke n=ansible | ERROR! Unexpected Exception, this is probably a bug: [Errno 32] Broken pipe
2025-04-27 14:18:28,087 p=1144630 u=reseke n=ansible | to see the full traceback, use -vvv
2025-04-27 14:18:28,088 p=1144630 u=reseke n=ansible | the full traceback was:

Traceback (most recent call last):
  File "/home/reseke/.local/lib/python3.10/site-packages/ansible/cli/__init__.py", line 659, in cli_executor
    exit_code = cli.run()
  File "/home/reseke/.local/lib/python3.10/site-packages/ansible/cli/inventory.py", line 148, in run
    display.display(results)
  File "/home/reseke/.local/lib/python3.10/site-packages/ansible/utils/display.py", line 134, in proxyit
    return method(self, *args, **kwargs)
  File "/home/reseke/.local/lib/python3.10/site-packages/ansible/utils/display.py", line 399, in display
    fileobj.write(msg2)
  File "/home/reseke/.local/lib/python3.10/site-packages/ansible/utils/display.py", line 207, in locking_wrapper
    return f(*args, **kwargs)
BrokenPipeError: [Errno 32] Broken pipe

2025-04-27 14:19:36,208 p=1145476 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-04-27 14:19:37,070 p=1145476 u=reseke n=ansible | ERROR! Unexpected Exception, this is probably a bug: [Errno 32] Broken pipe
2025-04-27 14:19:37,070 p=1145476 u=reseke n=ansible | to see the full traceback, use -vvv
2025-04-27 14:19:37,070 p=1145476 u=reseke n=ansible | the full traceback was:

Traceback (most recent call last):
  File "/home/reseke/.local/lib/python3.10/site-packages/ansible/cli/__init__.py", line 659, in cli_executor
    exit_code = cli.run()
  File "/home/reseke/.local/lib/python3.10/site-packages/ansible/cli/inventory.py", line 148, in run
    display.display(results)
  File "/home/reseke/.local/lib/python3.10/site-packages/ansible/utils/display.py", line 134, in proxyit
    return method(self, *args, **kwargs)
  File "/home/reseke/.local/lib/python3.10/site-packages/ansible/utils/display.py", line 399, in display
    fileobj.write(msg2)
  File "/home/reseke/.local/lib/python3.10/site-packages/ansible/utils/display.py", line 207, in locking_wrapper
    return f(*args, **kwargs)
BrokenPipeError: [Errno 32] Broken pipe

2025-04-27 14:20:18,148 p=1146008 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-04-27 14:20:18,771 p=1146008 u=reseke n=ansible | {
    "_meta": {
        "hostvars": {
            "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.12",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-08146fa00d3cda699"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0cd5bb29c64c30ef2"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250427121017173700000006",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-045198a8311f06991",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-04-27T12:10:18+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "association": {
                            "ip_owner_id": "amazon",
                            "public_dns_name": "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
                            "public_ip": "3.71.199.13"
                        },
                        "attachment": {
                            "attach_time": "2025-04-27T12:10:18+00:00",
                            "attachment_id": "eni-attach-03a885312d7a4d4f1",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-018d43afbc67efa9e",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:c7:e3:a8:28:6b",
                        "network_interface_id": "eni-0b6159ab03eb878e6",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.12",
                        "private_ip_addresses": [
                            {
                                "association": {
                                    "ip_owner_id": "amazon",
                                    "public_dns_name": "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
                                    "public_ip": "3.71.199.13"
                                },
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.12"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0de11b30a06e89571",
                        "vpc_id": "vpc-0f584f0cdf877ae6d"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.12",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
                "public_ip_address": "3.71.199.13",
                "requester_id": "",
                "reservation_id": "r-09e1a776c2412ba73",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-018d43afbc67efa9e",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0de11b30a06e89571",
                "tags": {
                    "Name": "bastion",
                    "Project": "lustre",
                    "Role": "client"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-04-27T12:10:18+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0f584f0cdf877ae6d"
            },
            "ip-10-0-1-10.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.10",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0d7de9e5875def04a"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0f4efd701a9cd88cd"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250427121017173700000007",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0b218437e80321bba",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-04-27T12:10:18+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-04-27T12:10:18+00:00",
                            "attachment_id": "eni-attach-01e642efe9229c3eb",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-018d43afbc67efa9e",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:b6:f5:ab:ee:75",
                        "network_interface_id": "eni-00bd80db860e833ad",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.10",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.10"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0de11b30a06e89571",
                        "vpc_id": "vpc-0f584f0cdf877ae6d"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.10",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-0f75c25e68374d6ac",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-018d43afbc67efa9e",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0de11b30a06e89571",
                "tags": {
                    "Name": "lustre_mgt",
                    "Project": "lustre",
                    "Role": "manager"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-04-27T12:10:18+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0f584f0cdf877ae6d"
            },
            "ip-10-0-1-11.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.11",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0923132bae9fd4a93"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:19+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0824008db098e5d61"
                        }
                    },
                    {
                        "device_name": "/dev/sdz",
                        "ebs": {
                            "attach_time": "2025-04-27T12:10:41.899000+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-005644eca74b71985"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250427121017173900000008",
                "cpu_options": {
                    "core_count": 2,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0ec8faab56e105dc3",
                "instance_type": "t3.xlarge",
                "key_name": "Lustre_Key",
                "launch_time": "2025-04-27T12:10:18+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-04-27T12:10:18+00:00",
                            "attachment_id": "eni-attach-0336ff38c6d300b5c",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-018d43afbc67efa9e",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:bf:c3:ba:19:13",
                        "network_interface_id": "eni-0797d86840e72b9ac",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.11",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.11"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0de11b30a06e89571",
                        "vpc_id": "vpc-0f584f0cdf877ae6d"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.11",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-04d479d53ac7df310",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-018d43afbc67efa9e",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0de11b30a06e89571",
                "tags": {
                    "Name": "lustre_oss",
                    "Project": "lustre",
                    "Role": "storage"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-04-27T12:10:18+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0f584f0cdf877ae6d"
            }
        }
    },
    "all": {
        "children": [
            "ungrouped",
            "aws_ec2"
        ]
    },
    "aws_ec2": {
        "hosts": [
            "ec2-3-71-199-13.eu-central-1.compute.amazonaws.com",
            "ip-10-0-1-10.eu-central-1.compute.internal",
            "ip-10-0-1-11.eu-central-1.compute.internal"
        ]
    }
}
2025-05-02 13:42:07,799 p=1397696 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-02 13:42:18,411 p=1397696 u=reseke n=ansible | {
    "_meta": {
        "hostvars": {
            "ec2-18-194-137-153.eu-central-1.compute.amazonaws.com": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.12",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-05-02T11:40:58+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-013281e0aa93e1ebe"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-05-02T11:40:58+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-08a8c2bf9d2123388"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250502114055937300000005",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0d94bbdc92e2a8d22",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-05-02T11:40:57+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "association": {
                            "ip_owner_id": "amazon",
                            "public_dns_name": "ec2-18-194-137-153.eu-central-1.compute.amazonaws.com",
                            "public_ip": "18.194.137.153"
                        },
                        "attachment": {
                            "attach_time": "2025-05-02T11:40:57+00:00",
                            "attachment_id": "eni-attach-0e5291a7abaca6b3e",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-073dba26991ec9458",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:97:8b:ce:28:5d",
                        "network_interface_id": "eni-03a43c70a02aaf2fb",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.12",
                        "private_ip_addresses": [
                            {
                                "association": {
                                    "ip_owner_id": "amazon",
                                    "public_dns_name": "ec2-18-194-137-153.eu-central-1.compute.amazonaws.com",
                                    "public_ip": "18.194.137.153"
                                },
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.12"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-090506ad894acac8d",
                        "vpc_id": "vpc-0c0a5f256d73e7707"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.12",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "ec2-18-194-137-153.eu-central-1.compute.amazonaws.com",
                "public_ip_address": "18.194.137.153",
                "requester_id": "",
                "reservation_id": "r-074b2a1e77a9475c0",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-073dba26991ec9458",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-090506ad894acac8d",
                "tags": {
                    "Name": "bastion",
                    "Project": "lustre",
                    "Role": "client"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-05-02T11:40:57+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0c0a5f256d73e7707"
            },
            "ip-10-0-1-10.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.10",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-05-02T11:40:58+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-040a2a4e66149d37d"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-05-02T11:40:58+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0c63138f904c402fa"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250502114055937300000004",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0d525e105a5d6e05d",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-05-02T11:40:57+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-05-02T11:40:57+00:00",
                            "attachment_id": "eni-attach-05f25b6ebe2078241",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-073dba26991ec9458",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:2f:35:e6:5d:fd",
                        "network_interface_id": "eni-0cb5e54822323e230",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.10",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.10"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-090506ad894acac8d",
                        "vpc_id": "vpc-0c0a5f256d73e7707"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.10",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-08777468897b35a3f",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-073dba26991ec9458",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-090506ad894acac8d",
                "tags": {
                    "Name": "lustre_mgt",
                    "Project": "lustre",
                    "Role": "manager"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-05-02T11:40:57+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0c0a5f256d73e7707"
            },
            "ip-10-0-1-11.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.11",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-05-02T11:40:58+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0f8b81f600ec1d0b2"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-05-02T11:40:58+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0e41f79835ec7bcc6"
                        }
                    },
                    {
                        "device_name": "/dev/sdz",
                        "ebs": {
                            "attach_time": "2025-05-02T11:41:20.635000+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0797e5b6f274435c4"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250502114055933300000003",
                "cpu_options": {
                    "core_count": 2,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-03893146faca88739",
                "instance_type": "t3.xlarge",
                "key_name": "Lustre_Key",
                "launch_time": "2025-05-02T11:40:57+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-05-02T11:40:57+00:00",
                            "attachment_id": "eni-attach-0f572a9beb7f5958b",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-073dba26991ec9458",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:37:73:01:cb:27",
                        "network_interface_id": "eni-077dcfd0c687e6c20",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.11",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.11"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-090506ad894acac8d",
                        "vpc_id": "vpc-0c0a5f256d73e7707"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.11",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-0ef5225bd0450a824",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-073dba26991ec9458",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-090506ad894acac8d",
                "tags": {
                    "Name": "lustre_oss",
                    "Project": "lustre",
                    "Role": "storage"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-05-02T11:40:57+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-0c0a5f256d73e7707"
            }
        }
    },
    "all": {
        "children": [
            "ungrouped",
            "aws_ec2"
        ]
    },
    "aws_ec2": {
        "hosts": [
            "ip-10-0-1-11.eu-central-1.compute.internal",
            "ip-10-0-1-10.eu-central-1.compute.internal",
            "ec2-18-194-137-153.eu-central-1.compute.amazonaws.com"
        ]
    }
}
2025-05-03 13:56:58,446 p=1439885 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-03 13:56:59,138 p=1439885 u=reseke n=ansible | {
    "_meta": {
        "hostvars": {
            "ec2-18-192-120-81.eu-central-1.compute.amazonaws.com": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.12",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-05-03T11:56:16+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0c500c03a15a829cf"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-05-03T11:56:16+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0547e6c81442c2d37"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250503115614019800000003",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-08260bec8d9423866",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-05-03T11:56:15+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "association": {
                            "ip_owner_id": "amazon",
                            "public_dns_name": "ec2-18-192-120-81.eu-central-1.compute.amazonaws.com",
                            "public_ip": "18.192.120.81"
                        },
                        "attachment": {
                            "attach_time": "2025-05-03T11:56:15+00:00",
                            "attachment_id": "eni-attach-0527097986a39d072",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-0d73e2019228d57b7",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:70:e0:48:af:ef",
                        "network_interface_id": "eni-0cafbc0ca9a0c42a4",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.12",
                        "private_ip_addresses": [
                            {
                                "association": {
                                    "ip_owner_id": "amazon",
                                    "public_dns_name": "ec2-18-192-120-81.eu-central-1.compute.amazonaws.com",
                                    "public_ip": "18.192.120.81"
                                },
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.12"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0d4fb6fd1835952de",
                        "vpc_id": "vpc-03e64273a03a5c32e"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.12",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "ec2-18-192-120-81.eu-central-1.compute.amazonaws.com",
                "public_ip_address": "18.192.120.81",
                "requester_id": "",
                "reservation_id": "r-0239673ccb96269c6",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-0d73e2019228d57b7",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0d4fb6fd1835952de",
                "tags": {
                    "Name": "bastion",
                    "Project": "lustre",
                    "Role": "client"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-05-03T11:56:15+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-03e64273a03a5c32e"
            },
            "ip-10-0-1-10.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.10",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-05-03T11:56:16+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-042e52268cbfc537d"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-05-03T11:56:16+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0ae7d854acb57c8fa"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250503115614023000000004",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-006441653f0d2e332",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-05-03T11:56:15+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-05-03T11:56:15+00:00",
                            "attachment_id": "eni-attach-09403ef3d48affef0",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-0d73e2019228d57b7",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:7e:d4:a8:29:77",
                        "network_interface_id": "eni-07557a478415f68c4",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.10",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.10"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0d4fb6fd1835952de",
                        "vpc_id": "vpc-03e64273a03a5c32e"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.10",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-096a634e0fb5c0a08",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-0d73e2019228d57b7",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0d4fb6fd1835952de",
                "tags": {
                    "Name": "lustre_mgt",
                    "Project": "lustre",
                    "Role": "manager"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-05-03T11:56:15+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-03e64273a03a5c32e"
            },
            "ip-10-0-1-11.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.11",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-05-03T11:56:16+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0dada163304e6c070"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-05-03T11:56:16+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0366cd5cabf4817c7"
                        }
                    },
                    {
                        "device_name": "/dev/sdz",
                        "ebs": {
                            "attach_time": "2025-05-03T11:56:39.636000+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0db822afa889b488b"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250503115614023500000005",
                "cpu_options": {
                    "core_count": 2,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0fa8fe0823f0d673b",
                "instance_type": "t3.xlarge",
                "key_name": "Lustre_Key",
                "launch_time": "2025-05-03T11:56:15+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-05-03T11:56:15+00:00",
                            "attachment_id": "eni-attach-0916b651f233a352e",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-0d73e2019228d57b7",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:21:21:57:d3:61",
                        "network_interface_id": "eni-0da84e1ea6220a290",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.11",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.11"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0d4fb6fd1835952de",
                        "vpc_id": "vpc-03e64273a03a5c32e"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.11",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-0dd9dece62948b997",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-0d73e2019228d57b7",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0d4fb6fd1835952de",
                "tags": {
                    "Name": "lustre_oss",
                    "Project": "lustre",
                    "Role": "storage"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-05-03T11:56:15+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-03e64273a03a5c32e"
            }
        }
    },
    "all": {
        "children": [
            "ungrouped",
            "aws_ec2"
        ]
    },
    "aws_ec2": {
        "hosts": [
            "ip-10-0-1-10.eu-central-1.compute.internal",
            "ec2-18-192-120-81.eu-central-1.compute.amazonaws.com",
            "ip-10-0-1-11.eu-central-1.compute.internal"
        ]
    }
}
2025-05-06 13:49:08,365 p=21510 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-06 13:49:08,998 p=21510 u=reseke n=ansible | {
    "_meta": {
        "hostvars": {}
    },
    "all": {
        "children": [
            "ungrouped",
            "aws_ec2"
        ]
    }
}
2025-05-06 13:50:37,884 p=22680 u=reseke n=ansible | ansible-playbook [core 2.16.14]
  config file = /home/reseke/docker/Terraform_Lustre/ansible.cfg
  configured module search path = ['/home/reseke/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/reseke/.local/lib/python3.10/site-packages/ansible
  ansible collection location = /home/reseke/.ansible/collections:/usr/share/ansible/collections
  executable location = /home/reseke/.local/bin/ansible-playbook
  python version = 3.10.12 (main, Feb  4 2025, 14:57:36) [GCC 11.4.0] (/usr/bin/python3)
  jinja version = 3.0.3
  libyaml = True
2025-05-06 13:50:37,884 p=22680 u=reseke n=ansible | Using /home/reseke/docker/Terraform_Lustre/ansible.cfg as config file
2025-05-06 13:50:41,486 p=22680 u=reseke n=ansible | redirecting (type: inventory) ansible.builtin.aws_ec2 to amazon.aws.aws_ec2
2025-05-06 13:50:41,574 p=22680 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-06 13:50:42,470 p=22680 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-06 13:50:42,477 p=22680 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-06 13:50:42,480 p=22680 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-06 13:50:42,490 p=22680 u=reseke n=ansible | Skipping callback 'default', as we already have a stdout callback.
2025-05-06 13:50:42,491 p=22680 u=reseke n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2025-05-06 13:50:42,491 p=22680 u=reseke n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2025-05-06 13:50:42,492 p=22680 u=reseke n=ansible | PLAYBOOK: playbook.yml *****************************************************************************************************************************************
2025-05-06 13:50:42,492 p=22680 u=reseke n=ansible | 1 plays in ../Terraform_Lustre/playbook.yml
2025-05-06 13:50:42,493 p=22680 u=reseke n=ansible | PLAY [Setup Lustre on test servers] ****************************************************************************************************************************
2025-05-06 13:50:42,500 p=22680 u=reseke n=ansible | TASK [Include vault] *******************************************************************************************************************************************
2025-05-06 13:50:42,532 p=22680 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-06 13:50:42,537 p=22680 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-06 13:50:42,542 p=22680 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-06 13:50:42,545 p=22680 u=reseke n=ansible | TASK [Set_SSH_Vars : Set_fact hostvar of public IP] ************************************************************************************************************
2025-05-06 13:50:42,567 p=22680 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com -> localhost] => (item=ec2-3-72-38-62.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"ec2_public_ip": "3.72.38.62"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-3-72-38-62.eu-central-1.compute.amazonaws.com"}
2025-05-06 13:50:42,571 p=22680 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-06 13:50:42,574 p=22680 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-06 13:50:42,576 p=22680 u=reseke n=ansible | TASK [Set_SSH_Vars : Set bastion_host variable on localhost] ***************************************************************************************************
2025-05-06 13:50:42,594 p=22680 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com -> localhost] => (item=ec2-3-72-38-62.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"bastion_host": "ec2-3-72-38-62.eu-central-1.compute.amazonaws.com"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-3-72-38-62.eu-central-1.compute.amazonaws.com"}
2025-05-06 13:50:42,596 p=22680 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-06 13:50:42,600 p=22680 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-06 13:50:42,604 p=22680 u=reseke n=ansible | TASK [Set_SSH_Vars : Mark ec2 public IP] ***********************************************************************************************************************
2025-05-06 13:50:42,621 p=22680 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "ec2-3-72-38-62.eu-central-1.compute.amazonaws.com The public IP is 3.72.38.62",
        "10.0.1.12 IP to connect with",
        "ec2-3-72-38-62.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-06 13:50:42,625 p=22680 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-10.eu-central-1.compute.internal The public IP is 3.72.38.62",
        "10.0.1.10 IP to connect with",
        "ec2-3-72-38-62.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-06 13:50:42,629 p=22680 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-11.eu-central-1.compute.internal The public IP is 3.72.38.62",
        "10.0.1.11 IP to connect with",
        "ec2-3-72-38-62.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-06 13:50:42,632 p=22680 u=reseke n=ansible | TASK [Set_SSH_Vars : Make sure bastion uses public IP] *********************************************************************************************************
2025-05-06 13:50:42,647 p=22680 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com -> localhost] => {"ansible_facts": {"ansible_host": "3.72.38.62"}, "changed": false}
2025-05-06 13:50:42,647 p=22680 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 13:50:42,651 p=22680 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 13:50:42,654 p=22680 u=reseke n=ansible | TASK [Set_SSH_Vars : Set SSH ProxyCommand for Specific Hosts] **************************************************************************************************
2025-05-06 13:50:42,673 p=22680 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 13:50:42,677 p=22680 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.72.38.62\""}, "changed": false}
2025-05-06 13:50:42,681 p=22680 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.72.38.62\""}, "changed": false}
2025-05-06 13:50:42,688 p=22680 u=reseke n=ansible | TASK [Copy ssh-key to non-bastion hosts] ***********************************************************************************************************************
2025-05-06 13:50:42,716 p=22680 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 13:50:55,728 p=22680 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-06 13:50:55,728 p=22680 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-06 13:50:55,729 p=22680 u=reseke n=ansible | TASK [Print Public IP Address] *********************************************************************************************************************************
2025-05-06 13:50:55,742 p=22680 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Public IP of ec2-3-72-38-62.eu-central-1.compute.amazonaws.com is 3.72.38.62",
        "Ansible Play hosts ['ec2-3-72-38-62.eu-central-1.compute.amazonaws.com', 'ip-10-0-1-10.eu-central-1.compute.internal', 'ip-10-0-1-11.eu-central-1.compute.internal']",
        "Ansible Private_ip_address 10.0.1.12"
    ]
}
2025-05-06 13:50:55,746 p=22680 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-10.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ec2-3-72-38-62.eu-central-1.compute.amazonaws.com', 'ip-10-0-1-10.eu-central-1.compute.internal', 'ip-10-0-1-11.eu-central-1.compute.internal']",
        "Ansible Private_ip_address 10.0.1.10"
    ]
}
2025-05-06 13:50:55,754 p=22680 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-11.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ec2-3-72-38-62.eu-central-1.compute.amazonaws.com', 'ip-10-0-1-10.eu-central-1.compute.internal', 'ip-10-0-1-11.eu-central-1.compute.internal']",
        "Ansible Private_ip_address 10.0.1.11"
    ]
}
2025-05-06 13:50:55,756 p=22680 u=reseke n=ansible | TASK [Print SSH connection] ************************************************************************************************************************************
2025-05-06 13:50:55,774 p=22680 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {
    "msg": "Connecting to ec2-3-72-38-62.eu-central-1.compute.amazonaws.com via 3.72.38.62 using No SSH args set"
}
2025-05-06 13:50:55,780 p=22680 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-10.eu-central-1.compute.internal via 10.0.1.10 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.72.38.62\""
}
2025-05-06 13:50:55,784 p=22680 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-11.eu-central-1.compute.internal via 10.0.1.11 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.72.38.62\""
}
2025-05-06 13:50:55,787 p=22680 u=reseke n=ansible | TASK [Add in the DNF update and install role] ******************************************************************************************************************
2025-05-06 13:50:55,829 p=22680 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-06 13:50:55,842 p=22680 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Ansible Host from DNF role: 3.72.38.62"
    ]
}
2025-05-06 13:50:55,845 p=22680 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.10"
    ]
}
2025-05-06 13:50:55,852 p=22680 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.11"
    ]
}
2025-05-06 13:50:55,854 p=22680 u=reseke n=ansible | TASK [Dnf_access_install : Install squid proxy on bastion] *****************************************************************************************************
2025-05-06 13:50:55,872 p=22680 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 13:50:55,876 p=22680 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 13:51:18,938 p=22680 u=reseke n=ansible | changed: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"pkg_mgr": "dnf"}, "changed": true, "msg": "", "rc": 0, "results": ["Installed: libtool-ltdl-2.4.6-25.el8.x86_64", "Installed: squid-7:4.15-10.module_el8.10.0+3953+e1d43bfb.5.x86_64", "Installed: perl-DBI-1.641-4.module_el8.6.0+2823+173faa7e.x86_64", "Installed: libecap-1.0.1-2.module_el8.6.0+2741+01592ae8.x86_64"]}
2025-05-06 13:51:18,947 p=22680 u=reseke n=ansible | TASK [Dnf_access_install : define squi.conf] *******************************************************************************************************************
2025-05-06 13:51:18,984 p=22680 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 13:51:18,991 p=22680 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 13:51:23,688 p=22680 u=reseke n=ansible | changed: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": true, "checksum": "f673c76b3dbcf83cb7aed48af68c42377a95ae0c", "dest": "/etc/squid/squid.conf", "gid": 23, "group": "squid", "md5sum": "c9e7e6ade5c70753847d1f2b4fa092d1", "mode": "0640", "owner": "root", "secontext": "system_u:object_r:squid_conf_t:s0", "size": 224, "src": "/home/ec2-user/.ansible/tmp/ansible-tmp-1746532279.124857-23219-2698869118420/source", "state": "file", "uid": 0}
2025-05-06 13:51:23,696 p=22680 u=reseke n=ansible | TASK [Dnf_access_install : Run command to enable squid] ********************************************************************************************************
2025-05-06 13:51:23,732 p=22680 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 13:51:23,737 p=22680 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 13:51:26,977 p=22680 u=reseke n=ansible | changed: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": ["sudo", "systemctl", "enable", "--now", "squid"], "delta": "0:00:00.416195", "end": "2025-05-06 11:51:26.560017", "msg": "", "rc": 0, "start": "2025-05-06 11:51:26.143822", "stderr": "Created symlink /etc/systemd/system/multi-user.target.wants/squid.service  /usr/lib/systemd/system/squid.service.", "stderr_lines": ["Created symlink /etc/systemd/system/multi-user.target.wants/squid.service  /usr/lib/systemd/system/squid.service."], "stdout": "", "stdout_lines": []}
2025-05-06 13:51:26,979 p=22680 u=reseke n=ansible | TASK [Dnf_access_install : set bastion ip address for the other servers] ***************************************************************************************
2025-05-06 13:51:26,991 p=22680 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"bastion_ip": "3.72.38.62"}, "changed": false}
2025-05-06 13:51:26,992 p=22680 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 13:51:26,996 p=22680 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 13:51:26,999 p=22680 u=reseke n=ansible | TASK [Dnf_access_install : Add proxy data to dnf.config to other servers] **************************************************************************************
2025-05-06 13:51:27,020 p=22680 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 13:51:29,644 p=22680 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"backup": "", "changed": true, "msg": "line added"}
2025-05-06 13:51:29,764 p=22680 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"backup": "", "changed": true, "msg": "line added"}
2025-05-06 13:51:29,773 p=22680 u=reseke n=ansible | TASK [Dnf_access_install : Get Python version] *****************************************************************************************************************
2025-05-06 13:51:31,575 p=22680 u=reseke n=ansible | changed: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.009693", "end": "2025-05-06 11:51:31.340068", "msg": "", "rc": 0, "start": "2025-05-06 11:51:31.330375", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-06 13:51:32,325 p=22680 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.010200", "end": "2025-05-06 11:51:31.814188", "msg": "", "rc": 0, "start": "2025-05-06 11:51:31.803988", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-06 13:51:32,361 p=22680 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.015010", "end": "2025-05-06 11:51:32.033280", "msg": "", "rc": 0, "start": "2025-05-06 11:51:32.018270", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-06 13:51:32,365 p=22680 u=reseke n=ansible | TASK [Dnf_access_install : cat dnf.conf] ***********************************************************************************************************************
2025-05-06 13:51:34,226 p=22680 u=reseke n=ansible | changed: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.007649", "end": "2025-05-06 11:51:33.964037", "msg": "", "rc": 0, "start": "2025-05-06 11:51:33.956388", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"]}
2025-05-06 13:51:34,536 p=22680 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.006518", "end": "2025-05-06 11:51:34.182293", "msg": "", "rc": 0, "start": "2025-05-06 11:51:34.175775", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-06 13:51:34,821 p=22680 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.006881", "end": "2025-05-06 11:51:34.454991", "msg": "", "rc": 0, "start": "2025-05-06 11:51:34.448110", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-06 13:51:34,830 p=22680 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-06 13:51:34,864 p=22680 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"
    ]
}
2025-05-06 13:51:34,869 p=22680 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-06 13:51:34,876 p=22680 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-06 13:51:34,878 p=22680 u=reseke n=ansible | TASK [Dnf_access_install : Install common packages] ************************************************************************************************************
2025-05-06 13:51:52,014 p=22680 u=reseke n=ansible | changed: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"ansible_job_id": "j282276025671.4180", "changed": true, "finished": 1, "msg": "", "rc": 0, "results": ["Installed: pciutils-3.7.0-3.el8.x86_64"], "results_file": "/root/.ansible_async/j282276025671.4180", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-06 13:56:47,659 p=22680 u=reseke n=ansible | fatal: [ip-10-0-1-11.eu-central-1.compute.internal]: FAILED! => {"ansible_job_id": "j675626822495.1721", "changed": false, "child_pid": 1725, "finished": 1, "msg": "Timeout exceeded", "results_file": "/root/.ansible_async/j675626822495.1721", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-06 13:56:55,688 p=22680 u=reseke n=ansible | fatal: [ip-10-0-1-10.eu-central-1.compute.internal]: FAILED! => {"ansible_job_id": "j197754990056.1689", "changed": false, "child_pid": 1693, "finished": 1, "msg": "Timeout exceeded", "results_file": "/root/.ansible_async/j197754990056.1689", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-06 13:56:55,689 p=22680 u=reseke n=ansible | NO MORE HOSTS LEFT *********************************************************************************************************************************************
2025-05-06 13:56:55,691 p=22680 u=reseke n=ansible | PLAY RECAP *****************************************************************************************************************************************************
2025-05-06 13:56:55,692 p=22680 u=reseke n=ansible | ec2-3-72-38-62.eu-central-1.compute.amazonaws.com : ok=16   changed=6    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2025-05-06 13:56:55,692 p=22680 u=reseke n=ansible | ip-10-0-1-10.eu-central-1.compute.internal : ok=11   changed=3    unreachable=0    failed=1    skipped=5    rescued=0    ignored=0   
2025-05-06 13:56:55,692 p=22680 u=reseke n=ansible | ip-10-0-1-11.eu-central-1.compute.internal : ok=11   changed=3    unreachable=0    failed=1    skipped=5    rescued=0    ignored=0   
2025-05-06 14:06:02,160 p=34071 u=reseke n=ansible | ansible-playbook [core 2.16.14]
  config file = /home/reseke/docker/Terraform_Lustre/ansible.cfg
  configured module search path = ['/home/reseke/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/reseke/.local/lib/python3.10/site-packages/ansible
  ansible collection location = /home/reseke/.ansible/collections:/usr/share/ansible/collections
  executable location = /home/reseke/.local/bin/ansible-playbook
  python version = 3.10.12 (main, Feb  4 2025, 14:57:36) [GCC 11.4.0] (/usr/bin/python3)
  jinja version = 3.0.3
  libyaml = True
2025-05-06 14:06:02,160 p=34071 u=reseke n=ansible | Using /home/reseke/docker/Terraform_Lustre/ansible.cfg as config file
2025-05-06 14:06:05,301 p=34071 u=reseke n=ansible | redirecting (type: inventory) ansible.builtin.aws_ec2 to amazon.aws.aws_ec2
2025-05-06 14:06:05,385 p=34071 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-06 14:06:13,560 p=34071 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-06 14:06:13,567 p=34071 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-06 14:06:13,570 p=34071 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-06 14:06:13,579 p=34071 u=reseke n=ansible | Skipping callback 'default', as we already have a stdout callback.
2025-05-06 14:06:13,579 p=34071 u=reseke n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2025-05-06 14:06:13,579 p=34071 u=reseke n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2025-05-06 14:06:13,579 p=34071 u=reseke n=ansible | PLAYBOOK: playbook.yml *****************************************************************************************************************************************
2025-05-06 14:06:13,579 p=34071 u=reseke n=ansible | 1 plays in ../Terraform_Lustre/playbook.yml
2025-05-06 14:06:13,581 p=34071 u=reseke n=ansible | PLAY [Setup Lustre on test servers] ****************************************************************************************************************************
2025-05-06 14:06:13,588 p=34071 u=reseke n=ansible | TASK [Include vault] *******************************************************************************************************************************************
2025-05-06 14:06:13,620 p=34071 u=reseke n=ansible | fatal: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com]: FAILED! => {"ansible_facts": {}, "ansible_included_var_files": [], "changed": false, "message": "Decryption failed (no vault secrets were found that could decrypt) on /home/reseke/docker/Terraform_Lustre/Terraform_Vault"}
2025-05-06 14:06:13,622 p=34071 u=reseke n=ansible | fatal: [ip-10-0-1-10.eu-central-1.compute.internal]: FAILED! => {"ansible_facts": {}, "ansible_included_var_files": [], "changed": false, "message": "Decryption failed (no vault secrets were found that could decrypt) on /home/reseke/docker/Terraform_Lustre/Terraform_Vault"}
2025-05-06 14:06:13,629 p=34071 u=reseke n=ansible | fatal: [ip-10-0-1-11.eu-central-1.compute.internal]: FAILED! => {"ansible_facts": {}, "ansible_included_var_files": [], "changed": false, "message": "Decryption failed (no vault secrets were found that could decrypt) on /home/reseke/docker/Terraform_Lustre/Terraform_Vault"}
2025-05-06 14:06:13,630 p=34071 u=reseke n=ansible | NO MORE HOSTS LEFT *********************************************************************************************************************************************
2025-05-06 14:06:13,631 p=34071 u=reseke n=ansible | PLAY RECAP *****************************************************************************************************************************************************
2025-05-06 14:06:13,631 p=34071 u=reseke n=ansible | ec2-3-72-38-62.eu-central-1.compute.amazonaws.com : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-06 14:06:13,631 p=34071 u=reseke n=ansible | ip-10-0-1-10.eu-central-1.compute.internal : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-06 14:06:13,631 p=34071 u=reseke n=ansible | ip-10-0-1-11.eu-central-1.compute.internal : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-06 14:06:17,450 p=34266 u=reseke n=ansible | ansible-playbook [core 2.16.14]
  config file = /home/reseke/docker/Terraform_Lustre/ansible.cfg
  configured module search path = ['/home/reseke/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/reseke/.local/lib/python3.10/site-packages/ansible
  ansible collection location = /home/reseke/.ansible/collections:/usr/share/ansible/collections
  executable location = /home/reseke/.local/bin/ansible-playbook
  python version = 3.10.12 (main, Feb  4 2025, 14:57:36) [GCC 11.4.0] (/usr/bin/python3)
  jinja version = 3.0.3
  libyaml = True
2025-05-06 14:06:17,450 p=34266 u=reseke n=ansible | Using /home/reseke/docker/Terraform_Lustre/ansible.cfg as config file
2025-05-06 14:06:20,582 p=34266 u=reseke n=ansible | redirecting (type: inventory) ansible.builtin.aws_ec2 to amazon.aws.aws_ec2
2025-05-06 14:06:20,666 p=34266 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-06 14:06:26,570 p=34266 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-06 14:06:26,577 p=34266 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-06 14:06:26,580 p=34266 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-06 14:06:26,588 p=34266 u=reseke n=ansible | Skipping callback 'default', as we already have a stdout callback.
2025-05-06 14:06:26,589 p=34266 u=reseke n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2025-05-06 14:06:26,589 p=34266 u=reseke n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2025-05-06 14:06:26,589 p=34266 u=reseke n=ansible | PLAYBOOK: playbook.yml *****************************************************************************************************************************************
2025-05-06 14:06:26,589 p=34266 u=reseke n=ansible | 1 plays in ../Terraform_Lustre/playbook.yml
2025-05-06 14:06:26,590 p=34266 u=reseke n=ansible | PLAY [Setup Lustre on test servers] ****************************************************************************************************************************
2025-05-06 14:06:26,599 p=34266 u=reseke n=ansible | TASK [Include vault] *******************************************************************************************************************************************
2025-05-06 14:06:26,628 p=34266 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-06 14:06:26,634 p=34266 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-06 14:06:26,639 p=34266 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-06 14:06:26,643 p=34266 u=reseke n=ansible | TASK [Set_SSH_Vars : Set_fact hostvar of public IP] ************************************************************************************************************
2025-05-06 14:06:26,659 p=34266 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com -> localhost] => (item=ec2-3-72-38-62.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"ec2_public_ip": "3.72.38.62"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-3-72-38-62.eu-central-1.compute.amazonaws.com"}
2025-05-06 14:06:26,663 p=34266 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-06 14:06:26,666 p=34266 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-06 14:06:26,669 p=34266 u=reseke n=ansible | TASK [Set_SSH_Vars : Set bastion_host variable on localhost] ***************************************************************************************************
2025-05-06 14:06:26,686 p=34266 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com -> localhost] => (item=ec2-3-72-38-62.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"bastion_host": "ec2-3-72-38-62.eu-central-1.compute.amazonaws.com"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-3-72-38-62.eu-central-1.compute.amazonaws.com"}
2025-05-06 14:06:26,687 p=34266 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-06 14:06:26,689 p=34266 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-06 14:06:26,691 p=34266 u=reseke n=ansible | TASK [Set_SSH_Vars : Mark ec2 public IP] ***********************************************************************************************************************
2025-05-06 14:06:26,708 p=34266 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "ec2-3-72-38-62.eu-central-1.compute.amazonaws.com The public IP is 3.72.38.62",
        "10.0.1.12 IP to connect with",
        "ec2-3-72-38-62.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-06 14:06:26,711 p=34266 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-10.eu-central-1.compute.internal The public IP is 3.72.38.62",
        "10.0.1.10 IP to connect with",
        "ec2-3-72-38-62.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-06 14:06:26,715 p=34266 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-11.eu-central-1.compute.internal The public IP is 3.72.38.62",
        "10.0.1.11 IP to connect with",
        "ec2-3-72-38-62.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-06 14:06:26,716 p=34266 u=reseke n=ansible | TASK [Set_SSH_Vars : Make sure bastion uses public IP] *********************************************************************************************************
2025-05-06 14:06:26,739 p=34266 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com -> localhost] => {"ansible_facts": {"ansible_host": "3.72.38.62"}, "changed": false}
2025-05-06 14:06:26,740 p=34266 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:06:26,743 p=34266 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:06:26,745 p=34266 u=reseke n=ansible | TASK [Set_SSH_Vars : Set SSH ProxyCommand for Specific Hosts] **************************************************************************************************
2025-05-06 14:06:26,760 p=34266 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:06:26,765 p=34266 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.72.38.62\""}, "changed": false}
2025-05-06 14:06:26,773 p=34266 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.72.38.62\""}, "changed": false}
2025-05-06 14:06:26,777 p=34266 u=reseke n=ansible | TASK [Copy ssh-key to non-bastion hosts] ***********************************************************************************************************************
2025-05-06 14:06:26,799 p=34266 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:06:32,634 p=34266 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-06 14:06:32,824 p=34266 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-06 14:06:32,828 p=34266 u=reseke n=ansible | TASK [Print Public IP Address] *********************************************************************************************************************************
2025-05-06 14:06:32,869 p=34266 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Public IP of ec2-3-72-38-62.eu-central-1.compute.amazonaws.com is 3.72.38.62",
        "Ansible Play hosts ['ec2-3-72-38-62.eu-central-1.compute.amazonaws.com', 'ip-10-0-1-10.eu-central-1.compute.internal', 'ip-10-0-1-11.eu-central-1.compute.internal']",
        "Ansible Private_ip_address 10.0.1.12"
    ]
}
2025-05-06 14:06:32,874 p=34266 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-10.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ec2-3-72-38-62.eu-central-1.compute.amazonaws.com', 'ip-10-0-1-10.eu-central-1.compute.internal', 'ip-10-0-1-11.eu-central-1.compute.internal']",
        "Ansible Private_ip_address 10.0.1.10"
    ]
}
2025-05-06 14:06:32,879 p=34266 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-11.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ec2-3-72-38-62.eu-central-1.compute.amazonaws.com', 'ip-10-0-1-10.eu-central-1.compute.internal', 'ip-10-0-1-11.eu-central-1.compute.internal']",
        "Ansible Private_ip_address 10.0.1.11"
    ]
}
2025-05-06 14:06:32,880 p=34266 u=reseke n=ansible | TASK [Print SSH connection] ************************************************************************************************************************************
2025-05-06 14:06:32,899 p=34266 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {
    "msg": "Connecting to ec2-3-72-38-62.eu-central-1.compute.amazonaws.com via 3.72.38.62 using No SSH args set"
}
2025-05-06 14:06:32,903 p=34266 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-10.eu-central-1.compute.internal via 10.0.1.10 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.72.38.62\""
}
2025-05-06 14:06:32,908 p=34266 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-11.eu-central-1.compute.internal via 10.0.1.11 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.72.38.62\""
}
2025-05-06 14:06:32,910 p=34266 u=reseke n=ansible | TASK [Add in the DNF update and install role] ******************************************************************************************************************
2025-05-06 14:06:32,949 p=34266 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-06 14:06:32,960 p=34266 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Ansible Host from DNF role: 3.72.38.62"
    ]
}
2025-05-06 14:06:32,963 p=34266 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.10"
    ]
}
2025-05-06 14:06:32,968 p=34266 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.11"
    ]
}
2025-05-06 14:06:32,972 p=34266 u=reseke n=ansible | TASK [Dnf_access_install : Install squid proxy on bastion] *****************************************************************************************************
2025-05-06 14:06:32,991 p=34266 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:06:32,995 p=34266 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:06:40,871 p=34266 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"pkg_mgr": "dnf"}, "changed": false, "msg": "Nothing to do", "rc": 0, "results": []}
2025-05-06 14:06:40,879 p=34266 u=reseke n=ansible | TASK [Dnf_access_install : define squi.conf] *******************************************************************************************************************
2025-05-06 14:06:40,922 p=34266 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:06:40,927 p=34266 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:06:44,429 p=34266 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": false, "checksum": "f673c76b3dbcf83cb7aed48af68c42377a95ae0c", "dest": "/etc/squid/squid.conf", "gid": 23, "group": "squid", "mode": "0640", "owner": "root", "path": "/etc/squid/squid.conf", "secontext": "system_u:object_r:squid_conf_t:s0", "size": 224, "state": "file", "uid": 0}
2025-05-06 14:06:44,437 p=34266 u=reseke n=ansible | TASK [Dnf_access_install : Run command to enable squid] ********************************************************************************************************
2025-05-06 14:06:44,457 p=34266 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:06:44,464 p=34266 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:06:46,996 p=34266 u=reseke n=ansible | changed: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": ["sudo", "systemctl", "enable", "--now", "squid"], "delta": "0:00:00.256277", "end": "2025-05-06 12:06:46.530976", "msg": "", "rc": 0, "start": "2025-05-06 12:06:46.274699", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-06 14:06:47,002 p=34266 u=reseke n=ansible | TASK [Dnf_access_install : set bastion ip address for the other servers] ***************************************************************************************
2025-05-06 14:06:47,040 p=34266 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:06:47,041 p=34266 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"bastion_ip": "3.72.38.62"}, "changed": false}
2025-05-06 14:06:47,048 p=34266 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:06:47,051 p=34266 u=reseke n=ansible | TASK [Dnf_access_install : Add proxy data to dnf.config to other servers] **************************************************************************************
2025-05-06 14:06:47,069 p=34266 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:06:49,465 p=34266 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"backup": "", "changed": false, "msg": ""}
2025-05-06 14:06:49,467 p=34266 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"backup": "", "changed": false, "msg": ""}
2025-05-06 14:06:49,474 p=34266 u=reseke n=ansible | TASK [Dnf_access_install : Get Python version] *****************************************************************************************************************
2025-05-06 14:06:51,349 p=34266 u=reseke n=ansible | changed: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.009675", "end": "2025-05-06 12:06:51.112423", "msg": "", "rc": 0, "start": "2025-05-06 12:06:51.102748", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-06 14:06:51,743 p=34266 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.014417", "end": "2025-05-06 12:06:51.425454", "msg": "", "rc": 0, "start": "2025-05-06 12:06:51.411037", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-06 14:06:51,745 p=34266 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.009163", "end": "2025-05-06 12:06:51.390836", "msg": "", "rc": 0, "start": "2025-05-06 12:06:51.381673", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-06 14:06:51,751 p=34266 u=reseke n=ansible | TASK [Dnf_access_install : cat dnf.conf] ***********************************************************************************************************************
2025-05-06 14:06:53,717 p=34266 u=reseke n=ansible | changed: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.006986", "end": "2025-05-06 12:06:53.458648", "msg": "", "rc": 0, "start": "2025-05-06 12:06:53.451662", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"]}
2025-05-06 14:06:53,902 p=34266 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.005657", "end": "2025-05-06 12:06:53.595450", "msg": "", "rc": 0, "start": "2025-05-06 12:06:53.589793", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-06 14:06:53,942 p=34266 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.008751", "end": "2025-05-06 12:06:53.626268", "msg": "", "rc": 0, "start": "2025-05-06 12:06:53.617517", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-06 14:06:53,950 p=34266 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-06 14:06:53,983 p=34266 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"
    ]
}
2025-05-06 14:06:53,989 p=34266 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-06 14:06:53,996 p=34266 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-06 14:06:53,998 p=34266 u=reseke n=ansible | TASK [Dnf_access_install : Install common packages] ************************************************************************************************************
2025-05-06 14:07:10,511 p=34266 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"ansible_job_id": "j336264882539.5624", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j336264882539.5624", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-06 14:07:26,620 p=34266 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_job_id": "j757757705709.5103", "changed": true, "finished": 1, "msg": "", "rc": 0, "results": ["Installed: pciutils-3.7.0-3.el8.x86_64"], "results_file": "/root/.ansible_async/j757757705709.5103", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-06 14:07:38,537 p=34266 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_job_id": "j534517601568.5138", "changed": true, "finished": 1, "msg": "", "rc": 0, "results": ["Installed: pciutils-3.7.0-3.el8.x86_64"], "results_file": "/root/.ansible_async/j534517601568.5138", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-06 14:07:38,540 p=34266 u=reseke n=ansible | TASK [Print ZFS Status] ****************************************************************************************************************************************
2025-05-06 14:07:40,486 p=34266 u=reseke n=ansible | changed: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.012571", "end": "2025-05-06 12:07:40.254196", "msg": "", "rc": 0, "start": "2025-05-06 12:07:40.241625", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk "]}
2025-05-06 14:07:40,903 p=34266 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.013858", "end": "2025-05-06 12:07:40.560685", "msg": "", "rc": 0, "start": "2025-05-06 12:07:40.546827", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:0    0   30G  0 disk ", "stdout_lines": ["nvme1n1     259:0    0   30G  0 disk "]}
2025-05-06 14:07:40,904 p=34266 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.013030", "end": "2025-05-06 12:07:40.607994", "msg": "", "rc": 0, "start": "2025-05-06 12:07:40.594964", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk \nnvme2n1     259:6    0  500G  0 disk ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk ", "nvme2n1     259:6    0  500G  0 disk "]}
2025-05-06 14:07:40,910 p=34266 u=reseke n=ansible | TASK [Is zfs on the systems? No, but here is the lsblk info] ***************************************************************************************************
2025-05-06 14:07:40,938 p=34266 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-06 12:07:40.241625', 'end': '2025-05-06 12:07:40.254196', 'delta': '0:00:00.012571', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-06 14:07:40,941 p=34266 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:0    0   30G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-06 12:07:40.546827', 'end': '2025-05-06 12:07:40.560685', 'delta': '0:00:00.013858', 'msg': '', 'stdout_lines': ['nvme1n1     259:0    0   30G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-06 14:07:40,948 p=34266 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk \\nnvme2n1     259:6    0  500G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-06 12:07:40.594964', 'end': '2025-05-06 12:07:40.607994', 'delta': '0:00:00.013030', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk ', 'nvme2n1     259:6    0  500G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-06 14:07:40,950 p=34266 u=reseke n=ansible | TASK [Create mound point for data scratch drive] ***************************************************************************************************************
2025-05-06 14:07:43,167 p=34266 u=reseke n=ansible | changed: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/data", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-06 14:07:43,378 p=34266 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/data", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-06 14:07:43,661 p=34266 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/data", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-06 14:07:43,667 p=34266 u=reseke n=ansible | TASK [Create File System] **************************************************************************************************************************************
2025-05-06 14:07:43,701 p=34266 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-06 14:07:43,708 p=34266 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-06 14:07:43,715 p=34266 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-06 14:07:44,066 p=34266 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-06 14:07:44,177 p=34266 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-06 14:07:44,177 p=34266 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-06 14:07:46,344 p=34266 u=reseke n=ansible | changed: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": true}
2025-05-06 14:07:46,461 p=34266 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true}
2025-05-06 14:07:46,461 p=34266 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true}
2025-05-06 14:07:46,468 p=34266 u=reseke n=ansible | TASK [Mount File System] ***************************************************************************************************************************************
2025-05-06 14:07:46,501 p=34266 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-06 14:07:46,509 p=34266 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-06 14:07:46,515 p=34266 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-06 14:07:47,022 p=34266 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-06 14:07:47,109 p=34266 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-06 14:07:47,258 p=34266 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-06 14:07:49,062 p=34266 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"backup_file": "", "boot": "yes", "changed": true, "dump": "0", "fstab": "/etc/fstab", "fstype": "ext4", "name": "/mnt/data", "opts": "defaults", "passno": "0", "src": "/dev/nvme1n1"}
2025-05-06 14:07:49,742 p=34266 u=reseke n=ansible | changed: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"backup_file": "", "boot": "yes", "changed": true, "dump": "0", "fstab": "/etc/fstab", "fstype": "ext4", "name": "/mnt/data", "opts": "defaults", "passno": "0", "src": "/dev/nvme1n1"}
2025-05-06 14:07:50,097 p=34266 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"backup_file": "", "boot": "yes", "changed": true, "dump": "0", "fstab": "/etc/fstab", "fstype": "ext4", "name": "/mnt/data", "opts": "defaults", "passno": "0", "src": "/dev/nvme1n1"}
2025-05-06 14:07:50,099 p=34266 u=reseke n=ansible | TASK [Create mound point for OSS server] ***********************************************************************************************************************
2025-05-06 14:07:50,113 p=34266 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-06 14:07:50,113 p=34266 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-06 14:07:50,124 p=34266 u=reseke n=ansible | fatal: [ip-10-0-1-11.eu-central-1.compute.internal]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'luster_point' is undefined. 'luster_point' is undefined\n\nThe error appears to be in '/home/reseke/docker/Terraform_Lustre/playbook.yml': line 111, column 11, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n      block:\n        - name: Create mound point for OSS server\n          ^ here\n"}
2025-05-06 14:07:50,125 p=34266 u=reseke n=ansible | NO MORE HOSTS LEFT *********************************************************************************************************************************************
2025-05-06 14:07:50,125 p=34266 u=reseke n=ansible | PLAY RECAP *****************************************************************************************************************************************************
2025-05-06 14:07:50,126 p=34266 u=reseke n=ansible | ec2-3-72-38-62.eu-central-1.compute.amazonaws.com : ok=21   changed=7    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   
2025-05-06 14:07:50,126 p=34266 u=reseke n=ansible | ip-10-0-1-10.eu-central-1.compute.internal : ok=17   changed=7    unreachable=0    failed=0    skipped=6    rescued=0    ignored=0   
2025-05-06 14:07:50,126 p=34266 u=reseke n=ansible | ip-10-0-1-11.eu-central-1.compute.internal : ok=17   changed=7    unreachable=0    failed=1    skipped=5    rescued=0    ignored=0   
2025-05-06 14:08:28,567 p=36279 u=reseke n=ansible | ansible-playbook [core 2.16.14]
  config file = /home/reseke/docker/Terraform_Lustre/ansible.cfg
  configured module search path = ['/home/reseke/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/reseke/.local/lib/python3.10/site-packages/ansible
  ansible collection location = /home/reseke/.ansible/collections:/usr/share/ansible/collections
  executable location = /home/reseke/.local/bin/ansible-playbook
  python version = 3.10.12 (main, Feb  4 2025, 14:57:36) [GCC 11.4.0] (/usr/bin/python3)
  jinja version = 3.0.3
  libyaml = True
2025-05-06 14:08:28,567 p=36279 u=reseke n=ansible | Using /home/reseke/docker/Terraform_Lustre/ansible.cfg as config file
2025-05-06 14:08:31,400 p=36279 u=reseke n=ansible | redirecting (type: inventory) ansible.builtin.aws_ec2 to amazon.aws.aws_ec2
2025-05-06 14:08:31,488 p=36279 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-06 14:08:32,415 p=36279 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-06 14:08:32,422 p=36279 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-06 14:08:32,425 p=36279 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.zfs to community.general.zfs
2025-05-06 14:08:32,427 p=36279 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-06 14:08:32,436 p=36279 u=reseke n=ansible | Skipping callback 'default', as we already have a stdout callback.
2025-05-06 14:08:32,436 p=36279 u=reseke n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2025-05-06 14:08:32,436 p=36279 u=reseke n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2025-05-06 14:08:32,436 p=36279 u=reseke n=ansible | PLAYBOOK: playbook.yml *****************************************************************************************************************************************
2025-05-06 14:08:32,437 p=36279 u=reseke n=ansible | 1 plays in ../Terraform_Lustre/playbook.yml
2025-05-06 14:08:32,438 p=36279 u=reseke n=ansible | PLAY [Setup Lustre on test servers] ****************************************************************************************************************************
2025-05-06 14:08:32,444 p=36279 u=reseke n=ansible | TASK [Include vault] *******************************************************************************************************************************************
2025-05-06 14:08:32,475 p=36279 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-06 14:08:32,481 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-06 14:08:32,486 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-06 14:08:32,488 p=36279 u=reseke n=ansible | TASK [Set_SSH_Vars : Set_fact hostvar of public IP] ************************************************************************************************************
2025-05-06 14:08:32,509 p=36279 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com -> localhost] => (item=ec2-3-72-38-62.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"ec2_public_ip": "3.72.38.62"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-3-72-38-62.eu-central-1.compute.amazonaws.com"}
2025-05-06 14:08:32,515 p=36279 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-06 14:08:32,518 p=36279 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-06 14:08:32,519 p=36279 u=reseke n=ansible | TASK [Set_SSH_Vars : Set bastion_host variable on localhost] ***************************************************************************************************
2025-05-06 14:08:32,537 p=36279 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com -> localhost] => (item=ec2-3-72-38-62.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"bastion_host": "ec2-3-72-38-62.eu-central-1.compute.amazonaws.com"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-3-72-38-62.eu-central-1.compute.amazonaws.com"}
2025-05-06 14:08:32,539 p=36279 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-06 14:08:32,541 p=36279 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-06 14:08:32,546 p=36279 u=reseke n=ansible | TASK [Set_SSH_Vars : Mark ec2 public IP] ***********************************************************************************************************************
2025-05-06 14:08:32,560 p=36279 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "ec2-3-72-38-62.eu-central-1.compute.amazonaws.com The public IP is 3.72.38.62",
        "10.0.1.12 IP to connect with",
        "ec2-3-72-38-62.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-06 14:08:32,566 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-10.eu-central-1.compute.internal The public IP is 3.72.38.62",
        "10.0.1.10 IP to connect with",
        "ec2-3-72-38-62.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-06 14:08:32,572 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-11.eu-central-1.compute.internal The public IP is 3.72.38.62",
        "10.0.1.11 IP to connect with",
        "ec2-3-72-38-62.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-06 14:08:32,573 p=36279 u=reseke n=ansible | TASK [Set_SSH_Vars : Make sure bastion uses public IP] *********************************************************************************************************
2025-05-06 14:08:32,590 p=36279 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com -> localhost] => {"ansible_facts": {"ansible_host": "3.72.38.62"}, "changed": false}
2025-05-06 14:08:32,591 p=36279 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:08:32,594 p=36279 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:08:32,596 p=36279 u=reseke n=ansible | TASK [Set_SSH_Vars : Set SSH ProxyCommand for Specific Hosts] **************************************************************************************************
2025-05-06 14:08:32,613 p=36279 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:08:32,619 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.72.38.62\""}, "changed": false}
2025-05-06 14:08:32,624 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.72.38.62\""}, "changed": false}
2025-05-06 14:08:32,627 p=36279 u=reseke n=ansible | TASK [Copy ssh-key to non-bastion hosts] ***********************************************************************************************************************
2025-05-06 14:08:32,644 p=36279 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:08:36,861 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-06 14:08:37,104 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-06 14:08:37,110 p=36279 u=reseke n=ansible | TASK [Print Public IP Address] *********************************************************************************************************************************
2025-05-06 14:08:37,138 p=36279 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Public IP of ec2-3-72-38-62.eu-central-1.compute.amazonaws.com is 3.72.38.62",
        "Ansible Play hosts ['ec2-3-72-38-62.eu-central-1.compute.amazonaws.com', 'ip-10-0-1-10.eu-central-1.compute.internal', 'ip-10-0-1-11.eu-central-1.compute.internal']",
        "Ansible Private_ip_address 10.0.1.12"
    ]
}
2025-05-06 14:08:37,144 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-10.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ec2-3-72-38-62.eu-central-1.compute.amazonaws.com', 'ip-10-0-1-10.eu-central-1.compute.internal', 'ip-10-0-1-11.eu-central-1.compute.internal']",
        "Ansible Private_ip_address 10.0.1.10"
    ]
}
2025-05-06 14:08:37,150 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-11.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ec2-3-72-38-62.eu-central-1.compute.amazonaws.com', 'ip-10-0-1-10.eu-central-1.compute.internal', 'ip-10-0-1-11.eu-central-1.compute.internal']",
        "Ansible Private_ip_address 10.0.1.11"
    ]
}
2025-05-06 14:08:37,152 p=36279 u=reseke n=ansible | TASK [Print SSH connection] ************************************************************************************************************************************
2025-05-06 14:08:37,165 p=36279 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {
    "msg": "Connecting to ec2-3-72-38-62.eu-central-1.compute.amazonaws.com via 3.72.38.62 using No SSH args set"
}
2025-05-06 14:08:37,171 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-10.eu-central-1.compute.internal via 10.0.1.10 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.72.38.62\""
}
2025-05-06 14:08:37,177 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-11.eu-central-1.compute.internal via 10.0.1.11 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.72.38.62\""
}
2025-05-06 14:08:37,179 p=36279 u=reseke n=ansible | TASK [Add in the DNF update and install role] ******************************************************************************************************************
2025-05-06 14:08:37,216 p=36279 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-06 14:08:37,235 p=36279 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Ansible Host from DNF role: 3.72.38.62"
    ]
}
2025-05-06 14:08:37,237 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.10"
    ]
}
2025-05-06 14:08:37,243 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.11"
    ]
}
2025-05-06 14:08:37,245 p=36279 u=reseke n=ansible | TASK [Dnf_access_install : Install squid proxy on bastion] *****************************************************************************************************
2025-05-06 14:08:37,264 p=36279 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:08:37,270 p=36279 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:08:46,311 p=36279 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"pkg_mgr": "dnf"}, "changed": false, "msg": "Nothing to do", "rc": 0, "results": []}
2025-05-06 14:08:46,312 p=36279 u=reseke n=ansible | TASK [Dnf_access_install : define squi.conf] *******************************************************************************************************************
2025-05-06 14:08:46,326 p=36279 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:08:46,330 p=36279 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:08:50,072 p=36279 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": false, "checksum": "f673c76b3dbcf83cb7aed48af68c42377a95ae0c", "dest": "/etc/squid/squid.conf", "gid": 23, "group": "squid", "mode": "0640", "owner": "root", "path": "/etc/squid/squid.conf", "secontext": "system_u:object_r:squid_conf_t:s0", "size": 224, "state": "file", "uid": 0}
2025-05-06 14:08:50,074 p=36279 u=reseke n=ansible | TASK [Dnf_access_install : Run command to enable squid] ********************************************************************************************************
2025-05-06 14:08:50,086 p=36279 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:08:50,090 p=36279 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:08:52,432 p=36279 u=reseke n=ansible | changed: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": ["sudo", "systemctl", "enable", "--now", "squid"], "delta": "0:00:00.296068", "end": "2025-05-06 12:08:52.188800", "msg": "", "rc": 0, "start": "2025-05-06 12:08:51.892732", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-06 14:08:52,438 p=36279 u=reseke n=ansible | TASK [Dnf_access_install : set bastion ip address for the other servers] ***************************************************************************************
2025-05-06 14:08:52,476 p=36279 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"bastion_ip": "3.72.38.62"}, "changed": false}
2025-05-06 14:08:52,477 p=36279 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:08:52,483 p=36279 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:08:52,486 p=36279 u=reseke n=ansible | TASK [Dnf_access_install : Add proxy data to dnf.config to other servers] **************************************************************************************
2025-05-06 14:08:52,500 p=36279 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-06 14:08:55,025 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"backup": "", "changed": false, "msg": ""}
2025-05-06 14:08:55,027 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"backup": "", "changed": false, "msg": ""}
2025-05-06 14:08:55,035 p=36279 u=reseke n=ansible | TASK [Dnf_access_install : Get Python version] *****************************************************************************************************************
2025-05-06 14:08:57,183 p=36279 u=reseke n=ansible | changed: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.009738", "end": "2025-05-06 12:08:56.946571", "msg": "", "rc": 0, "start": "2025-05-06 12:08:56.936833", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-06 14:08:57,500 p=36279 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.009629", "end": "2025-05-06 12:08:57.179103", "msg": "", "rc": 0, "start": "2025-05-06 12:08:57.169474", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-06 14:08:57,540 p=36279 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.040614", "end": "2025-05-06 12:08:57.219980", "msg": "", "rc": 0, "start": "2025-05-06 12:08:57.179366", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-06 14:08:57,547 p=36279 u=reseke n=ansible | TASK [Dnf_access_install : cat dnf.conf] ***********************************************************************************************************************
2025-05-06 14:08:59,551 p=36279 u=reseke n=ansible | changed: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.007670", "end": "2025-05-06 12:08:59.318901", "msg": "", "rc": 0, "start": "2025-05-06 12:08:59.311231", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"]}
2025-05-06 14:08:59,948 p=36279 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.007700", "end": "2025-05-06 12:08:59.555147", "msg": "", "rc": 0, "start": "2025-05-06 12:08:59.547447", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-06 14:08:59,951 p=36279 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.006221", "end": "2025-05-06 12:08:59.610431", "msg": "", "rc": 0, "start": "2025-05-06 12:08:59.604210", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-06 14:08:59,958 p=36279 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-06 14:08:59,993 p=36279 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"
    ]
}
2025-05-06 14:08:59,997 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-06 14:09:00,004 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-06 14:09:00,007 p=36279 u=reseke n=ansible | TASK [Dnf_access_install : Install common packages] ************************************************************************************************************
2025-05-06 14:09:17,125 p=36279 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"ansible_job_id": "j504027115636.7472", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j504027115636.7472", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-06 14:09:20,633 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_job_id": "j704182801144.24144", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j704182801144.24144", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-06 14:09:21,259 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_job_id": "j855630735881.24015", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j855630735881.24015", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-06 14:09:21,275 p=36279 u=reseke n=ansible | TASK [Print ZFS Status] ****************************************************************************************************************************************
2025-05-06 14:09:23,307 p=36279 u=reseke n=ansible | changed: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.011759", "end": "2025-05-06 12:09:23.093046", "msg": "", "rc": 0, "start": "2025-05-06 12:09:23.081287", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk /mnt/data", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk /mnt/data"]}
2025-05-06 14:09:23,793 p=36279 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.011821", "end": "2025-05-06 12:09:23.403104", "msg": "", "rc": 0, "start": "2025-05-06 12:09:23.391283", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk /mnt/data\nnvme2n1     259:6    0  500G  0 disk ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk /mnt/data", "nvme2n1     259:6    0  500G  0 disk "]}
2025-05-06 14:09:23,795 p=36279 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.010640", "end": "2025-05-06 12:09:23.443789", "msg": "", "rc": 0, "start": "2025-05-06 12:09:23.433149", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:0    0   30G  0 disk /mnt/data", "stdout_lines": ["nvme1n1     259:0    0   30G  0 disk /mnt/data"]}
2025-05-06 14:09:23,802 p=36279 u=reseke n=ansible | TASK [Is zfs on the systems? No, but here is the lsblk info] ***************************************************************************************************
2025-05-06 14:09:23,839 p=36279 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk /mnt/data', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-06 12:09:23.081287', 'end': '2025-05-06 12:09:23.093046', 'delta': '0:00:00.011759', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk /mnt/data'], 'stderr_lines': [], 'failed': False}"
}
2025-05-06 14:09:23,845 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:0    0   30G  0 disk /mnt/data', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-06 12:09:23.433149', 'end': '2025-05-06 12:09:23.443789', 'delta': '0:00:00.010640', 'msg': '', 'stdout_lines': ['nvme1n1     259:0    0   30G  0 disk /mnt/data'], 'stderr_lines': [], 'failed': False}"
}
2025-05-06 14:09:23,849 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk /mnt/data\\nnvme2n1     259:6    0  500G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-06 12:09:23.391283', 'end': '2025-05-06 12:09:23.403104', 'delta': '0:00:00.011821', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk /mnt/data', 'nvme2n1     259:6    0  500G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-06 14:09:23,850 p=36279 u=reseke n=ansible | TASK [Create mound point for data scratch drive] ***************************************************************************************************************
2025-05-06 14:09:25,878 p=36279 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/data", "secontext": "system_u:object_r:unlabeled_t:s0", "size": 4096, "state": "directory", "uid": 0}
2025-05-06 14:09:26,542 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/data", "secontext": "system_u:object_r:unlabeled_t:s0", "size": 4096, "state": "directory", "uid": 0}
2025-05-06 14:09:26,542 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/data", "secontext": "system_u:object_r:unlabeled_t:s0", "size": 4096, "state": "directory", "uid": 0}
2025-05-06 14:09:26,544 p=36279 u=reseke n=ansible | TASK [Create File System] **************************************************************************************************************************************
2025-05-06 14:09:26,554 p=36279 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-06 14:09:26,558 p=36279 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-06 14:09:26,564 p=36279 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-06 14:09:26,891 p=36279 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-06 14:09:26,972 p=36279 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-06 14:09:27,012 p=36279 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-06 14:09:28,672 p=36279 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": false}
2025-05-06 14:09:28,742 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false}
2025-05-06 14:09:29,021 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false}
2025-05-06 14:09:29,027 p=36279 u=reseke n=ansible | TASK [Mount File System] ***************************************************************************************************************************************
2025-05-06 14:09:29,064 p=36279 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-06 14:09:29,070 p=36279 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-06 14:09:29,077 p=36279 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-06 14:09:29,391 p=36279 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-06 14:09:29,533 p=36279 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-06 14:09:29,562 p=36279 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-06 14:09:31,025 p=36279 u=reseke n=ansible | ok: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"backup_file": "", "boot": "yes", "changed": false, "dump": "0", "fstab": "/etc/fstab", "fstype": "ext4", "name": "/mnt/data", "opts": "defaults", "passno": "0", "src": "/dev/nvme1n1"}
2025-05-06 14:09:31,819 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"backup_file": "", "boot": "yes", "changed": false, "dump": "0", "fstab": "/etc/fstab", "fstype": "ext4", "name": "/mnt/data", "opts": "defaults", "passno": "0", "src": "/dev/nvme1n1"}
2025-05-06 14:09:31,819 p=36279 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"backup_file": "", "boot": "yes", "changed": false, "dump": "0", "fstab": "/etc/fstab", "fstype": "ext4", "name": "/mnt/data", "opts": "defaults", "passno": "0", "src": "/dev/nvme1n1"}
2025-05-06 14:09:31,821 p=36279 u=reseke n=ansible | TASK [Create mound point for OSS server] ***********************************************************************************************************************
2025-05-06 14:09:31,832 p=36279 u=reseke n=ansible | skipping: [ec2-3-72-38-62.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-06 14:09:31,833 p=36279 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-06 14:09:31,838 p=36279 u=reseke n=ansible | fatal: [ip-10-0-1-11.eu-central-1.compute.internal]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'luster_point' is undefined. 'luster_point' is undefined\n\nThe error appears to be in '/home/reseke/docker/Terraform_Lustre/playbook.yml': line 111, column 11, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n      block:\n        - name: Create mound point for OSS server\n          ^ here\n"}
2025-05-06 14:09:31,839 p=36279 u=reseke n=ansible | NO MORE HOSTS LEFT *********************************************************************************************************************************************
2025-05-06 14:09:31,840 p=36279 u=reseke n=ansible | PLAY RECAP *****************************************************************************************************************************************************
2025-05-06 14:09:31,840 p=36279 u=reseke n=ansible | ec2-3-72-38-62.eu-central-1.compute.amazonaws.com : ok=21   changed=4    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   
2025-05-06 14:09:31,840 p=36279 u=reseke n=ansible | ip-10-0-1-10.eu-central-1.compute.internal : ok=17   changed=3    unreachable=0    failed=0    skipped=6    rescued=0    ignored=0   
2025-05-06 14:09:31,840 p=36279 u=reseke n=ansible | ip-10-0-1-11.eu-central-1.compute.internal : ok=17   changed=3    unreachable=0    failed=1    skipped=5    rescued=0    ignored=0   
2025-05-08 16:47:36,301 p=246966 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-08 16:47:36,828 p=246966 u=reseke n=ansible | {
    "_meta": {
        "hostvars": {
            "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.12",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-05-08T14:45:11+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0bfe4001286c3f611"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-05-08T14:45:11+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-08ec2c8b3d8ba882f"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250508144508181300000004",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0cb0507fbd8528a42",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-05-08T14:45:11+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "association": {
                            "ip_owner_id": "amazon",
                            "public_dns_name": "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com",
                            "public_ip": "63.178.8.224"
                        },
                        "attachment": {
                            "attach_time": "2025-05-08T14:45:11+00:00",
                            "attachment_id": "eni-attach-04472b0334b1f5e30",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-0aacf373b2133c0e3",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:bb:fa:fe:c2:f5",
                        "network_interface_id": "eni-0d30d54ce37940f5e",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.12",
                        "private_ip_addresses": [
                            {
                                "association": {
                                    "ip_owner_id": "amazon",
                                    "public_dns_name": "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com",
                                    "public_ip": "63.178.8.224"
                                },
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.12"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-06cc9ee918456cbbb",
                        "vpc_id": "vpc-05e7dcb813277fbfb"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.12",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com",
                "public_ip_address": "63.178.8.224",
                "requester_id": "",
                "reservation_id": "r-0ce0370a23a8a805f",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-0aacf373b2133c0e3",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-06cc9ee918456cbbb",
                "tags": {
                    "Name": "bastion",
                    "Project": "lustre",
                    "Role": "client"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-05-08T14:45:11+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-05e7dcb813277fbfb"
            },
            "ip-10-0-1-10.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.10",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-05-08T14:45:11+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0d0c453443dd3b5c2"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-05-08T14:45:11+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0e24265b67871ccfc"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250508144508181600000005",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-02ebe96eb68b1250b",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-05-08T14:45:11+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-05-08T14:45:11+00:00",
                            "attachment_id": "eni-attach-0513aa497ef987ab1",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-0aacf373b2133c0e3",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:13:e4:09:9c:2f",
                        "network_interface_id": "eni-041c87b7a8ad340eb",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.10",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.10"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-06cc9ee918456cbbb",
                        "vpc_id": "vpc-05e7dcb813277fbfb"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.10",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-024b15a51d9ea923e",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-0aacf373b2133c0e3",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-06cc9ee918456cbbb",
                "tags": {
                    "Name": "lustre_mgt",
                    "Project": "lustre",
                    "Role": "manager"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-05-08T14:45:11+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-05e7dcb813277fbfb"
            },
            "ip-10-0-1-11.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.11",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-05-08T14:45:11+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0644c6e29a7c4a6bb"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-05-08T14:45:11+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0ac3c5238afee48b0"
                        }
                    },
                    {
                        "device_name": "/dev/sdz",
                        "ebs": {
                            "attach_time": "2025-05-08T14:45:33.687000+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-0bcbc939b0f55be75"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250508144508181300000003",
                "cpu_options": {
                    "core_count": 2,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-03b2b2dac06b0443e",
                "instance_type": "t3.xlarge",
                "key_name": "Lustre_Key",
                "launch_time": "2025-05-08T14:45:11+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-05-08T14:45:11+00:00",
                            "attachment_id": "eni-attach-0e56664d735ac67bc",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-0aacf373b2133c0e3",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:72:8e:9a:07:8b",
                        "network_interface_id": "eni-08741da8f0e2d2f10",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.11",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.11"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-06cc9ee918456cbbb",
                        "vpc_id": "vpc-05e7dcb813277fbfb"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.11",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-074ece6bc085bd7b0",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-0aacf373b2133c0e3",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-06cc9ee918456cbbb",
                "tags": {
                    "Name": "lustre_oss",
                    "Project": "lustre",
                    "Role": "storage"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-05-08T14:45:11+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-05e7dcb813277fbfb"
            }
        }
    },
    "all": {
        "children": [
            "ungrouped",
            "aws_ec2"
        ]
    },
    "aws_ec2": {
        "hosts": [
            "ip-10-0-1-10.eu-central-1.compute.internal",
            "ip-10-0-1-11.eu-central-1.compute.internal",
            "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com"
        ]
    }
}
2025-05-08 16:48:17,439 p=247442 u=reseke n=ansible | ansible-playbook [core 2.16.14]
  config file = /home/reseke/docker/Terraform_Lustre/ansible.cfg
  configured module search path = ['/home/reseke/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/reseke/.local/lib/python3.10/site-packages/ansible
  ansible collection location = /home/reseke/.ansible/collections:/usr/share/ansible/collections
  executable location = /home/reseke/.local/bin/ansible-playbook
  python version = 3.10.12 (main, Feb  4 2025, 14:57:36) [GCC 11.4.0] (/usr/bin/python3)
  jinja version = 3.0.3
  libyaml = True
2025-05-08 16:48:17,440 p=247442 u=reseke n=ansible | Using /home/reseke/docker/Terraform_Lustre/ansible.cfg as config file
2025-05-08 16:48:20,964 p=247442 u=reseke n=ansible | redirecting (type: inventory) ansible.builtin.aws_ec2 to amazon.aws.aws_ec2
2025-05-08 16:48:21,064 p=247442 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-08 16:48:21,657 p=247442 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 16:48:21,665 p=247442 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:48:21,667 p=247442 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.zfs to community.general.zfs
2025-05-08 16:48:21,669 p=247442 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:48:21,678 p=247442 u=reseke n=ansible | Skipping callback 'default', as we already have a stdout callback.
2025-05-08 16:48:21,679 p=247442 u=reseke n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2025-05-08 16:48:21,679 p=247442 u=reseke n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2025-05-08 16:48:21,679 p=247442 u=reseke n=ansible | PLAYBOOK: playbook.yml *****************************************************************************************************************************************
2025-05-08 16:48:21,679 p=247442 u=reseke n=ansible | 1 plays in ../Terraform_Lustre/playbook.yml
2025-05-08 16:48:21,680 p=247442 u=reseke n=ansible | PLAY [Setup Lustre on test servers] ****************************************************************************************************************************
2025-05-08 16:48:21,689 p=247442 u=reseke n=ansible | TASK [Include vault] *******************************************************************************************************************************************
2025-05-08 16:48:21,722 p=247442 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-08 16:48:21,739 p=247442 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-08 16:48:21,756 p=247442 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-08 16:48:21,761 p=247442 u=reseke n=ansible | TASK [Set_SSH_Vars : Set_fact hostvar of public IP] ************************************************************************************************************
2025-05-08 16:48:21,778 p=247442 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-08 16:48:21,781 p=247442 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-08 16:48:21,795 p=247442 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal -> localhost] => (item=ec2-63-178-8-224.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"ec2_public_ip": "63.178.8.224"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com"}
2025-05-08 16:48:21,797 p=247442 u=reseke n=ansible | TASK [Set_SSH_Vars : Set bastion_host variable on localhost] ***************************************************************************************************
2025-05-08 16:48:21,814 p=247442 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-08 16:48:21,816 p=247442 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-08 16:48:21,825 p=247442 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal -> localhost] => (item=ec2-63-178-8-224.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"bastion_host": "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com"}
2025-05-08 16:48:21,829 p=247442 u=reseke n=ansible | TASK [Set_SSH_Vars : Mark ec2 public IP] ***********************************************************************************************************************
2025-05-08 16:48:21,845 p=247442 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-10.eu-central-1.compute.internal The public IP is 63.178.8.224",
        "10.0.1.10 IP to connect with",
        "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-08 16:48:21,850 p=247442 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-11.eu-central-1.compute.internal The public IP is 63.178.8.224",
        "10.0.1.11 IP to connect with",
        "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-08 16:48:21,857 p=247442 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com The public IP is 63.178.8.224",
        "10.0.1.12 IP to connect with",
        "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-08 16:48:21,859 p=247442 u=reseke n=ansible | TASK [Set_SSH_Vars : Make sure bastion uses public IP] *********************************************************************************************************
2025-05-08 16:48:21,871 p=247442 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:48:21,872 p=247442 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:48:21,885 p=247442 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com -> localhost] => {"ansible_facts": {"ansible_host": "63.178.8.224"}, "changed": false}
2025-05-08 16:48:21,887 p=247442 u=reseke n=ansible | TASK [Set_SSH_Vars : Set SSH ProxyCommand for Specific Hosts] **************************************************************************************************
2025-05-08 16:48:21,901 p=247442 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.178.8.224\""}, "changed": false}
2025-05-08 16:48:21,904 p=247442 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.178.8.224\""}, "changed": false}
2025-05-08 16:48:21,905 p=247442 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:48:21,910 p=247442 u=reseke n=ansible | TASK [Copy ssh-key to non-bastion hosts] ***********************************************************************************************************************
2025-05-08 16:48:21,935 p=247442 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:48:30,964 p=247442 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-08 16:48:35,666 p=247442 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-08 16:48:35,671 p=247442 u=reseke n=ansible | TASK [Print Public IP Address] *********************************************************************************************************************************
2025-05-08 16:48:35,709 p=247442 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-10.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-10.eu-central-1.compute.internal', 'ip-10-0-1-11.eu-central-1.compute.internal', 'ec2-63-178-8-224.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.10"
    ]
}
2025-05-08 16:48:35,716 p=247442 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-11.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-10.eu-central-1.compute.internal', 'ip-10-0-1-11.eu-central-1.compute.internal', 'ec2-63-178-8-224.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.11"
    ]
}
2025-05-08 16:48:35,722 p=247442 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Public IP of ec2-63-178-8-224.eu-central-1.compute.amazonaws.com is 63.178.8.224",
        "Ansible Play hosts ['ip-10-0-1-10.eu-central-1.compute.internal', 'ip-10-0-1-11.eu-central-1.compute.internal', 'ec2-63-178-8-224.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.12"
    ]
}
2025-05-08 16:48:35,724 p=247442 u=reseke n=ansible | TASK [Print SSH connection] ************************************************************************************************************************************
2025-05-08 16:48:35,751 p=247442 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-10.eu-central-1.compute.internal via 10.0.1.10 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.178.8.224\""
}
2025-05-08 16:48:35,757 p=247442 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-11.eu-central-1.compute.internal via 10.0.1.11 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.178.8.224\""
}
2025-05-08 16:48:35,763 p=247442 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": "Connecting to ec2-63-178-8-224.eu-central-1.compute.amazonaws.com via 63.178.8.224 using No SSH args set"
}
2025-05-08 16:48:35,767 p=247442 u=reseke n=ansible | TASK [Add in the DNF update and install role] ******************************************************************************************************************
2025-05-08 16:48:35,806 p=247442 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-08 16:48:35,826 p=247442 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.10"
    ]
}
2025-05-08 16:48:35,829 p=247442 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.11"
    ]
}
2025-05-08 16:48:35,835 p=247442 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Ansible Host from DNF role: 63.178.8.224"
    ]
}
2025-05-08 16:48:35,838 p=247442 u=reseke n=ansible | TASK [Dnf_access_install : Install squid proxy on bastion] *****************************************************************************************************
2025-05-08 16:48:35,858 p=247442 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:48:35,858 p=247442 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:48:58,160 p=247442 u=reseke n=ansible | changed: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"pkg_mgr": "dnf"}, "changed": true, "msg": "", "rc": 0, "results": ["Installed: perl-DBI-1.641-4.module_el8.6.0+2823+173faa7e.x86_64", "Installed: libecap-1.0.1-2.module_el8.6.0+2741+01592ae8.x86_64", "Installed: libtool-ltdl-2.4.6-25.el8.x86_64", "Installed: squid-7:4.15-10.module_el8.10.0+3953+e1d43bfb.5.x86_64"]}
2025-05-08 16:48:58,168 p=247442 u=reseke n=ansible | TASK [Dnf_access_install : define squi.conf] *******************************************************************************************************************
2025-05-08 16:48:58,203 p=247442 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:48:58,204 p=247442 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:49:00,800 p=247442 u=reseke n=ansible | changed: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": true, "checksum": "f673c76b3dbcf83cb7aed48af68c42377a95ae0c", "dest": "/etc/squid/squid.conf", "gid": 23, "group": "squid", "md5sum": "c9e7e6ade5c70753847d1f2b4fa092d1", "mode": "0640", "owner": "root", "secontext": "system_u:object_r:squid_conf_t:s0", "size": 224, "src": "/home/ec2-user/.ansible/tmp/ansible-tmp-1746715738.3062913-248018-141361413547074/source", "state": "file", "uid": 0}
2025-05-08 16:49:00,807 p=247442 u=reseke n=ansible | TASK [Dnf_access_install : Run command to enable squid] ********************************************************************************************************
2025-05-08 16:49:00,847 p=247442 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:49:00,848 p=247442 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:49:02,773 p=247442 u=reseke n=ansible | changed: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": ["sudo", "systemctl", "enable", "--now", "squid"], "delta": "0:00:00.456403", "end": "2025-05-08 14:49:04.448779", "msg": "", "rc": 0, "start": "2025-05-08 14:49:03.992376", "stderr": "Created symlink /etc/systemd/system/multi-user.target.wants/squid.service  /usr/lib/systemd/system/squid.service.", "stderr_lines": ["Created symlink /etc/systemd/system/multi-user.target.wants/squid.service  /usr/lib/systemd/system/squid.service."], "stdout": "", "stdout_lines": []}
2025-05-08 16:49:02,778 p=247442 u=reseke n=ansible | TASK [Dnf_access_install : set bastion ip address for the other servers] ***************************************************************************************
2025-05-08 16:49:02,828 p=247442 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:49:02,834 p=247442 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:49:02,865 p=247442 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"bastion_ip": "63.178.8.224"}, "changed": false}
2025-05-08 16:49:02,873 p=247442 u=reseke n=ansible | TASK [Dnf_access_install : Add proxy data to dnf.config to other servers] **************************************************************************************
2025-05-08 16:49:02,950 p=247442 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:49:04,313 p=247442 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"backup": "", "changed": true, "msg": "line added"}
2025-05-08 16:49:04,552 p=247442 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"backup": "", "changed": true, "msg": "line added"}
2025-05-08 16:49:04,555 p=247442 u=reseke n=ansible | TASK [Dnf_access_install : Get Python version] *****************************************************************************************************************
2025-05-08 16:49:05,749 p=247442 u=reseke n=ansible | changed: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.010934", "end": "2025-05-08 14:49:07.504173", "msg": "", "rc": 0, "start": "2025-05-08 14:49:07.493239", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-08 16:49:05,781 p=247442 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.009058", "end": "2025-05-08 14:49:07.540714", "msg": "", "rc": 0, "start": "2025-05-08 14:49:07.531656", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-08 16:49:05,791 p=247442 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.007059", "end": "2025-05-08 14:49:07.565432", "msg": "", "rc": 0, "start": "2025-05-08 14:49:07.558373", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-08 16:49:05,800 p=247442 u=reseke n=ansible | TASK [Dnf_access_install : cat dnf.conf] ***********************************************************************************************************************
2025-05-08 16:49:06,877 p=247442 u=reseke n=ansible | changed: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.007431", "end": "2025-05-08 14:49:08.711623", "msg": "", "rc": 0, "start": "2025-05-08 14:49:08.704192", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"]}
2025-05-08 16:49:06,974 p=247442 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.004728", "end": "2025-05-08 14:49:08.791752", "msg": "", "rc": 0, "start": "2025-05-08 14:49:08.787024", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-08 16:49:07,089 p=247442 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.011139", "end": "2025-05-08 14:49:08.866166", "msg": "", "rc": 0, "start": "2025-05-08 14:49:08.855027", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-08 16:49:07,091 p=247442 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-08 16:49:07,134 p=247442 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-08 16:49:07,146 p=247442 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-08 16:49:07,154 p=247442 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"
    ]
}
2025-05-08 16:49:07,160 p=247442 u=reseke n=ansible | TASK [Dnf_access_install : Install common packages] ************************************************************************************************************
2025-05-08 16:49:20,818 p=247442 u=reseke n=ansible | changed: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"ansible_job_id": "j213493844229.4196", "changed": true, "finished": 1, "msg": "", "rc": 0, "results": ["Installed: pciutils-3.7.0-3.el8.x86_64"], "results_file": "/root/.ansible_async/j213493844229.4196", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 16:52:16,745 p=247442 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_job_id": "j618726903220.1736", "changed": true, "finished": 1, "msg": "", "rc": 0, "results": ["Installed: pciutils-3.7.0-3.el8.x86_64"], "results_file": "/root/.ansible_async/j618726903220.1736", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 16:52:32,017 p=247442 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_job_id": "j787732664900.1699", "changed": true, "finished": 1, "msg": "", "rc": 0, "results": ["Installed: pciutils-3.7.0-3.el8.x86_64"], "results_file": "/root/.ansible_async/j787732664900.1699", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 16:52:32,032 p=247442 u=reseke n=ansible | TASK [Print ZFS Status] ****************************************************************************************************************************************
2025-05-08 16:52:33,272 p=247442 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.008629", "end": "2025-05-08 14:52:35.071679", "msg": "", "rc": 0, "start": "2025-05-08 14:52:35.063050", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk \nnvme2n1     259:6    0  500G  0 disk ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk ", "nvme2n1     259:6    0  500G  0 disk "]}
2025-05-08 16:52:33,401 p=247442 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.012890", "end": "2025-05-08 14:52:35.196127", "msg": "", "rc": 0, "start": "2025-05-08 14:52:35.183237", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:5    0   30G  0 disk ", "stdout_lines": ["nvme1n1     259:5    0   30G  0 disk "]}
2025-05-08 16:52:33,827 p=247442 u=reseke n=ansible | changed: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.014770", "end": "2025-05-08 14:52:35.552614", "msg": "", "rc": 0, "start": "2025-05-08 14:52:35.537844", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:5    0   30G  0 disk ", "stdout_lines": ["nvme1n1     259:5    0   30G  0 disk "]}
2025-05-08 16:52:33,829 p=247442 u=reseke n=ansible | TASK [Is zfs on the systems? No, but here is the lsblk info] ***************************************************************************************************
2025-05-08 16:52:33,849 p=247442 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:5    0   30G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-08 14:52:35.183237', 'end': '2025-05-08 14:52:35.196127', 'delta': '0:00:00.012890', 'msg': '', 'stdout_lines': ['nvme1n1     259:5    0   30G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-08 16:52:33,854 p=247442 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk \\nnvme2n1     259:6    0  500G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-08 14:52:35.063050', 'end': '2025-05-08 14:52:35.071679', 'delta': '0:00:00.008629', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk ', 'nvme2n1     259:6    0  500G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-08 16:52:33,865 p=247442 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:5    0   30G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-08 14:52:35.537844', 'end': '2025-05-08 14:52:35.552614', 'delta': '0:00:00.014770', 'msg': '', 'stdout_lines': ['nvme1n1     259:5    0   30G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-08 16:52:33,867 p=247442 u=reseke n=ansible | TASK [Create mound point for data scratch drive] ***************************************************************************************************************
2025-05-08 16:52:35,052 p=247442 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/data", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-08 16:52:35,081 p=247442 u=reseke n=ansible | changed: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/data", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-08 16:52:35,492 p=247442 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/data", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-08 16:52:35,498 p=247442 u=reseke n=ansible | TASK [Create File System] **************************************************************************************************************************************
2025-05-08 16:52:35,532 p=247442 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 16:52:35,537 p=247442 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 16:52:35,547 p=247442 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 16:52:35,735 p=247442 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 16:52:35,767 p=247442 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 16:52:35,775 p=247442 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 16:52:37,119 p=247442 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true}
2025-05-08 16:52:37,230 p=247442 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true}
2025-05-08 16:52:37,232 p=247442 u=reseke n=ansible | changed: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": true}
2025-05-08 16:52:37,238 p=247442 u=reseke n=ansible | TASK [Mount File System] ***************************************************************************************************************************************
2025-05-08 16:52:37,269 p=247442 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:52:37,279 p=247442 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:52:37,286 p=247442 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:52:37,464 p=247442 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:52:37,502 p=247442 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:52:37,509 p=247442 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:52:38,867 p=247442 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"backup_file": "", "boot": "yes", "changed": true, "dump": "0", "fstab": "/etc/fstab", "fstype": "ext4", "name": "/mnt/data", "opts": "defaults", "passno": "0", "src": "/dev/nvme1n1"}
2025-05-08 16:52:38,873 p=247442 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"backup_file": "", "boot": "yes", "changed": true, "dump": "0", "fstab": "/etc/fstab", "fstype": "ext4", "name": "/mnt/data", "opts": "defaults", "passno": "0", "src": "/dev/nvme1n1"}
2025-05-08 16:52:38,942 p=247442 u=reseke n=ansible | changed: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"backup_file": "", "boot": "yes", "changed": true, "dump": "0", "fstab": "/etc/fstab", "fstype": "ext4", "name": "/mnt/data", "opts": "defaults", "passno": "0", "src": "/dev/nvme1n1"}
2025-05-08 16:52:38,948 p=247442 u=reseke n=ansible | TASK [Create mound point for OSS server] ***********************************************************************************************************************
2025-05-08 16:52:38,982 p=247442 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 16:52:38,985 p=247442 u=reseke n=ansible | fatal: [ip-10-0-1-11.eu-central-1.compute.internal]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'luster_point' is undefined. 'luster_point' is undefined\n\nThe error appears to be in '/home/reseke/docker/Terraform_Lustre/playbook.yml': line 111, column 11, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n      block:\n        - name: Create mound point for OSS server\n          ^ here\n"}
2025-05-08 16:52:38,992 p=247442 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 16:52:38,992 p=247442 u=reseke n=ansible | NO MORE HOSTS LEFT *********************************************************************************************************************************************
2025-05-08 16:52:38,993 p=247442 u=reseke n=ansible | PLAY RECAP *****************************************************************************************************************************************************
2025-05-08 16:52:38,993 p=247442 u=reseke n=ansible | ec2-63-178-8-224.eu-central-1.compute.amazonaws.com : ok=19   changed=10   unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   
2025-05-08 16:52:38,993 p=247442 u=reseke n=ansible | ip-10-0-1-10.eu-central-1.compute.internal : ok=19   changed=8    unreachable=0    failed=0    skipped=6    rescued=0    ignored=0   
2025-05-08 16:52:38,994 p=247442 u=reseke n=ansible | ip-10-0-1-11.eu-central-1.compute.internal : ok=17   changed=8    unreachable=0    failed=1    skipped=5    rescued=0    ignored=0   
2025-05-08 16:54:11,138 p=252335 u=reseke n=ansible | ansible-playbook [core 2.16.14]
  config file = /home/reseke/docker/Terraform_Lustre/ansible.cfg
  configured module search path = ['/home/reseke/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/reseke/.local/lib/python3.10/site-packages/ansible
  ansible collection location = /home/reseke/.ansible/collections:/usr/share/ansible/collections
  executable location = /home/reseke/.local/bin/ansible-playbook
  python version = 3.10.12 (main, Feb  4 2025, 14:57:36) [GCC 11.4.0] (/usr/bin/python3)
  jinja version = 3.0.3
  libyaml = True
2025-05-08 16:54:11,138 p=252335 u=reseke n=ansible | Using /home/reseke/docker/Terraform_Lustre/ansible.cfg as config file
2025-05-08 16:54:14,917 p=252335 u=reseke n=ansible | redirecting (type: inventory) ansible.builtin.aws_ec2 to amazon.aws.aws_ec2
2025-05-08 16:54:15,021 p=252335 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-08 16:54:15,631 p=252335 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 16:54:15,638 p=252335 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:54:15,640 p=252335 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.zfs to community.general.zfs
2025-05-08 16:54:15,642 p=252335 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:54:15,650 p=252335 u=reseke n=ansible | Skipping callback 'default', as we already have a stdout callback.
2025-05-08 16:54:15,650 p=252335 u=reseke n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2025-05-08 16:54:15,650 p=252335 u=reseke n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2025-05-08 16:54:15,650 p=252335 u=reseke n=ansible | PLAYBOOK: playbook.yml *****************************************************************************************************************************************
2025-05-08 16:54:15,650 p=252335 u=reseke n=ansible | 1 plays in ../Terraform_Lustre/playbook.yml
2025-05-08 16:54:15,651 p=252335 u=reseke n=ansible | PLAY [Setup Lustre on test servers] ****************************************************************************************************************************
2025-05-08 16:54:15,660 p=252335 u=reseke n=ansible | TASK [Include vault] *******************************************************************************************************************************************
2025-05-08 16:54:15,689 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-08 16:54:15,694 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-08 16:54:15,700 p=252335 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-08 16:54:15,702 p=252335 u=reseke n=ansible | TASK [Set_SSH_Vars : Set_fact hostvar of public IP] ************************************************************************************************************
2025-05-08 16:54:15,718 p=252335 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-08 16:54:15,722 p=252335 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-08 16:54:15,735 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal -> localhost] => (item=ec2-63-178-8-224.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"ec2_public_ip": "63.178.8.224"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com"}
2025-05-08 16:54:15,737 p=252335 u=reseke n=ansible | TASK [Set_SSH_Vars : Set bastion_host variable on localhost] ***************************************************************************************************
2025-05-08 16:54:15,754 p=252335 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-08 16:54:15,755 p=252335 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-08 16:54:15,761 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal -> localhost] => (item=ec2-63-178-8-224.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"bastion_host": "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com"}
2025-05-08 16:54:15,766 p=252335 u=reseke n=ansible | TASK [Set_SSH_Vars : Mark ec2 public IP] ***********************************************************************************************************************
2025-05-08 16:54:15,785 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-10.eu-central-1.compute.internal The public IP is 63.178.8.224",
        "10.0.1.10 IP to connect with",
        "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-08 16:54:15,789 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-11.eu-central-1.compute.internal The public IP is 63.178.8.224",
        "10.0.1.11 IP to connect with",
        "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-08 16:54:15,798 p=252335 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com The public IP is 63.178.8.224",
        "10.0.1.12 IP to connect with",
        "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-08 16:54:15,800 p=252335 u=reseke n=ansible | TASK [Set_SSH_Vars : Make sure bastion uses public IP] *********************************************************************************************************
2025-05-08 16:54:15,818 p=252335 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:54:15,819 p=252335 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:54:15,832 p=252335 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com -> localhost] => {"ansible_facts": {"ansible_host": "63.178.8.224"}, "changed": false}
2025-05-08 16:54:15,834 p=252335 u=reseke n=ansible | TASK [Set_SSH_Vars : Set SSH ProxyCommand for Specific Hosts] **************************************************************************************************
2025-05-08 16:54:15,851 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.178.8.224\""}, "changed": false}
2025-05-08 16:54:15,857 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.178.8.224\""}, "changed": false}
2025-05-08 16:54:15,858 p=252335 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:54:15,865 p=252335 u=reseke n=ansible | TASK [Copy ssh-key to non-bastion hosts] ***********************************************************************************************************************
2025-05-08 16:54:15,894 p=252335 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:54:19,123 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-08 16:54:19,329 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-08 16:54:19,333 p=252335 u=reseke n=ansible | TASK [Print Public IP Address] *********************************************************************************************************************************
2025-05-08 16:54:19,372 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-10.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-10.eu-central-1.compute.internal', 'ip-10-0-1-11.eu-central-1.compute.internal', 'ec2-63-178-8-224.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.10"
    ]
}
2025-05-08 16:54:19,377 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-11.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-10.eu-central-1.compute.internal', 'ip-10-0-1-11.eu-central-1.compute.internal', 'ec2-63-178-8-224.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.11"
    ]
}
2025-05-08 16:54:19,387 p=252335 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Public IP of ec2-63-178-8-224.eu-central-1.compute.amazonaws.com is 63.178.8.224",
        "Ansible Play hosts ['ip-10-0-1-10.eu-central-1.compute.internal', 'ip-10-0-1-11.eu-central-1.compute.internal', 'ec2-63-178-8-224.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.12"
    ]
}
2025-05-08 16:54:19,390 p=252335 u=reseke n=ansible | TASK [Print SSH connection] ************************************************************************************************************************************
2025-05-08 16:54:19,421 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-10.eu-central-1.compute.internal via 10.0.1.10 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.178.8.224\""
}
2025-05-08 16:54:19,427 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-11.eu-central-1.compute.internal via 10.0.1.11 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.178.8.224\""
}
2025-05-08 16:54:19,431 p=252335 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": "Connecting to ec2-63-178-8-224.eu-central-1.compute.amazonaws.com via 63.178.8.224 using No SSH args set"
}
2025-05-08 16:54:19,433 p=252335 u=reseke n=ansible | TASK [Add in the DNF update and install role] ******************************************************************************************************************
2025-05-08 16:54:19,480 p=252335 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-08 16:54:19,498 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.10"
    ]
}
2025-05-08 16:54:19,502 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.11"
    ]
}
2025-05-08 16:54:19,508 p=252335 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Ansible Host from DNF role: 63.178.8.224"
    ]
}
2025-05-08 16:54:19,511 p=252335 u=reseke n=ansible | TASK [Dnf_access_install : Install squid proxy on bastion] *****************************************************************************************************
2025-05-08 16:54:19,533 p=252335 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:54:19,535 p=252335 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:54:25,839 p=252335 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"pkg_mgr": "dnf"}, "changed": false, "msg": "Nothing to do", "rc": 0, "results": []}
2025-05-08 16:54:25,846 p=252335 u=reseke n=ansible | TASK [Dnf_access_install : define squi.conf] *******************************************************************************************************************
2025-05-08 16:54:25,882 p=252335 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:54:25,884 p=252335 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:54:28,006 p=252335 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "checksum": "f673c76b3dbcf83cb7aed48af68c42377a95ae0c", "dest": "/etc/squid/squid.conf", "gid": 23, "group": "squid", "mode": "0640", "owner": "root", "path": "/etc/squid/squid.conf", "secontext": "system_u:object_r:squid_conf_t:s0", "size": 224, "state": "file", "uid": 0}
2025-05-08 16:54:28,014 p=252335 u=reseke n=ansible | TASK [Dnf_access_install : Run command to enable squid] ********************************************************************************************************
2025-05-08 16:54:28,053 p=252335 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:54:28,056 p=252335 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:54:29,655 p=252335 u=reseke n=ansible | changed: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": ["sudo", "systemctl", "enable", "--now", "squid"], "delta": "0:00:00.302273", "end": "2025-05-08 14:54:31.335702", "msg": "", "rc": 0, "start": "2025-05-08 14:54:31.033429", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 16:54:29,662 p=252335 u=reseke n=ansible | TASK [Dnf_access_install : set bastion ip address for the other servers] ***************************************************************************************
2025-05-08 16:54:29,695 p=252335 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:54:29,699 p=252335 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:54:29,711 p=252335 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"bastion_ip": "63.178.8.224"}, "changed": false}
2025-05-08 16:54:29,713 p=252335 u=reseke n=ansible | TASK [Dnf_access_install : Add proxy data to dnf.config to other servers] **************************************************************************************
2025-05-08 16:54:29,739 p=252335 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:54:31,024 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"backup": "", "changed": false, "msg": ""}
2025-05-08 16:54:31,404 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"backup": "", "changed": false, "msg": ""}
2025-05-08 16:54:31,411 p=252335 u=reseke n=ansible | TASK [Dnf_access_install : Get Python version] *****************************************************************************************************************
2025-05-08 16:54:32,623 p=252335 u=reseke n=ansible | changed: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.011993", "end": "2025-05-08 14:54:34.437710", "msg": "", "rc": 0, "start": "2025-05-08 14:54:34.425717", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-08 16:54:32,635 p=252335 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.006665", "end": "2025-05-08 14:54:34.387798", "msg": "", "rc": 0, "start": "2025-05-08 14:54:34.381133", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-08 16:54:32,836 p=252335 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.009189", "end": "2025-05-08 14:54:34.626738", "msg": "", "rc": 0, "start": "2025-05-08 14:54:34.617549", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-08 16:54:32,842 p=252335 u=reseke n=ansible | TASK [Dnf_access_install : cat dnf.conf] ***********************************************************************************************************************
2025-05-08 16:54:33,945 p=252335 u=reseke n=ansible | changed: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.007126", "end": "2025-05-08 14:54:35.779917", "msg": "", "rc": 0, "start": "2025-05-08 14:54:35.772791", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"]}
2025-05-08 16:54:34,016 p=252335 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.005092", "end": "2025-05-08 14:54:35.831031", "msg": "", "rc": 0, "start": "2025-05-08 14:54:35.825939", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-08 16:54:34,226 p=252335 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.007423", "end": "2025-05-08 14:54:36.014678", "msg": "", "rc": 0, "start": "2025-05-08 14:54:36.007255", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-08 16:54:34,232 p=252335 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-08 16:54:34,272 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-08 16:54:34,277 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-08 16:54:34,283 p=252335 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"
    ]
}
2025-05-08 16:54:34,288 p=252335 u=reseke n=ansible | TASK [Dnf_access_install : Install common packages] ************************************************************************************************************
2025-05-08 16:54:48,036 p=252335 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"ansible_job_id": "j854835000265.6190", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j854835000265.6190", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 16:54:48,826 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_job_id": "j822547590922.5007", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j822547590922.5007", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 16:54:49,977 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_job_id": "j173031420484.5058", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j173031420484.5058", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 16:54:49,994 p=252335 u=reseke n=ansible | TASK [Print ZFS Status] ****************************************************************************************************************************************
2025-05-08 16:54:51,100 p=252335 u=reseke n=ansible | changed: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.010556", "end": "2025-05-08 14:54:52.922263", "msg": "", "rc": 0, "start": "2025-05-08 14:54:52.911707", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:5    0   30G  0 disk /mnt/data", "stdout_lines": ["nvme1n1     259:5    0   30G  0 disk /mnt/data"]}
2025-05-08 16:54:51,170 p=252335 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.006746", "end": "2025-05-08 14:54:52.968031", "msg": "", "rc": 0, "start": "2025-05-08 14:54:52.961285", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk /mnt/data\nnvme2n1     259:6    0  500G  0 disk ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk /mnt/data", "nvme2n1     259:6    0  500G  0 disk "]}
2025-05-08 16:54:51,316 p=252335 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.011146", "end": "2025-05-08 14:54:53.104892", "msg": "", "rc": 0, "start": "2025-05-08 14:54:53.093746", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:5    0   30G  0 disk /mnt/data", "stdout_lines": ["nvme1n1     259:5    0   30G  0 disk /mnt/data"]}
2025-05-08 16:54:51,321 p=252335 u=reseke n=ansible | TASK [Is zfs on the systems? No, but here is the lsblk info] ***************************************************************************************************
2025-05-08 16:54:51,357 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:5    0   30G  0 disk /mnt/data', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-08 14:54:53.093746', 'end': '2025-05-08 14:54:53.104892', 'delta': '0:00:00.011146', 'msg': '', 'stdout_lines': ['nvme1n1     259:5    0   30G  0 disk /mnt/data'], 'stderr_lines': [], 'failed': False}"
}
2025-05-08 16:54:51,363 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk /mnt/data\\nnvme2n1     259:6    0  500G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-08 14:54:52.961285', 'end': '2025-05-08 14:54:52.968031', 'delta': '0:00:00.006746', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk /mnt/data', 'nvme2n1     259:6    0  500G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-08 16:54:51,369 p=252335 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:5    0   30G  0 disk /mnt/data', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-08 14:54:52.911707', 'end': '2025-05-08 14:54:52.922263', 'delta': '0:00:00.010556', 'msg': '', 'stdout_lines': ['nvme1n1     259:5    0   30G  0 disk /mnt/data'], 'stderr_lines': [], 'failed': False}"
}
2025-05-08 16:54:51,373 p=252335 u=reseke n=ansible | TASK [Create mound point for data scratch drive] ***************************************************************************************************************
2025-05-08 16:54:52,449 p=252335 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/data", "secontext": "system_u:object_r:unlabeled_t:s0", "size": 4096, "state": "directory", "uid": 0}
2025-05-08 16:54:52,591 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/data", "secontext": "system_u:object_r:unlabeled_t:s0", "size": 4096, "state": "directory", "uid": 0}
2025-05-08 16:54:52,718 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/data", "secontext": "system_u:object_r:unlabeled_t:s0", "size": 4096, "state": "directory", "uid": 0}
2025-05-08 16:54:52,723 p=252335 u=reseke n=ansible | TASK [Create File System] **************************************************************************************************************************************
2025-05-08 16:54:52,757 p=252335 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 16:54:52,762 p=252335 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 16:54:52,770 p=252335 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 16:54:52,960 p=252335 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 16:54:53,002 p=252335 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 16:54:53,013 p=252335 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 16:54:54,021 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false}
2025-05-08 16:54:54,117 p=252335 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false}
2025-05-08 16:54:54,249 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false}
2025-05-08 16:54:54,254 p=252335 u=reseke n=ansible | TASK [Mount File System] ***************************************************************************************************************************************
2025-05-08 16:54:54,287 p=252335 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:54:54,292 p=252335 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:54:54,302 p=252335 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:54:54,495 p=252335 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:54:54,525 p=252335 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:54:54,531 p=252335 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:54:55,525 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"backup_file": "", "boot": "yes", "changed": false, "dump": "0", "fstab": "/etc/fstab", "fstype": "ext4", "name": "/mnt/data", "opts": "defaults", "passno": "0", "src": "/dev/nvme1n1"}
2025-05-08 16:54:55,544 p=252335 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"backup_file": "", "boot": "yes", "changed": false, "dump": "0", "fstab": "/etc/fstab", "fstype": "ext4", "name": "/mnt/data", "opts": "defaults", "passno": "0", "src": "/dev/nvme1n1"}
2025-05-08 16:54:55,745 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"backup_file": "", "boot": "yes", "changed": false, "dump": "0", "fstab": "/etc/fstab", "fstype": "ext4", "name": "/mnt/data", "opts": "defaults", "passno": "0", "src": "/dev/nvme1n1"}
2025-05-08 16:54:55,752 p=252335 u=reseke n=ansible | TASK [Create mound point for OSS server] ***********************************************************************************************************************
2025-05-08 16:54:55,787 p=252335 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 16:54:55,800 p=252335 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 16:54:57,017 p=252335 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-08 16:54:57,023 p=252335 u=reseke n=ansible | TASK [start ZFS] ***********************************************************************************************************************************************
2025-05-08 16:54:57,058 p=252335 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 16:54:57,070 p=252335 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 16:54:58,843 p=252335 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": ["/sbin/modprobe", "zfs"], "delta": "0:00:00.428507", "end": "2025-05-08 14:55:00.378906", "msg": "", "rc": 0, "start": "2025-05-08 14:54:59.950399", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 16:54:58,848 p=252335 u=reseke n=ansible | TASK [Is zfs on the systems? No, but here is the lsblk info] ***************************************************************************************************
2025-05-08 16:54:58,885 p=252335 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"false_condition": "ansible_host == '10.0.1.11'"}
2025-05-08 16:54:58,893 p=252335 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': '', 'stderr': '', 'rc': 0, 'cmd': ['/sbin/modprobe', 'zfs'], 'start': '2025-05-08 14:54:59.950399', 'end': '2025-05-08 14:55:00.378906', 'delta': '0:00:00.428507', 'msg': '', 'stdout_lines': [], 'stderr_lines': [], 'failed': False}"
}
2025-05-08 16:54:58,894 p=252335 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"false_condition": "ansible_host == '10.0.1.11'"}
2025-05-08 16:54:58,898 p=252335 u=reseke n=ansible | TASK [Create postgres zpool] ***********************************************************************************************************************************
2025-05-08 16:54:58,916 p=252335 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 16:54:58,924 p=252335 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 16:55:00,175 p=252335 u=reseke n=ansible | fatal: [ip-10-0-1-11.eu-central-1.compute.internal]: FAILED! => {"changed": true, "cmd": ["zpool", "create", "Lust_pool", "dev/nvme2n1"], "delta": "0:00:00.011032", "end": "2025-05-08 14:55:01.914231", "msg": "non-zero return code", "rc": 1, "start": "2025-05-08 14:55:01.903199", "stderr": "cannot open 'dev/nvme2n1': no such device in /dev\nmust be a full path or shorthand device name", "stderr_lines": ["cannot open 'dev/nvme2n1': no such device in /dev", "must be a full path or shorthand device name"], "stdout": "", "stdout_lines": []}
2025-05-08 16:55:00,176 p=252335 u=reseke n=ansible | NO MORE HOSTS LEFT *********************************************************************************************************************************************
2025-05-08 16:55:00,177 p=252335 u=reseke n=ansible | PLAY RECAP *****************************************************************************************************************************************************
2025-05-08 16:55:00,178 p=252335 u=reseke n=ansible | ec2-63-178-8-224.eu-central-1.compute.amazonaws.com : ok=19   changed=4    unreachable=0    failed=0    skipped=7    rescued=0    ignored=0   
2025-05-08 16:55:00,178 p=252335 u=reseke n=ansible | ip-10-0-1-10.eu-central-1.compute.internal : ok=19   changed=3    unreachable=0    failed=0    skipped=9    rescued=0    ignored=0   
2025-05-08 16:55:00,178 p=252335 u=reseke n=ansible | ip-10-0-1-11.eu-central-1.compute.internal : ok=20   changed=5    unreachable=0    failed=1    skipped=5    rescued=0    ignored=0   
2025-05-08 16:57:33,844 p=255127 u=reseke n=ansible | ansible-playbook [core 2.16.14]
  config file = /home/reseke/docker/Terraform_Lustre/ansible.cfg
  configured module search path = ['/home/reseke/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/reseke/.local/lib/python3.10/site-packages/ansible
  ansible collection location = /home/reseke/.ansible/collections:/usr/share/ansible/collections
  executable location = /home/reseke/.local/bin/ansible-playbook
  python version = 3.10.12 (main, Feb  4 2025, 14:57:36) [GCC 11.4.0] (/usr/bin/python3)
  jinja version = 3.0.3
  libyaml = True
2025-05-08 16:57:33,844 p=255127 u=reseke n=ansible | Using /home/reseke/docker/Terraform_Lustre/ansible.cfg as config file
2025-05-08 16:57:37,098 p=255127 u=reseke n=ansible | redirecting (type: inventory) ansible.builtin.aws_ec2 to amazon.aws.aws_ec2
2025-05-08 16:57:37,195 p=255127 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-08 16:57:37,809 p=255127 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 16:57:37,816 p=255127 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:57:37,819 p=255127 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.zfs to community.general.zfs
2025-05-08 16:57:37,820 p=255127 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:57:37,829 p=255127 u=reseke n=ansible | Skipping callback 'default', as we already have a stdout callback.
2025-05-08 16:57:37,830 p=255127 u=reseke n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2025-05-08 16:57:37,830 p=255127 u=reseke n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2025-05-08 16:57:37,830 p=255127 u=reseke n=ansible | PLAYBOOK: playbook.yml *****************************************************************************************************************************************
2025-05-08 16:57:37,830 p=255127 u=reseke n=ansible | 1 plays in ../Terraform_Lustre/playbook.yml
2025-05-08 16:57:37,832 p=255127 u=reseke n=ansible | PLAY [Setup Lustre on test servers] ****************************************************************************************************************************
2025-05-08 16:57:37,838 p=255127 u=reseke n=ansible | TASK [Include vault] *******************************************************************************************************************************************
2025-05-08 16:57:37,877 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-08 16:57:37,882 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-08 16:57:37,890 p=255127 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-08 16:57:37,893 p=255127 u=reseke n=ansible | TASK [Set_SSH_Vars : Set_fact hostvar of public IP] ************************************************************************************************************
2025-05-08 16:57:37,905 p=255127 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-08 16:57:37,911 p=255127 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-08 16:57:37,925 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal -> localhost] => (item=ec2-63-178-8-224.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"ec2_public_ip": "63.178.8.224"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com"}
2025-05-08 16:57:37,927 p=255127 u=reseke n=ansible | TASK [Set_SSH_Vars : Set bastion_host variable on localhost] ***************************************************************************************************
2025-05-08 16:57:37,945 p=255127 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-08 16:57:37,947 p=255127 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-08 16:57:37,951 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal -> localhost] => (item=ec2-63-178-8-224.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"bastion_host": "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com"}
2025-05-08 16:57:37,953 p=255127 u=reseke n=ansible | TASK [Set_SSH_Vars : Mark ec2 public IP] ***********************************************************************************************************************
2025-05-08 16:57:37,967 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-10.eu-central-1.compute.internal The public IP is 63.178.8.224",
        "10.0.1.10 IP to connect with",
        "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-08 16:57:37,977 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-11.eu-central-1.compute.internal The public IP is 63.178.8.224",
        "10.0.1.11 IP to connect with",
        "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-08 16:57:37,985 p=255127 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com The public IP is 63.178.8.224",
        "10.0.1.12 IP to connect with",
        "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-08 16:57:37,988 p=255127 u=reseke n=ansible | TASK [Set_SSH_Vars : Make sure bastion uses public IP] *********************************************************************************************************
2025-05-08 16:57:38,001 p=255127 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:57:38,007 p=255127 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:57:38,019 p=255127 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com -> localhost] => {"ansible_facts": {"ansible_host": "63.178.8.224"}, "changed": false}
2025-05-08 16:57:38,021 p=255127 u=reseke n=ansible | TASK [Set_SSH_Vars : Set SSH ProxyCommand for Specific Hosts] **************************************************************************************************
2025-05-08 16:57:38,042 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.178.8.224\""}, "changed": false}
2025-05-08 16:57:38,046 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.178.8.224\""}, "changed": false}
2025-05-08 16:57:38,048 p=255127 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:57:38,053 p=255127 u=reseke n=ansible | TASK [Copy ssh-key to non-bastion hosts] ***********************************************************************************************************************
2025-05-08 16:57:38,088 p=255127 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:57:41,182 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-08 16:57:41,340 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-08 16:57:41,343 p=255127 u=reseke n=ansible | TASK [Print Public IP Address] *********************************************************************************************************************************
2025-05-08 16:57:41,365 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-10.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-10.eu-central-1.compute.internal', 'ip-10-0-1-11.eu-central-1.compute.internal', 'ec2-63-178-8-224.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.10"
    ]
}
2025-05-08 16:57:41,374 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-11.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-10.eu-central-1.compute.internal', 'ip-10-0-1-11.eu-central-1.compute.internal', 'ec2-63-178-8-224.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.11"
    ]
}
2025-05-08 16:57:41,382 p=255127 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Public IP of ec2-63-178-8-224.eu-central-1.compute.amazonaws.com is 63.178.8.224",
        "Ansible Play hosts ['ip-10-0-1-10.eu-central-1.compute.internal', 'ip-10-0-1-11.eu-central-1.compute.internal', 'ec2-63-178-8-224.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.12"
    ]
}
2025-05-08 16:57:41,384 p=255127 u=reseke n=ansible | TASK [Print SSH connection] ************************************************************************************************************************************
2025-05-08 16:57:41,404 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-10.eu-central-1.compute.internal via 10.0.1.10 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.178.8.224\""
}
2025-05-08 16:57:41,412 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-11.eu-central-1.compute.internal via 10.0.1.11 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.178.8.224\""
}
2025-05-08 16:57:41,416 p=255127 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": "Connecting to ec2-63-178-8-224.eu-central-1.compute.amazonaws.com via 63.178.8.224 using No SSH args set"
}
2025-05-08 16:57:41,418 p=255127 u=reseke n=ansible | TASK [Add in the DNF update and install role] ******************************************************************************************************************
2025-05-08 16:57:41,453 p=255127 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-08 16:57:41,474 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.10"
    ]
}
2025-05-08 16:57:41,476 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.11"
    ]
}
2025-05-08 16:57:41,485 p=255127 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Ansible Host from DNF role: 63.178.8.224"
    ]
}
2025-05-08 16:57:41,487 p=255127 u=reseke n=ansible | TASK [Dnf_access_install : Install squid proxy on bastion] *****************************************************************************************************
2025-05-08 16:57:41,508 p=255127 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:57:41,509 p=255127 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:57:47,276 p=255127 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"pkg_mgr": "dnf"}, "changed": false, "msg": "Nothing to do", "rc": 0, "results": []}
2025-05-08 16:57:47,283 p=255127 u=reseke n=ansible | TASK [Dnf_access_install : define squi.conf] *******************************************************************************************************************
2025-05-08 16:57:47,318 p=255127 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:57:47,321 p=255127 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:57:49,209 p=255127 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "checksum": "f673c76b3dbcf83cb7aed48af68c42377a95ae0c", "dest": "/etc/squid/squid.conf", "gid": 23, "group": "squid", "mode": "0640", "owner": "root", "path": "/etc/squid/squid.conf", "secontext": "system_u:object_r:squid_conf_t:s0", "size": 224, "state": "file", "uid": 0}
2025-05-08 16:57:49,216 p=255127 u=reseke n=ansible | TASK [Dnf_access_install : Run command to enable squid] ********************************************************************************************************
2025-05-08 16:57:49,251 p=255127 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:57:49,254 p=255127 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:57:50,662 p=255127 u=reseke n=ansible | changed: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": ["sudo", "systemctl", "enable", "--now", "squid"], "delta": "0:00:00.263867", "end": "2025-05-08 14:57:50.525359", "msg": "", "rc": 0, "start": "2025-05-08 14:57:50.261492", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 16:57:50,668 p=255127 u=reseke n=ansible | TASK [Dnf_access_install : set bastion ip address for the other servers] ***************************************************************************************
2025-05-08 16:57:50,702 p=255127 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:57:50,704 p=255127 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:57:50,716 p=255127 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"bastion_ip": "63.178.8.224"}, "changed": false}
2025-05-08 16:57:50,720 p=255127 u=reseke n=ansible | TASK [Dnf_access_install : Add proxy data to dnf.config to other servers] **************************************************************************************
2025-05-08 16:57:50,745 p=255127 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 16:57:52,127 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"backup": "", "changed": false, "msg": ""}
2025-05-08 16:57:52,255 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"backup": "", "changed": false, "msg": ""}
2025-05-08 16:57:52,258 p=255127 u=reseke n=ansible | TASK [Dnf_access_install : Get Python version] *****************************************************************************************************************
2025-05-08 16:57:53,421 p=255127 u=reseke n=ansible | changed: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.018612", "end": "2025-05-08 14:57:53.288305", "msg": "", "rc": 0, "start": "2025-05-08 14:57:53.269693", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-08 16:57:53,457 p=255127 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.008644", "end": "2025-05-08 14:57:53.205676", "msg": "", "rc": 0, "start": "2025-05-08 14:57:53.197032", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-08 16:57:53,710 p=255127 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.010554", "end": "2025-05-08 14:57:53.501110", "msg": "", "rc": 0, "start": "2025-05-08 14:57:53.490556", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-08 16:57:53,713 p=255127 u=reseke n=ansible | TASK [Dnf_access_install : cat dnf.conf] ***********************************************************************************************************************
2025-05-08 16:57:54,838 p=255127 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.005300", "end": "2025-05-08 14:57:54.676110", "msg": "", "rc": 0, "start": "2025-05-08 14:57:54.670810", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-08 16:57:54,844 p=255127 u=reseke n=ansible | changed: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.009202", "end": "2025-05-08 14:57:54.704702", "msg": "", "rc": 0, "start": "2025-05-08 14:57:54.695500", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"]}
2025-05-08 16:57:55,088 p=255127 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.009473", "end": "2025-05-08 14:57:54.930781", "msg": "", "rc": 0, "start": "2025-05-08 14:57:54.921308", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-08 16:57:55,094 p=255127 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-08 16:57:55,134 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-08 16:57:55,140 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-08 16:57:55,146 p=255127 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"
    ]
}
2025-05-08 16:57:55,149 p=255127 u=reseke n=ansible | TASK [Dnf_access_install : Install common packages] ************************************************************************************************************
2025-05-08 16:58:08,886 p=255127 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"ansible_job_id": "j166110283808.8096", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j166110283808.8096", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 16:58:09,658 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_job_id": "j224339495793.7153", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j224339495793.7153", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 16:58:10,656 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_job_id": "j390047475987.6761", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j390047475987.6761", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 16:58:10,673 p=255127 u=reseke n=ansible | TASK [Print ZFS Status] ****************************************************************************************************************************************
2025-05-08 16:58:11,865 p=255127 u=reseke n=ansible | changed: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.010802", "end": "2025-05-08 14:58:11.656563", "msg": "", "rc": 0, "start": "2025-05-08 14:58:11.645761", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:5    0   30G  0 disk /mnt/data", "stdout_lines": ["nvme1n1     259:5    0   30G  0 disk /mnt/data"]}
2025-05-08 16:58:11,890 p=255127 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.007851", "end": "2025-05-08 14:58:11.665114", "msg": "", "rc": 0, "start": "2025-05-08 14:58:11.657263", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk /mnt/data\nnvme2n1     259:6    0  500G  0 disk ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk /mnt/data", "nvme2n1     259:6    0  500G  0 disk "]}
2025-05-08 16:58:12,031 p=255127 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.011116", "end": "2025-05-08 14:58:11.842710", "msg": "", "rc": 0, "start": "2025-05-08 14:58:11.831594", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:5    0   30G  0 disk /mnt/data", "stdout_lines": ["nvme1n1     259:5    0   30G  0 disk /mnt/data"]}
2025-05-08 16:58:12,036 p=255127 u=reseke n=ansible | TASK [Is zfs on the systems? No, but here is the lsblk info] ***************************************************************************************************
2025-05-08 16:58:12,072 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:5    0   30G  0 disk /mnt/data', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-08 14:58:11.831594', 'end': '2025-05-08 14:58:11.842710', 'delta': '0:00:00.011116', 'msg': '', 'stdout_lines': ['nvme1n1     259:5    0   30G  0 disk /mnt/data'], 'stderr_lines': [], 'failed': False}"
}
2025-05-08 16:58:12,077 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk /mnt/data\\nnvme2n1     259:6    0  500G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-08 14:58:11.657263', 'end': '2025-05-08 14:58:11.665114', 'delta': '0:00:00.007851', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk /mnt/data', 'nvme2n1     259:6    0  500G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-08 16:58:12,083 p=255127 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:5    0   30G  0 disk /mnt/data', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-08 14:58:11.645761', 'end': '2025-05-08 14:58:11.656563', 'delta': '0:00:00.010802', 'msg': '', 'stdout_lines': ['nvme1n1     259:5    0   30G  0 disk /mnt/data'], 'stderr_lines': [], 'failed': False}"
}
2025-05-08 16:58:12,086 p=255127 u=reseke n=ansible | TASK [Create mound point for data scratch drive] ***************************************************************************************************************
2025-05-08 16:58:13,290 p=255127 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/data", "secontext": "system_u:object_r:unlabeled_t:s0", "size": 4096, "state": "directory", "uid": 0}
2025-05-08 16:58:13,292 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/data", "secontext": "system_u:object_r:unlabeled_t:s0", "size": 4096, "state": "directory", "uid": 0}
2025-05-08 16:58:13,483 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/data", "secontext": "system_u:object_r:unlabeled_t:s0", "size": 4096, "state": "directory", "uid": 0}
2025-05-08 16:58:13,489 p=255127 u=reseke n=ansible | TASK [Create File System] **************************************************************************************************************************************
2025-05-08 16:58:13,524 p=255127 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 16:58:13,529 p=255127 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 16:58:13,538 p=255127 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 16:58:13,724 p=255127 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 16:58:13,778 p=255127 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 16:58:13,778 p=255127 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 16:58:14,798 p=255127 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false}
2025-05-08 16:58:14,825 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false}
2025-05-08 16:58:14,946 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false}
2025-05-08 16:58:14,951 p=255127 u=reseke n=ansible | TASK [Mount File System] ***************************************************************************************************************************************
2025-05-08 16:58:14,985 p=255127 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:58:14,992 p=255127 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:58:15,000 p=255127 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:58:15,224 p=255127 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:58:15,225 p=255127 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:58:15,227 p=255127 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 16:58:16,230 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"backup_file": "", "boot": "yes", "changed": false, "dump": "0", "fstab": "/etc/fstab", "fstype": "ext4", "name": "/mnt/data", "opts": "defaults", "passno": "0", "src": "/dev/nvme1n1"}
2025-05-08 16:58:16,236 p=255127 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"backup_file": "", "boot": "yes", "changed": false, "dump": "0", "fstab": "/etc/fstab", "fstype": "ext4", "name": "/mnt/data", "opts": "defaults", "passno": "0", "src": "/dev/nvme1n1"}
2025-05-08 16:58:16,411 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"backup_file": "", "boot": "yes", "changed": false, "dump": "0", "fstab": "/etc/fstab", "fstype": "ext4", "name": "/mnt/data", "opts": "defaults", "passno": "0", "src": "/dev/nvme1n1"}
2025-05-08 16:58:16,417 p=255127 u=reseke n=ansible | TASK [Create mound point for OSS server] ***********************************************************************************************************************
2025-05-08 16:58:16,452 p=255127 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 16:58:16,462 p=255127 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 16:58:17,642 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-08 16:58:17,647 p=255127 u=reseke n=ansible | TASK [start ZFS] ***********************************************************************************************************************************************
2025-05-08 16:58:17,682 p=255127 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 16:58:17,691 p=255127 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 16:58:18,860 p=255127 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": ["/sbin/modprobe", "zfs"], "delta": "0:00:00.004067", "end": "2025-05-08 14:58:18.599964", "msg": "", "rc": 0, "start": "2025-05-08 14:58:18.595897", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 16:58:18,865 p=255127 u=reseke n=ansible | TASK [Is zfs on the systems? No, but here is the lsblk info] ***************************************************************************************************
2025-05-08 16:58:18,901 p=255127 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"false_condition": "ansible_host == '10.0.1.11'"}
2025-05-08 16:58:18,908 p=255127 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': '', 'stderr': '', 'rc': 0, 'cmd': ['/sbin/modprobe', 'zfs'], 'start': '2025-05-08 14:58:18.595897', 'end': '2025-05-08 14:58:18.599964', 'delta': '0:00:00.004067', 'msg': '', 'stdout_lines': [], 'stderr_lines': [], 'failed': False}"
}
2025-05-08 16:58:18,908 p=255127 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"false_condition": "ansible_host == '10.0.1.11'"}
2025-05-08 16:58:18,910 p=255127 u=reseke n=ansible | TASK [Create postgres zpool] ***********************************************************************************************************************************
2025-05-08 16:58:18,933 p=255127 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 16:58:18,945 p=255127 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 16:58:20,801 p=255127 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": ["zpool", "create", "Lust_pool", "/dev/nvme2n1"], "delta": "0:00:00.470981", "end": "2025-05-08 14:58:20.355636", "msg": "", "rc": 0, "start": "2025-05-08 14:58:19.884655", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 16:58:20,809 p=255127 u=reseke n=ansible | TASK [Create zfs pool] *****************************************************************************************************************************************
2025-05-08 16:58:20,840 p=255127 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 16:58:20,846 p=255127 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.zfs to community.general.zfs
2025-05-08 16:58:20,850 p=255127 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 16:58:21,073 p=255127 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.zfs to community.general.zfs
2025-05-08 16:58:22,303 p=255127 u=reseke n=ansible | fatal: [ip-10-0-1-11.eu-central-1.compute.internal]: FAILED! => {"changed": false, "msg": "missing required arguments: name, state"}
2025-05-08 16:58:22,304 p=255127 u=reseke n=ansible | NO MORE HOSTS LEFT *********************************************************************************************************************************************
2025-05-08 16:58:22,306 p=255127 u=reseke n=ansible | PLAY RECAP *****************************************************************************************************************************************************
2025-05-08 16:58:22,307 p=255127 u=reseke n=ansible | ec2-63-178-8-224.eu-central-1.compute.amazonaws.com : ok=19   changed=4    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
2025-05-08 16:58:22,307 p=255127 u=reseke n=ansible | ip-10-0-1-10.eu-central-1.compute.internal : ok=19   changed=3    unreachable=0    failed=0    skipped=10   rescued=0    ignored=0   
2025-05-08 16:58:22,307 p=255127 u=reseke n=ansible | ip-10-0-1-11.eu-central-1.compute.internal : ok=21   changed=5    unreachable=0    failed=1    skipped=5    rescued=0    ignored=0   
2025-05-08 17:11:14,247 p=265511 u=reseke n=ansible | ansible-playbook [core 2.16.14]
  config file = /home/reseke/docker/Terraform_Lustre/ansible.cfg
  configured module search path = ['/home/reseke/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/reseke/.local/lib/python3.10/site-packages/ansible
  ansible collection location = /home/reseke/.ansible/collections:/usr/share/ansible/collections
  executable location = /home/reseke/.local/bin/ansible-playbook
  python version = 3.10.12 (main, Feb  4 2025, 14:57:36) [GCC 11.4.0] (/usr/bin/python3)
  jinja version = 3.0.3
  libyaml = True
2025-05-08 17:11:14,248 p=265511 u=reseke n=ansible | Using /home/reseke/docker/Terraform_Lustre/ansible.cfg as config file
2025-05-08 17:11:18,260 p=265511 u=reseke n=ansible | redirecting (type: inventory) ansible.builtin.aws_ec2 to amazon.aws.aws_ec2
2025-05-08 17:11:18,349 p=265511 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-08 17:11:18,974 p=265511 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 17:11:18,981 p=265511 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 17:11:18,992 p=265511 u=reseke n=ansible | Skipping callback 'default', as we already have a stdout callback.
2025-05-08 17:11:18,992 p=265511 u=reseke n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2025-05-08 17:11:18,992 p=265511 u=reseke n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2025-05-08 17:11:18,992 p=265511 u=reseke n=ansible | PLAYBOOK: playbook.yml *****************************************************************************************************************************************
2025-05-08 17:11:18,992 p=265511 u=reseke n=ansible | 1 plays in ../Terraform_Lustre/playbook.yml
2025-05-08 17:11:18,994 p=265511 u=reseke n=ansible | PLAY [Setup Lustre on test servers] ****************************************************************************************************************************
2025-05-08 17:11:19,001 p=265511 u=reseke n=ansible | TASK [Include vault] *******************************************************************************************************************************************
2025-05-08 17:11:19,033 p=265511 u=reseke n=ansible | fatal: [ip-10-0-1-10.eu-central-1.compute.internal]: FAILED! => {"ansible_facts": {}, "ansible_included_var_files": [], "changed": false, "message": "Decryption failed (no vault secrets were found that could decrypt) on /home/reseke/docker/Terraform_Lustre/Terraform_Vault"}
2025-05-08 17:11:19,039 p=265511 u=reseke n=ansible | fatal: [ip-10-0-1-11.eu-central-1.compute.internal]: FAILED! => {"ansible_facts": {}, "ansible_included_var_files": [], "changed": false, "message": "Decryption failed (no vault secrets were found that could decrypt) on /home/reseke/docker/Terraform_Lustre/Terraform_Vault"}
2025-05-08 17:11:19,044 p=265511 u=reseke n=ansible | fatal: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com]: FAILED! => {"ansible_facts": {}, "ansible_included_var_files": [], "changed": false, "message": "Decryption failed (no vault secrets were found that could decrypt) on /home/reseke/docker/Terraform_Lustre/Terraform_Vault"}
2025-05-08 17:11:19,045 p=265511 u=reseke n=ansible | NO MORE HOSTS LEFT *********************************************************************************************************************************************
2025-05-08 17:11:19,046 p=265511 u=reseke n=ansible | PLAY RECAP *****************************************************************************************************************************************************
2025-05-08 17:11:19,046 p=265511 u=reseke n=ansible | ec2-63-178-8-224.eu-central-1.compute.amazonaws.com : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-08 17:11:19,046 p=265511 u=reseke n=ansible | ip-10-0-1-10.eu-central-1.compute.internal : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-08 17:11:19,046 p=265511 u=reseke n=ansible | ip-10-0-1-11.eu-central-1.compute.internal : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-08 17:11:22,853 p=265617 u=reseke n=ansible | ansible-playbook [core 2.16.14]
  config file = /home/reseke/docker/Terraform_Lustre/ansible.cfg
  configured module search path = ['/home/reseke/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/reseke/.local/lib/python3.10/site-packages/ansible
  ansible collection location = /home/reseke/.ansible/collections:/usr/share/ansible/collections
  executable location = /home/reseke/.local/bin/ansible-playbook
  python version = 3.10.12 (main, Feb  4 2025, 14:57:36) [GCC 11.4.0] (/usr/bin/python3)
  jinja version = 3.0.3
  libyaml = True
2025-05-08 17:11:22,853 p=265617 u=reseke n=ansible | Using /home/reseke/docker/Terraform_Lustre/ansible.cfg as config file
2025-05-08 17:11:30,986 p=265617 u=reseke n=ansible | redirecting (type: inventory) ansible.builtin.aws_ec2 to amazon.aws.aws_ec2
2025-05-08 17:11:31,078 p=265617 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-08 17:11:31,651 p=265617 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 17:11:31,658 p=265617 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 17:11:31,668 p=265617 u=reseke n=ansible | Skipping callback 'default', as we already have a stdout callback.
2025-05-08 17:11:31,669 p=265617 u=reseke n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2025-05-08 17:11:31,669 p=265617 u=reseke n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2025-05-08 17:11:31,669 p=265617 u=reseke n=ansible | PLAYBOOK: playbook.yml *****************************************************************************************************************************************
2025-05-08 17:11:31,669 p=265617 u=reseke n=ansible | 1 plays in ../Terraform_Lustre/playbook.yml
2025-05-08 17:11:31,670 p=265617 u=reseke n=ansible | PLAY [Setup Lustre on test servers] ****************************************************************************************************************************
2025-05-08 17:11:31,677 p=265617 u=reseke n=ansible | TASK [Include vault] *******************************************************************************************************************************************
2025-05-08 17:11:31,710 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-08 17:11:31,718 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-08 17:11:31,719 p=265617 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-08 17:11:31,721 p=265617 u=reseke n=ansible | TASK [Set_SSH_Vars : Set_fact hostvar of public IP] ************************************************************************************************************
2025-05-08 17:11:31,736 p=265617 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-08 17:11:31,739 p=265617 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-08 17:11:31,750 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal -> localhost] => (item=ec2-63-178-8-224.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"ec2_public_ip": "63.178.8.224"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com"}
2025-05-08 17:11:31,752 p=265617 u=reseke n=ansible | TASK [Set_SSH_Vars : Set bastion_host variable on localhost] ***************************************************************************************************
2025-05-08 17:11:31,769 p=265617 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-08 17:11:31,770 p=265617 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-08 17:11:31,775 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal -> localhost] => (item=ec2-63-178-8-224.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"bastion_host": "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com"}
2025-05-08 17:11:31,781 p=265617 u=reseke n=ansible | TASK [Set_SSH_Vars : Mark ec2 public IP] ***********************************************************************************************************************
2025-05-08 17:11:31,802 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-10.eu-central-1.compute.internal The public IP is 63.178.8.224",
        "10.0.1.10 IP to connect with",
        "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-08 17:11:31,808 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-11.eu-central-1.compute.internal The public IP is 63.178.8.224",
        "10.0.1.11 IP to connect with",
        "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-08 17:11:31,817 p=265617 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com The public IP is 63.178.8.224",
        "10.0.1.12 IP to connect with",
        "ec2-63-178-8-224.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-08 17:11:31,818 p=265617 u=reseke n=ansible | TASK [Set_SSH_Vars : Make sure bastion uses public IP] *********************************************************************************************************
2025-05-08 17:11:31,836 p=265617 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:11:31,837 p=265617 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:11:31,847 p=265617 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com -> localhost] => {"ansible_facts": {"ansible_host": "63.178.8.224"}, "changed": false}
2025-05-08 17:11:31,850 p=265617 u=reseke n=ansible | TASK [Set_SSH_Vars : Set SSH ProxyCommand for Specific Hosts] **************************************************************************************************
2025-05-08 17:11:31,865 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.178.8.224\""}, "changed": false}
2025-05-08 17:11:31,870 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.178.8.224\""}, "changed": false}
2025-05-08 17:11:31,872 p=265617 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:11:31,878 p=265617 u=reseke n=ansible | TASK [Copy ssh-key to non-bastion hosts] ***********************************************************************************************************************
2025-05-08 17:11:31,905 p=265617 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:11:35,044 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-08 17:11:35,303 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-08 17:11:35,307 p=265617 u=reseke n=ansible | TASK [Print Public IP Address] *********************************************************************************************************************************
2025-05-08 17:11:35,346 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-10.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-10.eu-central-1.compute.internal', 'ip-10-0-1-11.eu-central-1.compute.internal', 'ec2-63-178-8-224.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.10"
    ]
}
2025-05-08 17:11:35,352 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-11.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-10.eu-central-1.compute.internal', 'ip-10-0-1-11.eu-central-1.compute.internal', 'ec2-63-178-8-224.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.11"
    ]
}
2025-05-08 17:11:35,357 p=265617 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Public IP of ec2-63-178-8-224.eu-central-1.compute.amazonaws.com is 63.178.8.224",
        "Ansible Play hosts ['ip-10-0-1-10.eu-central-1.compute.internal', 'ip-10-0-1-11.eu-central-1.compute.internal', 'ec2-63-178-8-224.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.12"
    ]
}
2025-05-08 17:11:35,359 p=265617 u=reseke n=ansible | TASK [Print SSH connection] ************************************************************************************************************************************
2025-05-08 17:11:35,378 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-10.eu-central-1.compute.internal via 10.0.1.10 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.178.8.224\""
}
2025-05-08 17:11:35,386 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-11.eu-central-1.compute.internal via 10.0.1.11 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.178.8.224\""
}
2025-05-08 17:11:35,391 p=265617 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": "Connecting to ec2-63-178-8-224.eu-central-1.compute.amazonaws.com via 63.178.8.224 using No SSH args set"
}
2025-05-08 17:11:35,393 p=265617 u=reseke n=ansible | TASK [Add in the DNF update and install role] ******************************************************************************************************************
2025-05-08 17:11:35,438 p=265617 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-08 17:11:35,464 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.10"
    ]
}
2025-05-08 17:11:35,468 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.11"
    ]
}
2025-05-08 17:11:35,477 p=265617 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Ansible Host from DNF role: 63.178.8.224"
    ]
}
2025-05-08 17:11:35,479 p=265617 u=reseke n=ansible | TASK [Dnf_access_install : Install squid proxy on bastion] *****************************************************************************************************
2025-05-08 17:11:35,498 p=265617 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:11:35,501 p=265617 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:11:41,339 p=265617 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"pkg_mgr": "dnf"}, "changed": false, "msg": "Nothing to do", "rc": 0, "results": []}
2025-05-08 17:11:41,346 p=265617 u=reseke n=ansible | TASK [Dnf_access_install : define squi.conf] *******************************************************************************************************************
2025-05-08 17:11:41,381 p=265617 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:11:41,383 p=265617 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:11:43,179 p=265617 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "checksum": "f673c76b3dbcf83cb7aed48af68c42377a95ae0c", "dest": "/etc/squid/squid.conf", "gid": 23, "group": "squid", "mode": "0640", "owner": "root", "path": "/etc/squid/squid.conf", "secontext": "system_u:object_r:squid_conf_t:s0", "size": 224, "state": "file", "uid": 0}
2025-05-08 17:11:43,181 p=265617 u=reseke n=ansible | TASK [Dnf_access_install : Run command to enable squid] ********************************************************************************************************
2025-05-08 17:11:43,196 p=265617 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:11:43,198 p=265617 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:11:44,702 p=265617 u=reseke n=ansible | changed: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": ["sudo", "systemctl", "enable", "--now", "squid"], "delta": "0:00:00.272287", "end": "2025-05-08 15:11:44.548250", "msg": "", "rc": 0, "start": "2025-05-08 15:11:44.275963", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 17:11:44,709 p=265617 u=reseke n=ansible | TASK [Dnf_access_install : set bastion ip address for the other servers] ***************************************************************************************
2025-05-08 17:11:44,743 p=265617 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:11:44,744 p=265617 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:11:44,755 p=265617 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"bastion_ip": "63.178.8.224"}, "changed": false}
2025-05-08 17:11:44,757 p=265617 u=reseke n=ansible | TASK [Dnf_access_install : Add proxy data to dnf.config to other servers] **************************************************************************************
2025-05-08 17:11:44,790 p=265617 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:11:46,185 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"backup": "", "changed": false, "msg": ""}
2025-05-08 17:11:46,296 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"backup": "", "changed": false, "msg": ""}
2025-05-08 17:11:46,303 p=265617 u=reseke n=ansible | TASK [Dnf_access_install : Get Python version] *****************************************************************************************************************
2025-05-08 17:11:47,483 p=265617 u=reseke n=ansible | changed: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.009367", "end": "2025-05-08 15:11:47.279683", "msg": "", "rc": 0, "start": "2025-05-08 15:11:47.270316", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-08 17:11:47,528 p=265617 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.008080", "end": "2025-05-08 15:11:47.260777", "msg": "", "rc": 0, "start": "2025-05-08 15:11:47.252697", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-08 17:11:47,590 p=265617 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.010606", "end": "2025-05-08 15:11:47.410265", "msg": "", "rc": 0, "start": "2025-05-08 15:11:47.399659", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-08 17:11:47,596 p=265617 u=reseke n=ansible | TASK [Dnf_access_install : cat dnf.conf] ***********************************************************************************************************************
2025-05-08 17:11:48,705 p=265617 u=reseke n=ansible | changed: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.008019", "end": "2025-05-08 15:11:48.550255", "msg": "", "rc": 0, "start": "2025-05-08 15:11:48.542236", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"]}
2025-05-08 17:11:48,843 p=265617 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.005036", "end": "2025-05-08 15:11:48.680859", "msg": "", "rc": 0, "start": "2025-05-08 15:11:48.675823", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-08 17:11:48,863 p=265617 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.007975", "end": "2025-05-08 15:11:48.689174", "msg": "", "rc": 0, "start": "2025-05-08 15:11:48.681199", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-08 17:11:48,870 p=265617 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-08 17:11:48,911 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-08 17:11:48,916 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-08 17:11:48,922 p=265617 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"
    ]
}
2025-05-08 17:11:48,926 p=265617 u=reseke n=ansible | TASK [Dnf_access_install : Install common packages] ************************************************************************************************************
2025-05-08 17:12:02,437 p=265617 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"ansible_job_id": "j645486265716.10048", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j645486265716.10048", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 17:12:03,270 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_job_id": "j99158262093.9570", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j99158262093.9570", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 17:12:04,171 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_job_id": "j724896060729.8500", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j724896060729.8500", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 17:12:04,186 p=265617 u=reseke n=ansible | TASK [Print ZFS Status] ****************************************************************************************************************************************
2025-05-08 17:12:05,308 p=265617 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.007447", "end": "2025-05-08 15:12:05.145506", "msg": "", "rc": 0, "start": "2025-05-08 15:12:05.138059", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk /mnt/data\nnvme2n1     259:6    0  500G  0 disk \nnvme2n1p1 259:9    0  500G  0 part ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk /mnt/data", "nvme2n1     259:6    0  500G  0 disk ", "nvme2n1p1 259:9    0  500G  0 part "]}
2025-05-08 17:12:05,387 p=265617 u=reseke n=ansible | changed: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.012566", "end": "2025-05-08 15:12:05.241802", "msg": "", "rc": 0, "start": "2025-05-08 15:12:05.229236", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:5    0   30G  0 disk /mnt/data", "stdout_lines": ["nvme1n1     259:5    0   30G  0 disk /mnt/data"]}
2025-05-08 17:12:05,515 p=265617 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.012822", "end": "2025-05-08 15:12:05.354300", "msg": "", "rc": 0, "start": "2025-05-08 15:12:05.341478", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:5    0   30G  0 disk /mnt/data", "stdout_lines": ["nvme1n1     259:5    0   30G  0 disk /mnt/data"]}
2025-05-08 17:12:05,521 p=265617 u=reseke n=ansible | TASK [Is zfs on the systems? No, but here is the lsblk info] ***************************************************************************************************
2025-05-08 17:12:05,559 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:5    0   30G  0 disk /mnt/data', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-08 15:12:05.341478', 'end': '2025-05-08 15:12:05.354300', 'delta': '0:00:00.012822', 'msg': '', 'stdout_lines': ['nvme1n1     259:5    0   30G  0 disk /mnt/data'], 'stderr_lines': [], 'failed': False}"
}
2025-05-08 17:12:05,565 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk /mnt/data\\nnvme2n1     259:6    0  500G  0 disk \\nnvme2n1p1 259:9    0  500G  0 part ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-08 15:12:05.138059', 'end': '2025-05-08 15:12:05.145506', 'delta': '0:00:00.007447', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk /mnt/data', 'nvme2n1     259:6    0  500G  0 disk ', 'nvme2n1p1 259:9    0  500G  0 part '], 'stderr_lines': [], 'failed': False}"
}
2025-05-08 17:12:05,571 p=265617 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:5    0   30G  0 disk /mnt/data', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-08 15:12:05.229236', 'end': '2025-05-08 15:12:05.241802', 'delta': '0:00:00.012566', 'msg': '', 'stdout_lines': ['nvme1n1     259:5    0   30G  0 disk /mnt/data'], 'stderr_lines': [], 'failed': False}"
}
2025-05-08 17:12:05,573 p=265617 u=reseke n=ansible | TASK [Create mound point for data scratch drive] ***************************************************************************************************************
2025-05-08 17:12:06,744 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/data", "secontext": "system_u:object_r:unlabeled_t:s0", "size": 4096, "state": "directory", "uid": 0}
2025-05-08 17:12:06,865 p=265617 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/data", "secontext": "system_u:object_r:unlabeled_t:s0", "size": 4096, "state": "directory", "uid": 0}
2025-05-08 17:12:06,949 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/data", "secontext": "system_u:object_r:unlabeled_t:s0", "size": 4096, "state": "directory", "uid": 0}
2025-05-08 17:12:06,956 p=265617 u=reseke n=ansible | TASK [Create File System] **************************************************************************************************************************************
2025-05-08 17:12:06,989 p=265617 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 17:12:06,995 p=265617 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 17:12:07,003 p=265617 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 17:12:07,228 p=265617 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 17:12:07,228 p=265617 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 17:12:07,245 p=265617 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 17:12:08,245 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false}
2025-05-08 17:12:08,312 p=265617 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false}
2025-05-08 17:12:08,475 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false}
2025-05-08 17:12:08,481 p=265617 u=reseke n=ansible | TASK [Mount File System] ***************************************************************************************************************************************
2025-05-08 17:12:08,517 p=265617 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 17:12:08,522 p=265617 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 17:12:08,530 p=265617 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 17:12:08,753 p=265617 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 17:12:08,757 p=265617 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 17:12:08,761 p=265617 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 17:12:09,808 p=265617 u=reseke n=ansible | ok: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"backup_file": "", "boot": "yes", "changed": false, "dump": "0", "fstab": "/etc/fstab", "fstype": "ext4", "name": "/mnt/data", "opts": "defaults", "passno": "0", "src": "/dev/nvme1n1"}
2025-05-08 17:12:09,854 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"backup_file": "", "boot": "yes", "changed": false, "dump": "0", "fstab": "/etc/fstab", "fstype": "ext4", "name": "/mnt/data", "opts": "defaults", "passno": "0", "src": "/dev/nvme1n1"}
2025-05-08 17:12:09,868 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"backup_file": "", "boot": "yes", "changed": false, "dump": "0", "fstab": "/etc/fstab", "fstype": "ext4", "name": "/mnt/data", "opts": "defaults", "passno": "0", "src": "/dev/nvme1n1"}
2025-05-08 17:12:09,876 p=265617 u=reseke n=ansible | TASK [Create mound point for OSS server] ***********************************************************************************************************************
2025-05-08 17:12:09,913 p=265617 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 17:12:09,926 p=265617 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 17:12:11,077 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-08 17:12:11,082 p=265617 u=reseke n=ansible | TASK [start ZFS] ***********************************************************************************************************************************************
2025-05-08 17:12:11,118 p=265617 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 17:12:11,127 p=265617 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 17:12:12,308 p=265617 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": ["/sbin/modprobe", "zfs"], "delta": "0:00:00.005420", "end": "2025-05-08 15:12:12.053324", "msg": "", "rc": 0, "start": "2025-05-08 15:12:12.047904", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 17:12:12,313 p=265617 u=reseke n=ansible | TASK [Is zfs on the systems? No, but here is the lsblk info] ***************************************************************************************************
2025-05-08 17:12:12,352 p=265617 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"false_condition": "ansible_host == '10.0.1.11'"}
2025-05-08 17:12:12,358 p=265617 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': '', 'stderr': '', 'rc': 0, 'cmd': ['/sbin/modprobe', 'zfs'], 'start': '2025-05-08 15:12:12.047904', 'end': '2025-05-08 15:12:12.053324', 'delta': '0:00:00.005420', 'msg': '', 'stdout_lines': [], 'stderr_lines': [], 'failed': False}"
}
2025-05-08 17:12:12,360 p=265617 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"false_condition": "ansible_host == '10.0.1.11'"}
2025-05-08 17:12:12,361 p=265617 u=reseke n=ansible | TASK [Create OSS zpool] ****************************************************************************************************************************************
2025-05-08 17:12:12,380 p=265617 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 17:12:12,387 p=265617 u=reseke n=ansible | skipping: [ec2-63-178-8-224.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 17:12:13,636 p=265617 u=reseke n=ansible | fatal: [ip-10-0-1-11.eu-central-1.compute.internal]: FAILED! => {"changed": true, "cmd": ["zpool", "create", "Lust_pool", "/dev/nvme2n1"], "delta": "0:00:00.031609", "end": "2025-05-08 15:12:13.416385", "msg": "non-zero return code", "rc": 1, "start": "2025-05-08 15:12:13.384776", "stderr": "/dev/nvme2n1 is in use and contains a unknown filesystem.", "stderr_lines": ["/dev/nvme2n1 is in use and contains a unknown filesystem."], "stdout": "", "stdout_lines": []}
2025-05-08 17:12:13,637 p=265617 u=reseke n=ansible | NO MORE HOSTS LEFT *********************************************************************************************************************************************
2025-05-08 17:12:13,639 p=265617 u=reseke n=ansible | PLAY RECAP *****************************************************************************************************************************************************
2025-05-08 17:12:13,639 p=265617 u=reseke n=ansible | ec2-63-178-8-224.eu-central-1.compute.amazonaws.com : ok=19   changed=4    unreachable=0    failed=0    skipped=7    rescued=0    ignored=0   
2025-05-08 17:12:13,640 p=265617 u=reseke n=ansible | ip-10-0-1-10.eu-central-1.compute.internal : ok=19   changed=3    unreachable=0    failed=0    skipped=9    rescued=0    ignored=0   
2025-05-08 17:12:13,640 p=265617 u=reseke n=ansible | ip-10-0-1-11.eu-central-1.compute.internal : ok=20   changed=4    unreachable=0    failed=1    skipped=5    rescued=0    ignored=0   
2025-05-08 17:24:54,487 p=276204 u=reseke n=ansible | ansible-playbook [core 2.16.14]
  config file = /home/reseke/docker/Terraform_Lustre/ansible.cfg
  configured module search path = ['/home/reseke/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/reseke/.local/lib/python3.10/site-packages/ansible
  ansible collection location = /home/reseke/.ansible/collections:/usr/share/ansible/collections
  executable location = /home/reseke/.local/bin/ansible-playbook
  python version = 3.10.12 (main, Feb  4 2025, 14:57:36) [GCC 11.4.0] (/usr/bin/python3)
  jinja version = 3.0.3
  libyaml = True
2025-05-08 17:24:54,487 p=276204 u=reseke n=ansible | Using /home/reseke/docker/Terraform_Lustre/ansible.cfg as config file
2025-05-08 17:24:57,608 p=276204 u=reseke n=ansible | redirecting (type: inventory) ansible.builtin.aws_ec2 to amazon.aws.aws_ec2
2025-05-08 17:24:57,696 p=276204 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-08 17:24:58,355 p=276204 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 17:24:58,362 p=276204 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 17:24:58,372 p=276204 u=reseke n=ansible | Skipping callback 'default', as we already have a stdout callback.
2025-05-08 17:24:58,373 p=276204 u=reseke n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2025-05-08 17:24:58,373 p=276204 u=reseke n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2025-05-08 17:24:58,373 p=276204 u=reseke n=ansible | PLAYBOOK: playbook.yml *****************************************************************************************************************************************
2025-05-08 17:24:58,373 p=276204 u=reseke n=ansible | 1 plays in ../Terraform_Lustre/playbook.yml
2025-05-08 17:24:58,374 p=276204 u=reseke n=ansible | PLAY [Setup Lustre on test servers] ****************************************************************************************************************************
2025-05-08 17:24:58,382 p=276204 u=reseke n=ansible | TASK [Include vault] *******************************************************************************************************************************************
2025-05-08 17:24:58,411 p=276204 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-08 17:24:58,420 p=276204 u=reseke n=ansible | ok: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-08 17:24:58,425 p=276204 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-08 17:24:58,427 p=276204 u=reseke n=ansible | TASK [Set_SSH_Vars : Set_fact hostvar of public IP] ************************************************************************************************************
2025-05-08 17:24:58,439 p=276204 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-08 17:24:58,450 p=276204 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal -> localhost] => (item=ec2-3-121-115-227.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"ec2_public_ip": "3.121.115.227"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-3-121-115-227.eu-central-1.compute.amazonaws.com"}
2025-05-08 17:24:58,454 p=276204 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-08 17:24:58,456 p=276204 u=reseke n=ansible | TASK [Set_SSH_Vars : Set bastion_host variable on localhost] ***************************************************************************************************
2025-05-08 17:24:58,473 p=276204 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-08 17:24:58,477 p=276204 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal -> localhost] => (item=ec2-3-121-115-227.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"bastion_host": "ec2-3-121-115-227.eu-central-1.compute.amazonaws.com"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-3-121-115-227.eu-central-1.compute.amazonaws.com"}
2025-05-08 17:24:58,480 p=276204 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-08 17:24:58,485 p=276204 u=reseke n=ansible | TASK [Set_SSH_Vars : Mark ec2 public IP] ***********************************************************************************************************************
2025-05-08 17:24:58,504 p=276204 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-11.eu-central-1.compute.internal The public IP is 3.121.115.227",
        "10.0.1.11 IP to connect with",
        "ec2-3-121-115-227.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-08 17:24:58,509 p=276204 u=reseke n=ansible | ok: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "ec2-3-121-115-227.eu-central-1.compute.amazonaws.com The public IP is 3.121.115.227",
        "10.0.1.12 IP to connect with",
        "ec2-3-121-115-227.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-08 17:24:58,516 p=276204 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-10.eu-central-1.compute.internal The public IP is 3.121.115.227",
        "10.0.1.10 IP to connect with",
        "ec2-3-121-115-227.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-08 17:24:58,519 p=276204 u=reseke n=ansible | TASK [Set_SSH_Vars : Make sure bastion uses public IP] *********************************************************************************************************
2025-05-08 17:24:58,537 p=276204 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:24:58,543 p=276204 u=reseke n=ansible | ok: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com -> localhost] => {"ansible_facts": {"ansible_host": "3.121.115.227"}, "changed": false}
2025-05-08 17:24:58,545 p=276204 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:24:58,546 p=276204 u=reseke n=ansible | TASK [Set_SSH_Vars : Set SSH ProxyCommand for Specific Hosts] **************************************************************************************************
2025-05-08 17:24:58,567 p=276204 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.121.115.227\""}, "changed": false}
2025-05-08 17:24:58,569 p=276204 u=reseke n=ansible | skipping: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:24:58,577 p=276204 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.121.115.227\""}, "changed": false}
2025-05-08 17:24:58,582 p=276204 u=reseke n=ansible | TASK [Copy ssh-key to non-bastion hosts] ***********************************************************************************************************************
2025-05-08 17:24:58,605 p=276204 u=reseke n=ansible | skipping: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:25:06,926 p=276204 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-08 17:25:06,927 p=276204 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-08 17:25:06,928 p=276204 u=reseke n=ansible | TASK [Print Public IP Address] *********************************************************************************************************************************
2025-05-08 17:25:06,951 p=276204 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-11.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-11.eu-central-1.compute.internal', 'ec2-3-121-115-227.eu-central-1.compute.amazonaws.com', 'ip-10-0-1-10.eu-central-1.compute.internal']",
        "Ansible Private_ip_address 10.0.1.11"
    ]
}
2025-05-08 17:25:06,960 p=276204 u=reseke n=ansible | ok: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Public IP of ec2-3-121-115-227.eu-central-1.compute.amazonaws.com is 3.121.115.227",
        "Ansible Play hosts ['ip-10-0-1-11.eu-central-1.compute.internal', 'ec2-3-121-115-227.eu-central-1.compute.amazonaws.com', 'ip-10-0-1-10.eu-central-1.compute.internal']",
        "Ansible Private_ip_address 10.0.1.12"
    ]
}
2025-05-08 17:25:06,973 p=276204 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-10.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-11.eu-central-1.compute.internal', 'ec2-3-121-115-227.eu-central-1.compute.amazonaws.com', 'ip-10-0-1-10.eu-central-1.compute.internal']",
        "Ansible Private_ip_address 10.0.1.10"
    ]
}
2025-05-08 17:25:06,978 p=276204 u=reseke n=ansible | TASK [Print SSH connection] ************************************************************************************************************************************
2025-05-08 17:25:07,008 p=276204 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-11.eu-central-1.compute.internal via 10.0.1.11 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.121.115.227\""
}
2025-05-08 17:25:07,021 p=276204 u=reseke n=ansible | ok: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {
    "msg": "Connecting to ec2-3-121-115-227.eu-central-1.compute.amazonaws.com via 3.121.115.227 using No SSH args set"
}
2025-05-08 17:25:07,033 p=276204 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-10.eu-central-1.compute.internal via 10.0.1.10 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.121.115.227\""
}
2025-05-08 17:25:07,036 p=276204 u=reseke n=ansible | TASK [Add in the DNF update and install role] ******************************************************************************************************************
2025-05-08 17:25:07,084 p=276204 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-08 17:25:07,102 p=276204 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.11"
    ]
}
2025-05-08 17:25:07,104 p=276204 u=reseke n=ansible | ok: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Ansible Host from DNF role: 3.121.115.227"
    ]
}
2025-05-08 17:25:07,111 p=276204 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.10"
    ]
}
2025-05-08 17:25:07,116 p=276204 u=reseke n=ansible | TASK [Dnf_access_install : Install squid proxy on bastion] *****************************************************************************************************
2025-05-08 17:25:07,132 p=276204 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:25:07,141 p=276204 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:25:18,770 p=276204 u=reseke n=ansible | changed: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"pkg_mgr": "dnf"}, "changed": true, "msg": "", "rc": 0, "results": ["Installed: perl-DBI-1.641-4.module_el8.6.0+2823+173faa7e.x86_64", "Installed: libecap-1.0.1-2.module_el8.6.0+2741+01592ae8.x86_64", "Installed: libtool-ltdl-2.4.6-25.el8.x86_64", "Installed: squid-7:4.15-10.module_el8.10.0+3953+e1d43bfb.5.x86_64"]}
2025-05-08 17:25:18,773 p=276204 u=reseke n=ansible | TASK [Dnf_access_install : define squi.conf] *******************************************************************************************************************
2025-05-08 17:25:18,787 p=276204 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:25:18,803 p=276204 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:25:20,833 p=276204 u=reseke n=ansible | changed: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {"changed": true, "checksum": "f673c76b3dbcf83cb7aed48af68c42377a95ae0c", "dest": "/etc/squid/squid.conf", "gid": 23, "group": "squid", "md5sum": "c9e7e6ade5c70753847d1f2b4fa092d1", "mode": "0640", "owner": "root", "secontext": "system_u:object_r:squid_conf_t:s0", "size": 224, "src": "/home/ec2-user/.ansible/tmp/ansible-tmp-1746717918.8745277-277333-24982046660085/source", "state": "file", "uid": 0}
2025-05-08 17:25:20,836 p=276204 u=reseke n=ansible | TASK [Dnf_access_install : Run command to enable squid] ********************************************************************************************************
2025-05-08 17:25:20,848 p=276204 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:25:20,855 p=276204 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:25:22,469 p=276204 u=reseke n=ansible | changed: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": ["sudo", "systemctl", "enable", "--now", "squid"], "delta": "0:00:00.495042", "end": "2025-05-08 15:25:22.335916", "msg": "", "rc": 0, "start": "2025-05-08 15:25:21.840874", "stderr": "Created symlink /etc/systemd/system/multi-user.target.wants/squid.service  /usr/lib/systemd/system/squid.service.", "stderr_lines": ["Created symlink /etc/systemd/system/multi-user.target.wants/squid.service  /usr/lib/systemd/system/squid.service."], "stdout": "", "stdout_lines": []}
2025-05-08 17:25:22,475 p=276204 u=reseke n=ansible | TASK [Dnf_access_install : set bastion ip address for the other servers] ***************************************************************************************
2025-05-08 17:25:22,513 p=276204 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:25:22,520 p=276204 u=reseke n=ansible | ok: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"bastion_ip": "3.121.115.227"}, "changed": false}
2025-05-08 17:25:22,523 p=276204 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:25:22,524 p=276204 u=reseke n=ansible | TASK [Dnf_access_install : Add proxy data to dnf.config to other servers] **************************************************************************************
2025-05-08 17:25:22,546 p=276204 u=reseke n=ansible | skipping: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-08 17:25:23,937 p=276204 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"backup": "", "changed": true, "msg": "line added"}
2025-05-08 17:25:23,982 p=276204 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"backup": "", "changed": true, "msg": "line added"}
2025-05-08 17:25:23,990 p=276204 u=reseke n=ansible | TASK [Dnf_access_install : Get Python version] *****************************************************************************************************************
2025-05-08 17:25:25,120 p=276204 u=reseke n=ansible | changed: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.010050", "end": "2025-05-08 15:25:24.927836", "msg": "", "rc": 0, "start": "2025-05-08 15:25:24.917786", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-08 17:25:25,165 p=276204 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.012375", "end": "2025-05-08 15:25:25.032004", "msg": "", "rc": 0, "start": "2025-05-08 15:25:25.019629", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-08 17:25:25,398 p=276204 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.012256", "end": "2025-05-08 15:25:25.232505", "msg": "", "rc": 0, "start": "2025-05-08 15:25:25.220249", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-08 17:25:25,403 p=276204 u=reseke n=ansible | TASK [Dnf_access_install : cat dnf.conf] ***********************************************************************************************************************
2025-05-08 17:25:26,572 p=276204 u=reseke n=ansible | changed: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.011400", "end": "2025-05-08 15:25:26.411196", "msg": "", "rc": 0, "start": "2025-05-08 15:25:26.399796", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"]}
2025-05-08 17:25:26,613 p=276204 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.007559", "end": "2025-05-08 15:25:26.403285", "msg": "", "rc": 0, "start": "2025-05-08 15:25:26.395726", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-08 17:25:26,615 p=276204 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.006858", "end": "2025-05-08 15:25:26.448193", "msg": "", "rc": 0, "start": "2025-05-08 15:25:26.441335", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-08 17:25:26,622 p=276204 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-08 17:25:26,653 p=276204 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-08 17:25:26,660 p=276204 u=reseke n=ansible | ok: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"
    ]
}
2025-05-08 17:25:26,665 p=276204 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-08 17:25:26,667 p=276204 u=reseke n=ansible | TASK [Dnf_access_install : Install common packages] ************************************************************************************************************
2025-05-08 17:25:40,082 p=276204 u=reseke n=ansible | changed: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {"ansible_job_id": "j845461566622.4181", "changed": true, "finished": 1, "msg": "", "rc": 0, "results": ["Installed: pciutils-3.7.0-3.el8.x86_64"], "results_file": "/root/.ansible_async/j845461566622.4181", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 17:28:47,680 p=276204 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_job_id": "j682402611536.1691", "changed": true, "finished": 1, "msg": "", "rc": 0, "results": ["Installed: pciutils-3.7.0-3.el8.x86_64"], "results_file": "/root/.ansible_async/j682402611536.1691", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 17:28:48,551 p=276204 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_job_id": "j436925002135.1722", "changed": true, "finished": 1, "msg": "", "rc": 0, "results": ["Installed: pciutils-3.7.0-3.el8.x86_64"], "results_file": "/root/.ansible_async/j436925002135.1722", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 17:28:48,568 p=276204 u=reseke n=ansible | TASK [Print ZFS Status] ****************************************************************************************************************************************
2025-05-08 17:28:49,768 p=276204 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.011948", "end": "2025-05-08 15:28:49.601450", "msg": "", "rc": 0, "start": "2025-05-08 15:28:49.589502", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk "]}
2025-05-08 17:28:49,772 p=276204 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.018117", "end": "2025-05-08 15:28:49.620496", "msg": "", "rc": 0, "start": "2025-05-08 15:28:49.602379", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk \nnvme2n1     259:6    0  500G  0 disk ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk ", "nvme2n1     259:6    0  500G  0 disk "]}
2025-05-08 17:28:49,934 p=276204 u=reseke n=ansible | changed: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.012894", "end": "2025-05-08 15:28:49.788516", "msg": "", "rc": 0, "start": "2025-05-08 15:28:49.775622", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:0    0   30G  0 disk ", "stdout_lines": ["nvme1n1     259:0    0   30G  0 disk "]}
2025-05-08 17:28:49,940 p=276204 u=reseke n=ansible | TASK [Is zfs on the systems? No, but here is the lsblk info] ***************************************************************************************************
2025-05-08 17:28:49,978 p=276204 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk \\nnvme2n1     259:6    0  500G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-08 15:28:49.602379', 'end': '2025-05-08 15:28:49.620496', 'delta': '0:00:00.018117', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk ', 'nvme2n1     259:6    0  500G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-08 17:28:49,983 p=276204 u=reseke n=ansible | ok: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:0    0   30G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-08 15:28:49.775622', 'end': '2025-05-08 15:28:49.788516', 'delta': '0:00:00.012894', 'msg': '', 'stdout_lines': ['nvme1n1     259:0    0   30G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-08 17:28:49,993 p=276204 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-08 15:28:49.589502', 'end': '2025-05-08 15:28:49.601450', 'delta': '0:00:00.011948', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-08 17:28:49,996 p=276204 u=reseke n=ansible | TASK [Create mound point for data scratch drive] ***************************************************************************************************************
2025-05-08 17:28:50,955 p=276204 u=reseke n=ansible | changed: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/data", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-08 17:28:51,160 p=276204 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/data", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-08 17:28:51,275 p=276204 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/data", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-08 17:28:51,281 p=276204 u=reseke n=ansible | TASK [Create File System] **************************************************************************************************************************************
2025-05-08 17:28:51,316 p=276204 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 17:28:51,320 p=276204 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 17:28:51,329 p=276204 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 17:28:51,474 p=276204 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 17:28:51,532 p=276204 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 17:28:51,566 p=276204 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.filesystem to community.general.filesystem
2025-05-08 17:28:52,729 p=276204 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true}
2025-05-08 17:28:52,856 p=276204 u=reseke n=ansible | changed: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {"changed": true}
2025-05-08 17:28:52,976 p=276204 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true}
2025-05-08 17:28:52,983 p=276204 u=reseke n=ansible | TASK [Mount File System] ***************************************************************************************************************************************
2025-05-08 17:28:53,014 p=276204 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 17:28:53,021 p=276204 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 17:28:53,029 p=276204 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 17:28:53,199 p=276204 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 17:28:53,230 p=276204 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 17:28:53,236 p=276204 u=reseke n=ansible | redirecting (type: modules) ansible.builtin.mount to ansible.posix.mount
2025-05-08 17:28:54,213 p=276204 u=reseke n=ansible | changed: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {"backup_file": "", "boot": "yes", "changed": true, "dump": "0", "fstab": "/etc/fstab", "fstype": "ext4", "name": "/mnt/data", "opts": "defaults", "passno": "0", "src": "/dev/nvme1n1"}
2025-05-08 17:28:54,359 p=276204 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"backup_file": "", "boot": "yes", "changed": true, "dump": "0", "fstab": "/etc/fstab", "fstype": "ext4", "name": "/mnt/data", "opts": "defaults", "passno": "0", "src": "/dev/nvme1n1"}
2025-05-08 17:28:54,381 p=276204 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"backup_file": "", "boot": "yes", "changed": true, "dump": "0", "fstab": "/etc/fstab", "fstype": "ext4", "name": "/mnt/data", "opts": "defaults", "passno": "0", "src": "/dev/nvme1n1"}
2025-05-08 17:28:54,388 p=276204 u=reseke n=ansible | TASK [Create mound point for OSS server] ***********************************************************************************************************************
2025-05-08 17:28:54,428 p=276204 u=reseke n=ansible | skipping: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 17:28:54,436 p=276204 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 17:28:55,608 p=276204 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-08 17:28:55,613 p=276204 u=reseke n=ansible | TASK [start ZFS] ***********************************************************************************************************************************************
2025-05-08 17:28:55,647 p=276204 u=reseke n=ansible | skipping: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 17:28:55,653 p=276204 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 17:28:57,236 p=276204 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": ["/sbin/modprobe", "zfs"], "delta": "0:00:00.493475", "end": "2025-05-08 15:28:57.007687", "msg": "", "rc": 0, "start": "2025-05-08 15:28:56.514212", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 17:28:57,242 p=276204 u=reseke n=ansible | TASK [Is zfs on the systems? No, but here is the lsblk info] ***************************************************************************************************
2025-05-08 17:28:57,280 p=276204 u=reseke n=ansible | skipping: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {"false_condition": "ansible_host == '10.0.1.11'"}
2025-05-08 17:28:57,281 p=276204 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': '', 'stderr': '', 'rc': 0, 'cmd': ['/sbin/modprobe', 'zfs'], 'start': '2025-05-08 15:28:56.514212', 'end': '2025-05-08 15:28:57.007687', 'delta': '0:00:00.493475', 'msg': '', 'stdout_lines': [], 'stderr_lines': [], 'failed': False}"
}
2025-05-08 17:28:57,286 p=276204 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"false_condition": "ansible_host == '10.0.1.11'"}
2025-05-08 17:28:57,289 p=276204 u=reseke n=ansible | TASK [Create OSS zpool] ****************************************************************************************************************************************
2025-05-08 17:28:57,316 p=276204 u=reseke n=ansible | skipping: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 17:28:57,322 p=276204 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 17:28:58,988 p=276204 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": ["zpool", "create", "Lust_pool", "/dev/nvme2n1"], "delta": "0:00:00.409280", "end": "2025-05-08 15:28:58.711749", "msg": "", "rc": 0, "start": "2025-05-08 15:28:58.302469", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-08 17:28:58,993 p=276204 u=reseke n=ansible | TASK [Create a new file system called myfs in pool rpool with the setuid property turned off] ******************************************************************
2025-05-08 17:28:59,030 p=276204 u=reseke n=ansible | skipping: [ec2-3-121-115-227.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 17:28:59,039 p=276204 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-08 17:29:00,560 p=276204 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "name": "Lust_pool", "setuid": "off", "state": "present"}
2025-05-08 17:29:00,564 p=276204 u=reseke n=ansible | PLAY RECAP *****************************************************************************************************************************************************
2025-05-08 17:29:00,564 p=276204 u=reseke n=ansible | ec2-3-121-115-227.eu-central-1.compute.amazonaws.com : ok=19   changed=10   unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
2025-05-08 17:29:00,564 p=276204 u=reseke n=ansible | ip-10-0-1-10.eu-central-1.compute.internal : ok=17   changed=8    unreachable=0    failed=0    skipped=10   rescued=0    ignored=0   
2025-05-08 17:29:00,565 p=276204 u=reseke n=ansible | ip-10-0-1-11.eu-central-1.compute.internal : ok=24   changed=12   unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2025-05-10 09:50:07,565 p=425750 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-10 09:50:08,241 p=425750 u=reseke n=ansible | {
    "_meta": {
        "hostvars": {
            "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.12",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-05-10T07:49:06+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-00c80f14b8217b4bb"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-05-10T07:49:06+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-06fd4d7789b9714ad"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250510074904796100000005",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0724eac0b1b050e24",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-05-10T07:49:05+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "association": {
                            "ip_owner_id": "amazon",
                            "public_dns_name": "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com",
                            "public_ip": "63.177.229.191"
                        },
                        "attachment": {
                            "attach_time": "2025-05-10T07:49:05+00:00",
                            "attachment_id": "eni-attach-066d3b0c3db18a79c",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-028748ceb8324590c",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:29:fa:c1:10:4b",
                        "network_interface_id": "eni-059cc7e948424e269",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.12",
                        "private_ip_addresses": [
                            {
                                "association": {
                                    "ip_owner_id": "amazon",
                                    "public_dns_name": "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com",
                                    "public_ip": "63.177.229.191"
                                },
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.12"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0259ac63be5c9011e",
                        "vpc_id": "vpc-026accf1d13493421"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.12",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com",
                "public_ip_address": "63.177.229.191",
                "requester_id": "",
                "reservation_id": "r-004ba0a690cacfdb5",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-028748ceb8324590c",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0259ac63be5c9011e",
                "tags": {
                    "Name": "bastion",
                    "Project": "lustre",
                    "Role": "client"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-05-10T07:49:05+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-026accf1d13493421"
            },
            "ip-10-0-1-10.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.10",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-05-10T07:49:06+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0cfaa66599169109d"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-05-10T07:49:06+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-03d82ef9f44c10200"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250510074904795800000004",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0625972cb1cc6693c",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-05-10T07:49:05+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-05-10T07:49:05+00:00",
                            "attachment_id": "eni-attach-05dbc468852944fdd",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-028748ceb8324590c",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:38:68:bc:77:25",
                        "network_interface_id": "eni-0e6bdcca67b86026e",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.10",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.10"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0259ac63be5c9011e",
                        "vpc_id": "vpc-026accf1d13493421"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.10",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-0a20c6394b6f987fa",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-028748ceb8324590c",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0259ac63be5c9011e",
                "tags": {
                    "Name": "lustre_mgt",
                    "Project": "lustre",
                    "Role": "manager"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-05-10T07:49:05+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-026accf1d13493421"
            },
            "ip-10-0-1-11.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.11",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-05-10T07:49:06+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-03520e6c9c9e320e2"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-05-10T07:49:06+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-00513aa83d6f6e48d"
                        }
                    },
                    {
                        "device_name": "/dev/sdz",
                        "ebs": {
                            "attach_time": "2025-05-10T07:49:28.535000+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-01fb13fe92a79b02b"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250510074904794700000003",
                "cpu_options": {
                    "core_count": 2,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0359647cb067ff042",
                "instance_type": "t3.xlarge",
                "key_name": "Lustre_Key",
                "launch_time": "2025-05-10T07:49:05+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-05-10T07:49:05+00:00",
                            "attachment_id": "eni-attach-0afcb0aa97439808b",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-028748ceb8324590c",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:73:72:0c:20:f7",
                        "network_interface_id": "eni-072d5b9a70e18e786",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.11",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.11"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0259ac63be5c9011e",
                        "vpc_id": "vpc-026accf1d13493421"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.11",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-0565b54b691309966",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-028748ceb8324590c",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0259ac63be5c9011e",
                "tags": {
                    "Name": "lustre_oss",
                    "Project": "lustre",
                    "Role": "storage"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-05-10T07:49:05+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-026accf1d13493421"
            }
        }
    },
    "all": {
        "children": [
            "ungrouped",
            "aws_ec2"
        ]
    },
    "aws_ec2": {
        "hosts": [
            "ip-10-0-1-11.eu-central-1.compute.internal",
            "ip-10-0-1-10.eu-central-1.compute.internal",
            "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com"
        ]
    }
}
2025-05-10 09:50:58,309 p=426360 u=reseke n=ansible | ansible-playbook [core 2.16.14]
  config file = /home/reseke/docker/Terraform_Lustre/ansible.cfg
  configured module search path = ['/home/reseke/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/reseke/.local/lib/python3.10/site-packages/ansible
  ansible collection location = /home/reseke/.ansible/collections:/usr/share/ansible/collections
  executable location = /home/reseke/.local/bin/ansible-playbook
  python version = 3.10.12 (main, Feb  4 2025, 14:57:36) [GCC 11.4.0] (/usr/bin/python3)
  jinja version = 3.0.3
  libyaml = True
2025-05-10 09:50:58,309 p=426360 u=reseke n=ansible | Using /home/reseke/docker/Terraform_Lustre/ansible.cfg as config file
2025-05-10 09:50:59,916 p=426360 u=reseke n=ansible | redirecting (type: inventory) ansible.builtin.aws_ec2 to amazon.aws.aws_ec2
2025-05-10 09:51:00,008 p=426360 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-10 09:51:00,650 p=426360 u=reseke n=ansible | Skipping callback 'default', as we already have a stdout callback.
2025-05-10 09:51:00,650 p=426360 u=reseke n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2025-05-10 09:51:00,650 p=426360 u=reseke n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2025-05-10 09:51:00,650 p=426360 u=reseke n=ansible | PLAYBOOK: playbook.yml *****************************************************************************************************************************************
2025-05-10 09:51:00,650 p=426360 u=reseke n=ansible | 1 plays in ../Terraform_Lustre/playbook.yml
2025-05-10 09:51:00,651 p=426360 u=reseke n=ansible | PLAY [Setup Lustre on test servers] ****************************************************************************************************************************
2025-05-10 09:51:00,657 p=426360 u=reseke n=ansible | TASK [Include vault] *******************************************************************************************************************************************
2025-05-10 09:51:00,686 p=426360 u=reseke n=ansible | fatal: [ip-10-0-1-11.eu-central-1.compute.internal]: FAILED! => {"ansible_facts": {}, "ansible_included_var_files": [], "changed": false, "message": "Decryption failed (no vault secrets were found that could decrypt) on /home/reseke/docker/Terraform_Lustre/Terraform_Vault"}
2025-05-10 09:51:00,688 p=426360 u=reseke n=ansible | fatal: [ip-10-0-1-10.eu-central-1.compute.internal]: FAILED! => {"ansible_facts": {}, "ansible_included_var_files": [], "changed": false, "message": "Decryption failed (no vault secrets were found that could decrypt) on /home/reseke/docker/Terraform_Lustre/Terraform_Vault"}
2025-05-10 09:51:00,695 p=426360 u=reseke n=ansible | fatal: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com]: FAILED! => {"ansible_facts": {}, "ansible_included_var_files": [], "changed": false, "message": "Decryption failed (no vault secrets were found that could decrypt) on /home/reseke/docker/Terraform_Lustre/Terraform_Vault"}
2025-05-10 09:51:00,696 p=426360 u=reseke n=ansible | NO MORE HOSTS LEFT *********************************************************************************************************************************************
2025-05-10 09:51:00,697 p=426360 u=reseke n=ansible | PLAY RECAP *****************************************************************************************************************************************************
2025-05-10 09:51:00,698 p=426360 u=reseke n=ansible | ec2-63-177-229-191.eu-central-1.compute.amazonaws.com : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-10 09:51:00,698 p=426360 u=reseke n=ansible | ip-10-0-1-10.eu-central-1.compute.internal : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-10 09:51:00,698 p=426360 u=reseke n=ansible | ip-10-0-1-11.eu-central-1.compute.internal : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-10 09:51:03,582 p=426418 u=reseke n=ansible | ansible-playbook [core 2.16.14]
  config file = /home/reseke/docker/Terraform_Lustre/ansible.cfg
  configured module search path = ['/home/reseke/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/reseke/.local/lib/python3.10/site-packages/ansible
  ansible collection location = /home/reseke/.ansible/collections:/usr/share/ansible/collections
  executable location = /home/reseke/.local/bin/ansible-playbook
  python version = 3.10.12 (main, Feb  4 2025, 14:57:36) [GCC 11.4.0] (/usr/bin/python3)
  jinja version = 3.0.3
  libyaml = True
2025-05-10 09:51:03,582 p=426418 u=reseke n=ansible | Using /home/reseke/docker/Terraform_Lustre/ansible.cfg as config file
2025-05-10 09:51:06,760 p=426418 u=reseke n=ansible | redirecting (type: inventory) ansible.builtin.aws_ec2 to amazon.aws.aws_ec2
2025-05-10 09:51:06,853 p=426418 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-10 09:51:07,411 p=426418 u=reseke n=ansible | Skipping callback 'default', as we already have a stdout callback.
2025-05-10 09:51:07,412 p=426418 u=reseke n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2025-05-10 09:51:07,412 p=426418 u=reseke n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2025-05-10 09:51:07,412 p=426418 u=reseke n=ansible | PLAYBOOK: playbook.yml *****************************************************************************************************************************************
2025-05-10 09:51:07,412 p=426418 u=reseke n=ansible | 1 plays in ../Terraform_Lustre/playbook.yml
2025-05-10 09:51:07,413 p=426418 u=reseke n=ansible | PLAY [Setup Lustre on test servers] ****************************************************************************************************************************
2025-05-10 09:51:07,418 p=426418 u=reseke n=ansible | TASK [Include vault] *******************************************************************************************************************************************
2025-05-10 09:51:07,454 p=426418 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-10 09:51:07,455 p=426418 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-10 09:51:07,461 p=426418 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-10 09:51:07,463 p=426418 u=reseke n=ansible | TASK [Set_SSH_Vars : Set_fact hostvar of public IP] ************************************************************************************************************
2025-05-10 09:51:07,486 p=426418 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-10 09:51:07,488 p=426418 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-10 09:51:07,499 p=426418 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal -> localhost] => (item=ec2-63-177-229-191.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"ec2_public_ip": "63.177.229.191"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com"}
2025-05-10 09:51:07,502 p=426418 u=reseke n=ansible | TASK [Set_SSH_Vars : Set bastion_host variable on localhost] ***************************************************************************************************
2025-05-10 09:51:07,521 p=426418 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-10 09:51:07,523 p=426418 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-10 09:51:07,527 p=426418 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal -> localhost] => (item=ec2-63-177-229-191.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"bastion_host": "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com"}
2025-05-10 09:51:07,529 p=426418 u=reseke n=ansible | TASK [Set_SSH_Vars : Mark ec2 public IP] ***********************************************************************************************************************
2025-05-10 09:51:07,550 p=426418 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-11.eu-central-1.compute.internal The public IP is 63.177.229.191",
        "10.0.1.11 IP to connect with",
        "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-10 09:51:07,554 p=426418 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-10.eu-central-1.compute.internal The public IP is 63.177.229.191",
        "10.0.1.10 IP to connect with",
        "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-10 09:51:07,559 p=426418 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com The public IP is 63.177.229.191",
        "10.0.1.12 IP to connect with",
        "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-10 09:51:07,560 p=426418 u=reseke n=ansible | TASK [Set_SSH_Vars : Make sure bastion uses public IP] *********************************************************************************************************
2025-05-10 09:51:07,573 p=426418 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 09:51:07,574 p=426418 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 09:51:07,585 p=426418 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com -> localhost] => {"ansible_facts": {"ansible_host": "63.177.229.191"}, "changed": false}
2025-05-10 09:51:07,587 p=426418 u=reseke n=ansible | TASK [Set_SSH_Vars : Set SSH ProxyCommand for Specific Hosts] **************************************************************************************************
2025-05-10 09:51:07,607 p=426418 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.177.229.191\""}, "changed": false}
2025-05-10 09:51:07,610 p=426418 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.177.229.191\""}, "changed": false}
2025-05-10 09:51:07,613 p=426418 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 09:51:07,616 p=426418 u=reseke n=ansible | TASK [Copy ssh-key to non-bastion hosts] ***********************************************************************************************************************
2025-05-10 09:51:07,641 p=426418 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 09:51:13,017 p=426418 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-10 09:51:14,453 p=426418 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-10 09:51:14,458 p=426418 u=reseke n=ansible | TASK [Print Public IP Address] *********************************************************************************************************************************
2025-05-10 09:51:14,491 p=426418 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-11.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-11.eu-central-1.compute.internal', 'ip-10-0-1-10.eu-central-1.compute.internal', 'ec2-63-177-229-191.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.11"
    ]
}
2025-05-10 09:51:14,499 p=426418 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-10.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-11.eu-central-1.compute.internal', 'ip-10-0-1-10.eu-central-1.compute.internal', 'ec2-63-177-229-191.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.10"
    ]
}
2025-05-10 09:51:14,505 p=426418 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Public IP of ec2-63-177-229-191.eu-central-1.compute.amazonaws.com is 63.177.229.191",
        "Ansible Play hosts ['ip-10-0-1-11.eu-central-1.compute.internal', 'ip-10-0-1-10.eu-central-1.compute.internal', 'ec2-63-177-229-191.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.12"
    ]
}
2025-05-10 09:51:14,507 p=426418 u=reseke n=ansible | TASK [Print SSH connection] ************************************************************************************************************************************
2025-05-10 09:51:14,528 p=426418 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-11.eu-central-1.compute.internal via 10.0.1.11 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.177.229.191\""
}
2025-05-10 09:51:14,538 p=426418 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-10.eu-central-1.compute.internal via 10.0.1.10 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.177.229.191\""
}
2025-05-10 09:51:14,543 p=426418 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": "Connecting to ec2-63-177-229-191.eu-central-1.compute.amazonaws.com via 63.177.229.191 using No SSH args set"
}
2025-05-10 09:51:14,544 p=426418 u=reseke n=ansible | TASK [Add in the DNF update and install role] ******************************************************************************************************************
2025-05-10 09:51:14,582 p=426418 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-10 09:51:14,598 p=426418 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.11"
    ]
}
2025-05-10 09:51:14,600 p=426418 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.10"
    ]
}
2025-05-10 09:51:14,606 p=426418 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Ansible Host from DNF role: 63.177.229.191"
    ]
}
2025-05-10 09:51:14,608 p=426418 u=reseke n=ansible | TASK [Dnf_access_install : Install squid proxy on bastion] *****************************************************************************************************
2025-05-10 09:51:14,627 p=426418 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 09:51:14,629 p=426418 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 09:51:27,288 p=426418 u=reseke n=ansible | changed: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"pkg_mgr": "dnf"}, "changed": true, "msg": "", "rc": 0, "results": ["Installed: perl-DBI-1.641-4.module_el8.6.0+2823+173faa7e.x86_64", "Installed: libecap-1.0.1-2.module_el8.6.0+2741+01592ae8.x86_64", "Installed: libtool-ltdl-2.4.6-25.el8.x86_64", "Installed: squid-7:4.15-10.module_el8.10.0+3953+e1d43bfb.5.x86_64"]}
2025-05-10 09:51:27,295 p=426418 u=reseke n=ansible | TASK [Dnf_access_install : define squi.conf] *******************************************************************************************************************
2025-05-10 09:51:27,323 p=426418 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 09:51:27,324 p=426418 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 09:51:29,875 p=426418 u=reseke n=ansible | changed: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": true, "checksum": "f673c76b3dbcf83cb7aed48af68c42377a95ae0c", "dest": "/etc/squid/squid.conf", "gid": 23, "group": "squid", "md5sum": "c9e7e6ade5c70753847d1f2b4fa092d1", "mode": "0640", "owner": "root", "secontext": "system_u:object_r:squid_conf_t:s0", "size": 224, "src": "/home/ec2-user/.ansible/tmp/ansible-tmp-1746863487.423213-426784-229246118589776/source", "state": "file", "uid": 0}
2025-05-10 09:51:29,882 p=426418 u=reseke n=ansible | TASK [Dnf_access_install : Run command to enable squid] ********************************************************************************************************
2025-05-10 09:51:29,918 p=426418 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 09:51:29,921 p=426418 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 09:51:31,624 p=426418 u=reseke n=ansible | changed: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": ["sudo", "systemctl", "enable", "--now", "squid"], "delta": "0:00:00.435049", "end": "2025-05-10 07:51:31.416132", "msg": "", "rc": 0, "start": "2025-05-10 07:51:30.981083", "stderr": "Created symlink /etc/systemd/system/multi-user.target.wants/squid.service  /usr/lib/systemd/system/squid.service.", "stderr_lines": ["Created symlink /etc/systemd/system/multi-user.target.wants/squid.service  /usr/lib/systemd/system/squid.service."], "stdout": "", "stdout_lines": []}
2025-05-10 09:51:31,630 p=426418 u=reseke n=ansible | TASK [Dnf_access_install : set bastion ip address for the other servers] ***************************************************************************************
2025-05-10 09:51:31,667 p=426418 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 09:51:31,670 p=426418 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 09:51:31,684 p=426418 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"bastion_ip": "63.177.229.191"}, "changed": false}
2025-05-10 09:51:31,687 p=426418 u=reseke n=ansible | TASK [Dnf_access_install : Add proxy data to dnf.config to other servers] **************************************************************************************
2025-05-10 09:51:31,721 p=426418 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 09:51:33,175 p=426418 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"backup": "", "changed": true, "msg": "line added"}
2025-05-10 09:51:33,334 p=426418 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"backup": "", "changed": true, "msg": "line added"}
2025-05-10 09:51:33,341 p=426418 u=reseke n=ansible | TASK [Dnf_access_install : Get Python version] *****************************************************************************************************************
2025-05-10 09:51:34,509 p=426418 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.007261", "end": "2025-05-10 07:51:34.347006", "msg": "", "rc": 0, "start": "2025-05-10 07:51:34.339745", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-10 09:51:34,697 p=426418 u=reseke n=ansible | changed: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.016311", "end": "2025-05-10 07:51:34.514524", "msg": "", "rc": 0, "start": "2025-05-10 07:51:34.498213", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-10 09:51:34,749 p=426418 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.011349", "end": "2025-05-10 07:51:34.557397", "msg": "", "rc": 0, "start": "2025-05-10 07:51:34.546048", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-10 09:51:34,756 p=426418 u=reseke n=ansible | TASK [Dnf_access_install : cat dnf.conf] ***********************************************************************************************************************
2025-05-10 09:51:35,980 p=426418 u=reseke n=ansible | changed: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.007566", "end": "2025-05-10 07:51:35.826394", "msg": "", "rc": 0, "start": "2025-05-10 07:51:35.818828", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"]}
2025-05-10 09:51:35,996 p=426418 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.004958", "end": "2025-05-10 07:51:35.815789", "msg": "", "rc": 0, "start": "2025-05-10 07:51:35.810831", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-10 09:51:36,227 p=426418 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.008266", "end": "2025-05-10 07:51:36.032354", "msg": "", "rc": 0, "start": "2025-05-10 07:51:36.024088", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-10 09:51:36,233 p=426418 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-10 09:51:36,272 p=426418 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-10 09:51:36,276 p=426418 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-10 09:51:36,287 p=426418 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"
    ]
}
2025-05-10 09:51:36,289 p=426418 u=reseke n=ansible | TASK [Dnf_access_install : Install common packages] ************************************************************************************************************
2025-05-10 09:51:50,203 p=426418 u=reseke n=ansible | changed: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"ansible_job_id": "j531426141763.4182", "changed": true, "finished": 1, "msg": "", "rc": 0, "results": ["Installed: pciutils-3.7.0-3.el8.x86_64"], "results_file": "/root/.ansible_async/j531426141763.4182", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-10 09:55:53,066 p=426418 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_job_id": "j566462641014.1722", "changed": true, "finished": 1, "msg": "", "rc": 0, "results": ["Installed: pciutils-3.7.0-3.el8.x86_64"], "results_file": "/root/.ansible_async/j566462641014.1722", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-10 09:56:22,363 p=426418 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_job_id": "j249741071293.1697", "changed": true, "finished": 1, "msg": "", "rc": 0, "results": ["Installed: pciutils-3.7.0-3.el8.x86_64"], "results_file": "/root/.ansible_async/j249741071293.1697", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-10 09:56:22,380 p=426418 u=reseke n=ansible | TASK [Print ZFS Status] ****************************************************************************************************************************************
2025-05-10 09:56:23,589 p=426418 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.011358", "end": "2025-05-10 07:56:23.413546", "msg": "", "rc": 0, "start": "2025-05-10 07:56:23.402188", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk \nnvme2n1     259:6    0  500G  0 disk ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk ", "nvme2n1     259:6    0  500G  0 disk "]}
2025-05-10 09:56:23,961 p=426418 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.024253", "end": "2025-05-10 07:56:23.727019", "msg": "", "rc": 0, "start": "2025-05-10 07:56:23.702766", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk "]}
2025-05-10 09:56:24,096 p=426418 u=reseke n=ansible | changed: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.015094", "end": "2025-05-10 07:56:23.941801", "msg": "", "rc": 0, "start": "2025-05-10 07:56:23.926707", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:5    0   30G  0 disk ", "stdout_lines": ["nvme1n1     259:5    0   30G  0 disk "]}
2025-05-10 09:56:24,102 p=426418 u=reseke n=ansible | TASK [Is zfs on the systems? No, but here is the lsblk info] ***************************************************************************************************
2025-05-10 09:56:24,139 p=426418 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk \\nnvme2n1     259:6    0  500G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-10 07:56:23.402188', 'end': '2025-05-10 07:56:23.413546', 'delta': '0:00:00.011358', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk ', 'nvme2n1     259:6    0  500G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-10 09:56:24,147 p=426418 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-10 07:56:23.702766', 'end': '2025-05-10 07:56:23.727019', 'delta': '0:00:00.024253', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-10 09:56:24,154 p=426418 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:5    0   30G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-10 07:56:23.926707', 'end': '2025-05-10 07:56:23.941801', 'delta': '0:00:00.015094', 'msg': '', 'stdout_lines': ['nvme1n1     259:5    0   30G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-10 09:56:24,156 p=426418 u=reseke n=ansible | TASK [Create mound point for data scratch drive] ***************************************************************************************************************
2025-05-10 09:56:25,459 p=426418 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre_scratch", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-10 09:56:25,530 p=426418 u=reseke n=ansible | changed: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre_scratch", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-10 09:56:25,769 p=426418 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre_scratch", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-10 09:56:25,777 p=426418 u=reseke n=ansible | TASK [Create mound point for OSS server] ***********************************************************************************************************************
2025-05-10 09:56:25,811 p=426418 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-10 09:56:25,818 p=426418 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-10 09:56:27,074 p=426418 u=reseke n=ansible | fatal: [ip-10-0-1-11.eu-central-1.compute.internal]: FAILED! => {"changed": false, "msg": "There was an issue creating /mnt/lustre as requested: [Errno 13] Permission denied: b'/mnt/lustre'", "path": "/mnt/lustre"}
2025-05-10 09:56:27,075 p=426418 u=reseke n=ansible | NO MORE HOSTS LEFT *********************************************************************************************************************************************
2025-05-10 09:56:27,077 p=426418 u=reseke n=ansible | PLAY RECAP *****************************************************************************************************************************************************
2025-05-10 09:56:27,077 p=426418 u=reseke n=ansible | ec2-63-177-229-191.eu-central-1.compute.amazonaws.com : ok=17   changed=8    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   
2025-05-10 09:56:27,078 p=426418 u=reseke n=ansible | ip-10-0-1-10.eu-central-1.compute.internal : ok=15   changed=6    unreachable=0    failed=0    skipped=6    rescued=0    ignored=0   
2025-05-10 09:56:27,078 p=426418 u=reseke n=ansible | ip-10-0-1-11.eu-central-1.compute.internal : ok=17   changed=6    unreachable=0    failed=1    skipped=5    rescued=0    ignored=0   
2025-05-10 10:33:54,699 p=459090 u=reseke n=ansible | ansible-playbook [core 2.16.14]
  config file = /home/reseke/docker/Terraform_Lustre/ansible.cfg
  configured module search path = ['/home/reseke/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/reseke/.local/lib/python3.10/site-packages/ansible
  ansible collection location = /home/reseke/.ansible/collections:/usr/share/ansible/collections
  executable location = /home/reseke/.local/bin/ansible-playbook
  python version = 3.10.12 (main, Feb  4 2025, 14:57:36) [GCC 11.4.0] (/usr/bin/python3)
  jinja version = 3.0.3
  libyaml = True
2025-05-10 10:33:54,700 p=459090 u=reseke n=ansible | Using /home/reseke/docker/Terraform_Lustre/ansible.cfg as config file
2025-05-10 10:33:58,534 p=459090 u=reseke n=ansible | redirecting (type: inventory) ansible.builtin.aws_ec2 to amazon.aws.aws_ec2
2025-05-10 10:33:58,815 p=459090 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-10 10:34:00,171 p=459090 u=reseke n=ansible | Skipping callback 'default', as we already have a stdout callback.
2025-05-10 10:34:00,171 p=459090 u=reseke n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2025-05-10 10:34:00,172 p=459090 u=reseke n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2025-05-10 10:34:00,172 p=459090 u=reseke n=ansible | PLAYBOOK: playbook.yml *****************************************************************************************************************************************
2025-05-10 10:34:00,172 p=459090 u=reseke n=ansible | 1 plays in ../Terraform_Lustre/playbook.yml
2025-05-10 10:34:00,176 p=459090 u=reseke n=ansible | PLAY [Setup Lustre on test servers] ****************************************************************************************************************************
2025-05-10 10:34:00,192 p=459090 u=reseke n=ansible | TASK [Include vault] *******************************************************************************************************************************************
2025-05-10 10:34:00,257 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-10 10:34:00,279 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-10 10:34:00,303 p=459090 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-10 10:34:00,310 p=459090 u=reseke n=ansible | TASK [Set_SSH_Vars : Set_fact hostvar of public IP] ************************************************************************************************************
2025-05-10 10:34:00,361 p=459090 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-10 10:34:00,370 p=459090 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-10 10:34:00,405 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal -> localhost] => (item=ec2-63-177-229-191.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"ec2_public_ip": "63.177.229.191"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com"}
2025-05-10 10:34:00,413 p=459090 u=reseke n=ansible | TASK [Set_SSH_Vars : Set bastion_host variable on localhost] ***************************************************************************************************
2025-05-10 10:34:00,469 p=459090 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-10 10:34:00,474 p=459090 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-10 10:34:00,489 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal -> localhost] => (item=ec2-63-177-229-191.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"bastion_host": "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com"}
2025-05-10 10:34:00,499 p=459090 u=reseke n=ansible | TASK [Set_SSH_Vars : Mark ec2 public IP] ***********************************************************************************************************************
2025-05-10 10:34:00,556 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-11.eu-central-1.compute.internal The public IP is 63.177.229.191",
        "10.0.1.11 IP to connect with",
        "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-10 10:34:00,566 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-10.eu-central-1.compute.internal The public IP is 63.177.229.191",
        "10.0.1.10 IP to connect with",
        "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-10 10:34:00,585 p=459090 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com The public IP is 63.177.229.191",
        "10.0.1.12 IP to connect with",
        "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-10 10:34:00,590 p=459090 u=reseke n=ansible | TASK [Set_SSH_Vars : Make sure bastion uses public IP] *********************************************************************************************************
2025-05-10 10:34:00,654 p=459090 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:34:00,657 p=459090 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:34:00,686 p=459090 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com -> localhost] => {"ansible_facts": {"ansible_host": "63.177.229.191"}, "changed": false}
2025-05-10 10:34:00,691 p=459090 u=reseke n=ansible | TASK [Set_SSH_Vars : Set SSH ProxyCommand for Specific Hosts] **************************************************************************************************
2025-05-10 10:34:00,752 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.177.229.191\""}, "changed": false}
2025-05-10 10:34:00,766 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.177.229.191\""}, "changed": false}
2025-05-10 10:34:00,772 p=459090 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:34:00,787 p=459090 u=reseke n=ansible | TASK [Copy ssh-key to non-bastion hosts] ***********************************************************************************************************************
2025-05-10 10:34:00,867 p=459090 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:34:05,053 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-10 10:34:05,106 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-10 10:34:05,111 p=459090 u=reseke n=ansible | TASK [Print Public IP Address] *********************************************************************************************************************************
2025-05-10 10:34:05,172 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-11.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-11.eu-central-1.compute.internal', 'ip-10-0-1-10.eu-central-1.compute.internal', 'ec2-63-177-229-191.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.11"
    ]
}
2025-05-10 10:34:05,185 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-10.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-11.eu-central-1.compute.internal', 'ip-10-0-1-10.eu-central-1.compute.internal', 'ec2-63-177-229-191.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.10"
    ]
}
2025-05-10 10:34:05,201 p=459090 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Public IP of ec2-63-177-229-191.eu-central-1.compute.amazonaws.com is 63.177.229.191",
        "Ansible Play hosts ['ip-10-0-1-11.eu-central-1.compute.internal', 'ip-10-0-1-10.eu-central-1.compute.internal', 'ec2-63-177-229-191.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.12"
    ]
}
2025-05-10 10:34:05,206 p=459090 u=reseke n=ansible | TASK [Print SSH connection] ************************************************************************************************************************************
2025-05-10 10:34:05,257 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-11.eu-central-1.compute.internal via 10.0.1.11 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.177.229.191\""
}
2025-05-10 10:34:05,269 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-10.eu-central-1.compute.internal via 10.0.1.10 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.177.229.191\""
}
2025-05-10 10:34:05,285 p=459090 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": "Connecting to ec2-63-177-229-191.eu-central-1.compute.amazonaws.com via 63.177.229.191 using No SSH args set"
}
2025-05-10 10:34:05,293 p=459090 u=reseke n=ansible | TASK [Add in the DNF update and install role] ******************************************************************************************************************
2025-05-10 10:34:05,398 p=459090 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-10 10:34:05,454 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.11"
    ]
}
2025-05-10 10:34:05,466 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.10"
    ]
}
2025-05-10 10:34:05,483 p=459090 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Ansible Host from DNF role: 63.177.229.191"
    ]
}
2025-05-10 10:34:05,491 p=459090 u=reseke n=ansible | TASK [Dnf_access_install : Install squid proxy on bastion] *****************************************************************************************************
2025-05-10 10:34:05,544 p=459090 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:34:05,544 p=459090 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:34:13,032 p=459090 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"pkg_mgr": "dnf"}, "changed": false, "msg": "Nothing to do", "rc": 0, "results": []}
2025-05-10 10:34:13,047 p=459090 u=reseke n=ansible | TASK [Dnf_access_install : define squi.conf] *******************************************************************************************************************
2025-05-10 10:34:13,106 p=459090 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:34:13,108 p=459090 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:34:15,138 p=459090 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "checksum": "f673c76b3dbcf83cb7aed48af68c42377a95ae0c", "dest": "/etc/squid/squid.conf", "gid": 23, "group": "squid", "mode": "0640", "owner": "root", "path": "/etc/squid/squid.conf", "secontext": "system_u:object_r:squid_conf_t:s0", "size": 224, "state": "file", "uid": 0}
2025-05-10 10:34:15,146 p=459090 u=reseke n=ansible | TASK [Dnf_access_install : Run command to enable squid] ********************************************************************************************************
2025-05-10 10:34:15,206 p=459090 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:34:15,208 p=459090 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:34:17,200 p=459090 u=reseke n=ansible | changed: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": ["sudo", "systemctl", "enable", "--now", "squid"], "delta": "0:00:00.257757", "end": "2025-05-10 08:34:17.112557", "msg": "", "rc": 0, "start": "2025-05-10 08:34:16.854800", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-10 10:34:17,205 p=459090 u=reseke n=ansible | TASK [Dnf_access_install : set bastion ip address for the other servers] ***************************************************************************************
2025-05-10 10:34:17,266 p=459090 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:34:17,273 p=459090 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:34:17,304 p=459090 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"bastion_ip": "63.177.229.191"}, "changed": false}
2025-05-10 10:34:17,312 p=459090 u=reseke n=ansible | TASK [Dnf_access_install : Add proxy data to dnf.config to other servers] **************************************************************************************
2025-05-10 10:34:17,397 p=459090 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:34:19,384 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"backup": "", "changed": false, "msg": ""}
2025-05-10 10:34:19,593 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"backup": "", "changed": false, "msg": ""}
2025-05-10 10:34:19,607 p=459090 u=reseke n=ansible | TASK [Dnf_access_install : Get Python version] *****************************************************************************************************************
2025-05-10 10:34:20,795 p=459090 u=reseke n=ansible | changed: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.010062", "end": "2025-05-10 08:34:20.705411", "msg": "", "rc": 0, "start": "2025-05-10 08:34:20.695349", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-10 10:34:20,852 p=459090 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.007131", "end": "2025-05-10 08:34:20.733916", "msg": "", "rc": 0, "start": "2025-05-10 08:34:20.726785", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-10 10:34:21,081 p=459090 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.012601", "end": "2025-05-10 08:34:20.922179", "msg": "", "rc": 0, "start": "2025-05-10 08:34:20.909578", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-10 10:34:21,091 p=459090 u=reseke n=ansible | TASK [Dnf_access_install : cat dnf.conf] ***********************************************************************************************************************
2025-05-10 10:34:22,283 p=459090 u=reseke n=ansible | changed: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.006770", "end": "2025-05-10 08:34:22.195648", "msg": "", "rc": 0, "start": "2025-05-10 08:34:22.188878", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"]}
2025-05-10 10:34:22,354 p=459090 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.005590", "end": "2025-05-10 08:34:22.241215", "msg": "", "rc": 0, "start": "2025-05-10 08:34:22.235625", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-10 10:34:22,554 p=459090 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.011995", "end": "2025-05-10 08:34:22.422370", "msg": "", "rc": 0, "start": "2025-05-10 08:34:22.410375", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-10 10:34:22,562 p=459090 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-10 10:34:22,640 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-10 10:34:22,648 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-10 10:34:22,673 p=459090 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"
    ]
}
2025-05-10 10:34:22,676 p=459090 u=reseke n=ansible | TASK [Dnf_access_install : Install common packages] ************************************************************************************************************
2025-05-10 10:34:37,112 p=459090 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"ansible_job_id": "j44630214880.6142", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j44630214880.6142", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-10 10:34:37,654 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_job_id": "j69510952440.5497", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j69510952440.5497", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-10 10:34:38,845 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_job_id": "j257006184870.5506", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j257006184870.5506", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-10 10:34:38,865 p=459090 u=reseke n=ansible | TASK [Print ZFS Status] ****************************************************************************************************************************************
2025-05-10 10:34:40,049 p=459090 u=reseke n=ansible | changed: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.010103", "end": "2025-05-10 08:34:39.964070", "msg": "", "rc": 0, "start": "2025-05-10 08:34:39.953967", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:5    0   30G  0 disk ", "stdout_lines": ["nvme1n1     259:5    0   30G  0 disk "]}
2025-05-10 10:34:40,156 p=459090 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.008666", "end": "2025-05-10 08:34:40.028319", "msg": "", "rc": 0, "start": "2025-05-10 08:34:40.019653", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk \nnvme2n1     259:6    0  500G  0 disk ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk ", "nvme2n1     259:6    0  500G  0 disk "]}
2025-05-10 10:34:40,336 p=459090 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.018133", "end": "2025-05-10 08:34:40.214703", "msg": "", "rc": 0, "start": "2025-05-10 08:34:40.196570", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk "]}
2025-05-10 10:34:40,343 p=459090 u=reseke n=ansible | TASK [Is zfs on the systems? No, but here is the lsblk info] ***************************************************************************************************
2025-05-10 10:34:40,413 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk \\nnvme2n1     259:6    0  500G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-10 08:34:40.019653', 'end': '2025-05-10 08:34:40.028319', 'delta': '0:00:00.008666', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk ', 'nvme2n1     259:6    0  500G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-10 10:34:40,416 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-10 08:34:40.196570', 'end': '2025-05-10 08:34:40.214703', 'delta': '0:00:00.018133', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-10 10:34:40,438 p=459090 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:5    0   30G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-10 08:34:39.953967', 'end': '2025-05-10 08:34:39.964070', 'delta': '0:00:00.010103', 'msg': '', 'stdout_lines': ['nvme1n1     259:5    0   30G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-10 10:34:40,444 p=459090 u=reseke n=ansible | TASK [Create mound point for data scratch drive] ***************************************************************************************************************
2025-05-10 10:34:41,695 p=459090 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre_scratch", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-10 10:34:41,804 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre_scratch", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-10 10:34:42,119 p=459090 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre_scratch", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-10 10:34:42,126 p=459090 u=reseke n=ansible | TASK [Create mound point for OSS server] ***********************************************************************************************************************
2025-05-10 10:34:42,190 p=459090 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-10 10:34:42,212 p=459090 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-10 10:34:43,444 p=459090 u=reseke n=ansible | fatal: [ip-10-0-1-11.eu-central-1.compute.internal]: FAILED! => {"changed": false, "msg": "There was an issue creating /mnt/lustre as requested: [Errno 13] Permission denied: b'/mnt/lustre'", "path": "/mnt/lustre"}
2025-05-10 10:34:43,447 p=459090 u=reseke n=ansible | NO MORE HOSTS LEFT *********************************************************************************************************************************************
2025-05-10 10:34:43,450 p=459090 u=reseke n=ansible | PLAY RECAP *****************************************************************************************************************************************************
2025-05-10 10:34:43,450 p=459090 u=reseke n=ansible | ec2-63-177-229-191.eu-central-1.compute.amazonaws.com : ok=17   changed=4    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   
2025-05-10 10:34:43,451 p=459090 u=reseke n=ansible | ip-10-0-1-10.eu-central-1.compute.internal : ok=15   changed=3    unreachable=0    failed=0    skipped=6    rescued=0    ignored=0   
2025-05-10 10:34:43,451 p=459090 u=reseke n=ansible | ip-10-0-1-11.eu-central-1.compute.internal : ok=17   changed=3    unreachable=0    failed=1    skipped=5    rescued=0    ignored=0   
2025-05-10 10:37:20,532 p=462507 u=reseke n=ansible | ansible-playbook [core 2.16.14]
  config file = /home/reseke/docker/Terraform_Lustre/ansible.cfg
  configured module search path = ['/home/reseke/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/reseke/.local/lib/python3.10/site-packages/ansible
  ansible collection location = /home/reseke/.ansible/collections:/usr/share/ansible/collections
  executable location = /home/reseke/.local/bin/ansible-playbook
  python version = 3.10.12 (main, Feb  4 2025, 14:57:36) [GCC 11.4.0] (/usr/bin/python3)
  jinja version = 3.0.3
  libyaml = True
2025-05-10 10:37:20,533 p=462507 u=reseke n=ansible | Using /home/reseke/docker/Terraform_Lustre/ansible.cfg as config file
2025-05-10 10:37:24,413 p=462507 u=reseke n=ansible | redirecting (type: inventory) ansible.builtin.aws_ec2 to amazon.aws.aws_ec2
2025-05-10 10:37:24,683 p=462507 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-10 10:37:26,060 p=462507 u=reseke n=ansible | Skipping callback 'default', as we already have a stdout callback.
2025-05-10 10:37:26,061 p=462507 u=reseke n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2025-05-10 10:37:26,061 p=462507 u=reseke n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2025-05-10 10:37:26,061 p=462507 u=reseke n=ansible | PLAYBOOK: playbook.yml *****************************************************************************************************************************************
2025-05-10 10:37:26,061 p=462507 u=reseke n=ansible | 1 plays in ../Terraform_Lustre/playbook.yml
2025-05-10 10:37:26,064 p=462507 u=reseke n=ansible | PLAY [Setup Lustre on test servers] ****************************************************************************************************************************
2025-05-10 10:37:26,085 p=462507 u=reseke n=ansible | TASK [Include vault] *******************************************************************************************************************************************
2025-05-10 10:37:26,143 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-10 10:37:26,163 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-10 10:37:26,186 p=462507 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-10 10:37:26,196 p=462507 u=reseke n=ansible | TASK [Set_SSH_Vars : Set_fact hostvar of public IP] ************************************************************************************************************
2025-05-10 10:37:26,244 p=462507 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-10 10:37:26,252 p=462507 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-10 10:37:26,290 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal -> localhost] => (item=ec2-63-177-229-191.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"ec2_public_ip": "63.177.229.191"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com"}
2025-05-10 10:37:26,298 p=462507 u=reseke n=ansible | TASK [Set_SSH_Vars : Set bastion_host variable on localhost] ***************************************************************************************************
2025-05-10 10:37:26,350 p=462507 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-10 10:37:26,363 p=462507 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-10 10:37:26,377 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal -> localhost] => (item=ec2-63-177-229-191.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"bastion_host": "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com"}
2025-05-10 10:37:26,389 p=462507 u=reseke n=ansible | TASK [Set_SSH_Vars : Mark ec2 public IP] ***********************************************************************************************************************
2025-05-10 10:37:26,447 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-11.eu-central-1.compute.internal The public IP is 63.177.229.191",
        "10.0.1.11 IP to connect with",
        "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-10 10:37:26,458 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-10.eu-central-1.compute.internal The public IP is 63.177.229.191",
        "10.0.1.10 IP to connect with",
        "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-10 10:37:26,473 p=462507 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com The public IP is 63.177.229.191",
        "10.0.1.12 IP to connect with",
        "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-10 10:37:26,479 p=462507 u=reseke n=ansible | TASK [Set_SSH_Vars : Make sure bastion uses public IP] *********************************************************************************************************
2025-05-10 10:37:26,548 p=462507 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:37:26,551 p=462507 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:37:26,576 p=462507 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com -> localhost] => {"ansible_facts": {"ansible_host": "63.177.229.191"}, "changed": false}
2025-05-10 10:37:26,583 p=462507 u=reseke n=ansible | TASK [Set_SSH_Vars : Set SSH ProxyCommand for Specific Hosts] **************************************************************************************************
2025-05-10 10:37:26,642 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.177.229.191\""}, "changed": false}
2025-05-10 10:37:26,650 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.177.229.191\""}, "changed": false}
2025-05-10 10:37:26,661 p=462507 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:37:26,676 p=462507 u=reseke n=ansible | TASK [Copy ssh-key to non-bastion hosts] ***********************************************************************************************************************
2025-05-10 10:37:26,767 p=462507 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:37:30,571 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-10 10:37:30,781 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-10 10:37:30,786 p=462507 u=reseke n=ansible | TASK [Print Public IP Address] *********************************************************************************************************************************
2025-05-10 10:37:30,853 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-11.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-11.eu-central-1.compute.internal', 'ip-10-0-1-10.eu-central-1.compute.internal', 'ec2-63-177-229-191.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.11"
    ]
}
2025-05-10 10:37:30,873 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-10.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-11.eu-central-1.compute.internal', 'ip-10-0-1-10.eu-central-1.compute.internal', 'ec2-63-177-229-191.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.10"
    ]
}
2025-05-10 10:37:30,896 p=462507 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Public IP of ec2-63-177-229-191.eu-central-1.compute.amazonaws.com is 63.177.229.191",
        "Ansible Play hosts ['ip-10-0-1-11.eu-central-1.compute.internal', 'ip-10-0-1-10.eu-central-1.compute.internal', 'ec2-63-177-229-191.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.12"
    ]
}
2025-05-10 10:37:30,901 p=462507 u=reseke n=ansible | TASK [Print SSH connection] ************************************************************************************************************************************
2025-05-10 10:37:30,964 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-11.eu-central-1.compute.internal via 10.0.1.11 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.177.229.191\""
}
2025-05-10 10:37:30,980 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-10.eu-central-1.compute.internal via 10.0.1.10 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.177.229.191\""
}
2025-05-10 10:37:30,998 p=462507 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": "Connecting to ec2-63-177-229-191.eu-central-1.compute.amazonaws.com via 63.177.229.191 using No SSH args set"
}
2025-05-10 10:37:31,004 p=462507 u=reseke n=ansible | TASK [Add in the DNF update and install role] ******************************************************************************************************************
2025-05-10 10:37:31,152 p=462507 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-10 10:37:31,214 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.11"
    ]
}
2025-05-10 10:37:31,227 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.10"
    ]
}
2025-05-10 10:37:31,244 p=462507 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Ansible Host from DNF role: 63.177.229.191"
    ]
}
2025-05-10 10:37:31,253 p=462507 u=reseke n=ansible | TASK [Dnf_access_install : Install squid proxy on bastion] *****************************************************************************************************
2025-05-10 10:37:31,314 p=462507 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:37:31,318 p=462507 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:37:37,986 p=462507 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"pkg_mgr": "dnf"}, "changed": false, "msg": "Nothing to do", "rc": 0, "results": []}
2025-05-10 10:37:37,994 p=462507 u=reseke n=ansible | TASK [Dnf_access_install : define squi.conf] *******************************************************************************************************************
2025-05-10 10:37:38,036 p=462507 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:37:38,068 p=462507 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:37:40,143 p=462507 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "checksum": "f673c76b3dbcf83cb7aed48af68c42377a95ae0c", "dest": "/etc/squid/squid.conf", "gid": 23, "group": "squid", "mode": "0640", "owner": "root", "path": "/etc/squid/squid.conf", "secontext": "system_u:object_r:squid_conf_t:s0", "size": 224, "state": "file", "uid": 0}
2025-05-10 10:37:40,154 p=462507 u=reseke n=ansible | TASK [Dnf_access_install : Run command to enable squid] ********************************************************************************************************
2025-05-10 10:37:40,216 p=462507 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:37:40,220 p=462507 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:37:42,296 p=462507 u=reseke n=ansible | changed: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": ["sudo", "systemctl", "enable", "--now", "squid"], "delta": "0:00:00.261808", "end": "2025-05-10 08:37:42.090863", "msg": "", "rc": 0, "start": "2025-05-10 08:37:41.829055", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-10 10:37:42,306 p=462507 u=reseke n=ansible | TASK [Dnf_access_install : set bastion ip address for the other servers] ***************************************************************************************
2025-05-10 10:37:42,367 p=462507 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:37:42,372 p=462507 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:37:42,398 p=462507 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"bastion_ip": "63.177.229.191"}, "changed": false}
2025-05-10 10:37:42,410 p=462507 u=reseke n=ansible | TASK [Dnf_access_install : Add proxy data to dnf.config to other servers] **************************************************************************************
2025-05-10 10:37:42,504 p=462507 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:37:44,493 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"backup": "", "changed": false, "msg": ""}
2025-05-10 10:37:44,708 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"backup": "", "changed": false, "msg": ""}
2025-05-10 10:37:44,722 p=462507 u=reseke n=ansible | TASK [Dnf_access_install : Get Python version] *****************************************************************************************************************
2025-05-10 10:37:45,875 p=462507 u=reseke n=ansible | changed: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.008754", "end": "2025-05-10 08:37:45.811074", "msg": "", "rc": 0, "start": "2025-05-10 08:37:45.802320", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-10 10:37:46,000 p=462507 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.007092", "end": "2025-05-10 08:37:45.893633", "msg": "", "rc": 0, "start": "2025-05-10 08:37:45.886541", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-10 10:37:46,274 p=462507 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.014414", "end": "2025-05-10 08:37:46.150664", "msg": "", "rc": 0, "start": "2025-05-10 08:37:46.136250", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-10 10:37:46,284 p=462507 u=reseke n=ansible | TASK [Dnf_access_install : cat dnf.conf] ***********************************************************************************************************************
2025-05-10 10:37:47,515 p=462507 u=reseke n=ansible | changed: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.006391", "end": "2025-05-10 08:37:47.429764", "msg": "", "rc": 0, "start": "2025-05-10 08:37:47.423373", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"]}
2025-05-10 10:37:47,602 p=462507 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.005258", "end": "2025-05-10 08:37:47.493297", "msg": "", "rc": 0, "start": "2025-05-10 08:37:47.488039", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-10 10:37:48,076 p=462507 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.007853", "end": "2025-05-10 08:37:47.865194", "msg": "", "rc": 0, "start": "2025-05-10 08:37:47.857341", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-10 10:37:48,083 p=462507 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-10 10:37:48,147 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-10 10:37:48,162 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-10 10:37:48,183 p=462507 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"
    ]
}
2025-05-10 10:37:48,188 p=462507 u=reseke n=ansible | TASK [Dnf_access_install : Install common packages] ************************************************************************************************************
2025-05-10 10:38:02,653 p=462507 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"ansible_job_id": "j437386723198.7760", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j437386723198.7760", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-10 10:38:03,437 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_job_id": "j623945314675.7062", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j623945314675.7062", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-10 10:38:04,906 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_job_id": "j190448407485.6923", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j190448407485.6923", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-10 10:38:04,927 p=462507 u=reseke n=ansible | TASK [Print ZFS Status] ****************************************************************************************************************************************
2025-05-10 10:38:06,136 p=462507 u=reseke n=ansible | changed: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.009467", "end": "2025-05-10 08:38:06.066460", "msg": "", "rc": 0, "start": "2025-05-10 08:38:06.056993", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:5    0   30G  0 disk ", "stdout_lines": ["nvme1n1     259:5    0   30G  0 disk "]}
2025-05-10 10:38:06,321 p=462507 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.007151", "end": "2025-05-10 08:38:06.206302", "msg": "", "rc": 0, "start": "2025-05-10 08:38:06.199151", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk \nnvme2n1     259:6    0  500G  0 disk ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk ", "nvme2n1     259:6    0  500G  0 disk "]}
2025-05-10 10:38:06,473 p=462507 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.012702", "end": "2025-05-10 08:38:06.356300", "msg": "", "rc": 0, "start": "2025-05-10 08:38:06.343598", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk "]}
2025-05-10 10:38:06,479 p=462507 u=reseke n=ansible | TASK [Is zfs on the systems? No, but here is the lsblk info] ***************************************************************************************************
2025-05-10 10:38:06,542 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk \\nnvme2n1     259:6    0  500G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-10 08:38:06.199151', 'end': '2025-05-10 08:38:06.206302', 'delta': '0:00:00.007151', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk ', 'nvme2n1     259:6    0  500G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-10 10:38:06,551 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-10 08:38:06.343598', 'end': '2025-05-10 08:38:06.356300', 'delta': '0:00:00.012702', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-10 10:38:06,577 p=462507 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:5    0   30G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-10 08:38:06.056993', 'end': '2025-05-10 08:38:06.066460', 'delta': '0:00:00.009467', 'msg': '', 'stdout_lines': ['nvme1n1     259:5    0   30G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-10 10:38:06,583 p=462507 u=reseke n=ansible | TASK [Create mound point for data scratch drive] ***************************************************************************************************************
2025-05-10 10:38:07,800 p=462507 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre_scratch", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-10 10:38:07,917 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre_scratch", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-10 10:38:08,237 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre_scratch", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-10 10:38:08,246 p=462507 u=reseke n=ansible | TASK [Create mound point for OSS server] ***********************************************************************************************************************
2025-05-10 10:38:08,322 p=462507 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-10 10:38:08,331 p=462507 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-10 10:38:09,616 p=462507 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-10 10:38:09,627 p=462507 u=reseke n=ansible | TASK [start ZFS] ***********************************************************************************************************************************************
2025-05-10 10:38:09,695 p=462507 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-10 10:38:09,713 p=462507 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-10 10:38:11,435 p=462507 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": ["/sbin/modprobe", "-v", "zfs"], "delta": "0:00:00.384341", "end": "2025-05-10 08:38:11.255692", "msg": "", "rc": 0, "start": "2025-05-10 08:38:10.871351", "stderr": "", "stderr_lines": [], "stdout": "insmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/spl.ko.xz \ninsmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/znvpair.ko.xz \ninsmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zcommon.ko.xz \ninsmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/icp.ko.xz \ninsmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zavl.ko.xz \ninsmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zlua.ko.xz \ninsmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zzstd.ko.xz \ninsmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zunicode.ko.xz \ninsmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zfs.ko.xz ", "stdout_lines": ["insmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/spl.ko.xz ", "insmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/znvpair.ko.xz ", "insmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zcommon.ko.xz ", "insmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/icp.ko.xz ", "insmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zavl.ko.xz ", "insmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zlua.ko.xz ", "insmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zzstd.ko.xz ", "insmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zunicode.ko.xz ", "insmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zfs.ko.xz "]}
2025-05-10 10:38:11,446 p=462507 u=reseke n=ansible | TASK [Is zfs on the systems? No, but here is the lsblk info] ***************************************************************************************************
2025-05-10 10:38:11,504 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'insmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/spl.ko.xz \\ninsmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/znvpair.ko.xz \\ninsmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zcommon.ko.xz \\ninsmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/icp.ko.xz \\ninsmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zavl.ko.xz \\ninsmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zlua.ko.xz \\ninsmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zzstd.ko.xz \\ninsmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zunicode.ko.xz \\ninsmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zfs.ko.xz ', 'stderr': '', 'rc': 0, 'cmd': ['/sbin/modprobe', '-v', 'zfs'], 'start': '2025-05-10 08:38:10.871351', 'end': '2025-05-10 08:38:11.255692', 'delta': '0:00:00.384341', 'msg': '', 'stdout_lines': ['insmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/spl.ko.xz ', 'insmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/znvpair.ko.xz ', 'insmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zcommon.ko.xz ', 'insmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/icp.ko.xz ', 'insmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zavl.ko.xz ', 'insmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zlua.ko.xz ', 'insmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zzstd.ko.xz ', 'insmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zunicode.ko.xz ', 'insmod /lib/modules/4.18.0-553.47.1.el8_10.x86_64/extra/zfs.ko.xz '], 'stderr_lines': [], 'failed': False}"
}
2025-05-10 10:38:11,505 p=462507 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"false_condition": "ansible_host == '10.0.1.11'"}
2025-05-10 10:38:11,519 p=462507 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"false_condition": "ansible_host == '10.0.1.11'"}
2025-05-10 10:38:11,527 p=462507 u=reseke n=ansible | TASK [Create OSS zpool] ****************************************************************************************************************************************
2025-05-10 10:38:11,593 p=462507 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-10 10:38:11,608 p=462507 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-10 10:38:13,279 p=462507 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": ["zpool", "create", "Lust_pool", "/dev/nvme2n1"], "delta": "0:00:00.308753", "end": "2025-05-10 08:38:13.037111", "msg": "", "rc": 0, "start": "2025-05-10 08:38:12.728358", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-10 10:38:13,285 p=462507 u=reseke n=ansible | TASK [Create a new file system called myfs in pool rpool with the setuid property turned off] ******************************************************************
2025-05-10 10:38:13,350 p=462507 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-10 10:38:13,366 p=462507 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-10 10:38:15,212 p=462507 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "name": "Lust_pool", "setuid": "off", "state": "present"}
2025-05-10 10:38:15,218 p=462507 u=reseke n=ansible | TASK [Mount for MNG] *******************************************************************************************************************************************
2025-05-10 10:38:15,277 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: 10.0.1.11"
}
2025-05-10 10:38:15,291 p=462507 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "What is there: 10.0.1.10"
}
2025-05-10 10:38:15,313 p=462507 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": "What is there: 63.177.229.191"
}
2025-05-10 10:38:15,317 p=462507 u=reseke n=ansible | TASK [Create OSS zpool] ****************************************************************************************************************************************
2025-05-10 10:38:15,375 p=462507 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.10'", "skip_reason": "Conditional result was False"}
2025-05-10 10:38:15,395 p=462507 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.10'", "skip_reason": "Conditional result was False"}
2025-05-10 10:38:16,855 p=462507 u=reseke n=ansible | fatal: [ip-10-0-1-10.eu-central-1.compute.internal]: FAILED! => {"changed": true, "cmd": ["zpool", "create", "Lust_scratch", "/dev/nvme1n1"], "delta": "0:00:00.012826", "end": "2025-05-10 08:38:16.695734", "msg": "non-zero return code", "rc": 1, "start": "2025-05-10 08:38:16.682908", "stderr": "The ZFS modules are not loaded.\nTry running '/sbin/modprobe zfs' as root to load them.", "stderr_lines": ["The ZFS modules are not loaded.", "Try running '/sbin/modprobe zfs' as root to load them."], "stdout": "", "stdout_lines": []}
2025-05-10 10:38:16,856 p=462507 u=reseke n=ansible | NO MORE HOSTS LEFT *********************************************************************************************************************************************
2025-05-10 10:38:16,860 p=462507 u=reseke n=ansible | PLAY RECAP *****************************************************************************************************************************************************
2025-05-10 10:38:16,861 p=462507 u=reseke n=ansible | ec2-63-177-229-191.eu-central-1.compute.amazonaws.com : ok=18   changed=4    unreachable=0    failed=0    skipped=9    rescued=0    ignored=0   
2025-05-10 10:38:16,862 p=462507 u=reseke n=ansible | ip-10-0-1-10.eu-central-1.compute.internal : ok=16   changed=3    unreachable=0    failed=1    skipped=10   rescued=0    ignored=0   
2025-05-10 10:38:16,862 p=462507 u=reseke n=ansible | ip-10-0-1-11.eu-central-1.compute.internal : ok=23   changed=7    unreachable=0    failed=0    skipped=6    rescued=0    ignored=0   
2025-05-10 10:39:50,195 p=464779 u=reseke n=ansible | ansible-playbook [core 2.16.14]
  config file = /home/reseke/docker/Terraform_Lustre/ansible.cfg
  configured module search path = ['/home/reseke/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/reseke/.local/lib/python3.10/site-packages/ansible
  ansible collection location = /home/reseke/.ansible/collections:/usr/share/ansible/collections
  executable location = /home/reseke/.local/bin/ansible-playbook
  python version = 3.10.12 (main, Feb  4 2025, 14:57:36) [GCC 11.4.0] (/usr/bin/python3)
  jinja version = 3.0.3
  libyaml = True
2025-05-10 10:39:50,196 p=464779 u=reseke n=ansible | Using /home/reseke/docker/Terraform_Lustre/ansible.cfg as config file
2025-05-10 10:39:53,583 p=464779 u=reseke n=ansible | redirecting (type: inventory) ansible.builtin.aws_ec2 to amazon.aws.aws_ec2
2025-05-10 10:39:53,823 p=464779 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-10 10:39:55,077 p=464779 u=reseke n=ansible | Skipping callback 'default', as we already have a stdout callback.
2025-05-10 10:39:55,078 p=464779 u=reseke n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2025-05-10 10:39:55,078 p=464779 u=reseke n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2025-05-10 10:39:55,078 p=464779 u=reseke n=ansible | PLAYBOOK: playbook.yml *****************************************************************************************************************************************
2025-05-10 10:39:55,079 p=464779 u=reseke n=ansible | 1 plays in ../Terraform_Lustre/playbook.yml
2025-05-10 10:39:55,083 p=464779 u=reseke n=ansible | PLAY [Setup Lustre on test servers] ****************************************************************************************************************************
2025-05-10 10:39:55,106 p=464779 u=reseke n=ansible | TASK [Include vault] *******************************************************************************************************************************************
2025-05-10 10:39:55,177 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-10 10:39:55,200 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-10 10:39:55,221 p=464779 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-10 10:39:55,230 p=464779 u=reseke n=ansible | TASK [Set_SSH_Vars : Set_fact hostvar of public IP] ************************************************************************************************************
2025-05-10 10:39:55,282 p=464779 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-10 10:39:55,290 p=464779 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-10 10:39:55,330 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal -> localhost] => (item=ec2-63-177-229-191.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"ec2_public_ip": "63.177.229.191"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com"}
2025-05-10 10:39:55,337 p=464779 u=reseke n=ansible | TASK [Set_SSH_Vars : Set bastion_host variable on localhost] ***************************************************************************************************
2025-05-10 10:39:55,377 p=464779 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-10 10:39:55,382 p=464779 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-10 10:39:55,400 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal -> localhost] => (item=ec2-63-177-229-191.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"bastion_host": "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com"}
2025-05-10 10:39:55,411 p=464779 u=reseke n=ansible | TASK [Set_SSH_Vars : Mark ec2 public IP] ***********************************************************************************************************************
2025-05-10 10:39:55,461 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-11.eu-central-1.compute.internal The public IP is 63.177.229.191",
        "10.0.1.11 IP to connect with",
        "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-10 10:39:55,473 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-10.eu-central-1.compute.internal The public IP is 63.177.229.191",
        "10.0.1.10 IP to connect with",
        "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-10 10:39:55,486 p=464779 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com The public IP is 63.177.229.191",
        "10.0.1.12 IP to connect with",
        "ec2-63-177-229-191.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-10 10:39:55,494 p=464779 u=reseke n=ansible | TASK [Set_SSH_Vars : Make sure bastion uses public IP] *********************************************************************************************************
2025-05-10 10:39:55,548 p=464779 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:39:55,551 p=464779 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:39:55,583 p=464779 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com -> localhost] => {"ansible_facts": {"ansible_host": "63.177.229.191"}, "changed": false}
2025-05-10 10:39:55,589 p=464779 u=reseke n=ansible | TASK [Set_SSH_Vars : Set SSH ProxyCommand for Specific Hosts] **************************************************************************************************
2025-05-10 10:39:55,653 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.177.229.191\""}, "changed": false}
2025-05-10 10:39:55,666 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.177.229.191\""}, "changed": false}
2025-05-10 10:39:55,676 p=464779 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:39:55,688 p=464779 u=reseke n=ansible | TASK [Copy ssh-key to non-bastion hosts] ***********************************************************************************************************************
2025-05-10 10:39:55,769 p=464779 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:39:59,617 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-10 10:40:00,064 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-10 10:40:00,071 p=464779 u=reseke n=ansible | TASK [Print Public IP Address] *********************************************************************************************************************************
2025-05-10 10:40:00,137 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-11.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-11.eu-central-1.compute.internal', 'ip-10-0-1-10.eu-central-1.compute.internal', 'ec2-63-177-229-191.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.11"
    ]
}
2025-05-10 10:40:00,160 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-10.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-11.eu-central-1.compute.internal', 'ip-10-0-1-10.eu-central-1.compute.internal', 'ec2-63-177-229-191.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.10"
    ]
}
2025-05-10 10:40:00,173 p=464779 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Public IP of ec2-63-177-229-191.eu-central-1.compute.amazonaws.com is 63.177.229.191",
        "Ansible Play hosts ['ip-10-0-1-11.eu-central-1.compute.internal', 'ip-10-0-1-10.eu-central-1.compute.internal', 'ec2-63-177-229-191.eu-central-1.compute.amazonaws.com']",
        "Ansible Private_ip_address 10.0.1.12"
    ]
}
2025-05-10 10:40:00,178 p=464779 u=reseke n=ansible | TASK [Print SSH connection] ************************************************************************************************************************************
2025-05-10 10:40:00,242 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-11.eu-central-1.compute.internal via 10.0.1.11 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.177.229.191\""
}
2025-05-10 10:40:00,255 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-10.eu-central-1.compute.internal via 10.0.1.10 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@63.177.229.191\""
}
2025-05-10 10:40:00,274 p=464779 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": "Connecting to ec2-63-177-229-191.eu-central-1.compute.amazonaws.com via 63.177.229.191 using No SSH args set"
}
2025-05-10 10:40:00,280 p=464779 u=reseke n=ansible | TASK [Add in the DNF update and install role] ******************************************************************************************************************
2025-05-10 10:40:00,387 p=464779 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-10 10:40:00,446 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.11"
    ]
}
2025-05-10 10:40:00,454 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.10"
    ]
}
2025-05-10 10:40:00,473 p=464779 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Ansible Host from DNF role: 63.177.229.191"
    ]
}
2025-05-10 10:40:00,481 p=464779 u=reseke n=ansible | TASK [Dnf_access_install : Install squid proxy on bastion] *****************************************************************************************************
2025-05-10 10:40:00,543 p=464779 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:40:00,545 p=464779 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:40:07,103 p=464779 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"pkg_mgr": "dnf"}, "changed": false, "msg": "Nothing to do", "rc": 0, "results": []}
2025-05-10 10:40:07,112 p=464779 u=reseke n=ansible | TASK [Dnf_access_install : define squi.conf] *******************************************************************************************************************
2025-05-10 10:40:07,188 p=464779 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:40:07,191 p=464779 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:40:09,238 p=464779 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "checksum": "f673c76b3dbcf83cb7aed48af68c42377a95ae0c", "dest": "/etc/squid/squid.conf", "gid": 23, "group": "squid", "mode": "0640", "owner": "root", "path": "/etc/squid/squid.conf", "secontext": "system_u:object_r:squid_conf_t:s0", "size": 224, "state": "file", "uid": 0}
2025-05-10 10:40:09,250 p=464779 u=reseke n=ansible | TASK [Dnf_access_install : Run command to enable squid] ********************************************************************************************************
2025-05-10 10:40:09,297 p=464779 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:40:09,326 p=464779 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:40:11,387 p=464779 u=reseke n=ansible | changed: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": ["sudo", "systemctl", "enable", "--now", "squid"], "delta": "0:00:00.258442", "end": "2025-05-10 08:40:11.217856", "msg": "", "rc": 0, "start": "2025-05-10 08:40:10.959414", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-10 10:40:11,395 p=464779 u=reseke n=ansible | TASK [Dnf_access_install : set bastion ip address for the other servers] ***************************************************************************************
2025-05-10 10:40:11,430 p=464779 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:40:11,453 p=464779 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:40:11,486 p=464779 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"bastion_ip": "63.177.229.191"}, "changed": false}
2025-05-10 10:40:11,495 p=464779 u=reseke n=ansible | TASK [Dnf_access_install : Add proxy data to dnf.config to other servers] **************************************************************************************
2025-05-10 10:40:11,574 p=464779 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-10 10:40:13,509 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"backup": "", "changed": false, "msg": ""}
2025-05-10 10:40:13,733 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"backup": "", "changed": false, "msg": ""}
2025-05-10 10:40:13,745 p=464779 u=reseke n=ansible | TASK [Dnf_access_install : Get Python version] *****************************************************************************************************************
2025-05-10 10:40:14,925 p=464779 u=reseke n=ansible | changed: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.010423", "end": "2025-05-10 08:40:14.842278", "msg": "", "rc": 0, "start": "2025-05-10 08:40:14.831855", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-10 10:40:15,001 p=464779 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.006867", "end": "2025-05-10 08:40:14.895074", "msg": "", "rc": 0, "start": "2025-05-10 08:40:14.888207", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-10 10:40:15,534 p=464779 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.010466", "end": "2025-05-10 08:40:15.331340", "msg": "", "rc": 0, "start": "2025-05-10 08:40:15.320874", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-10 10:40:15,538 p=464779 u=reseke n=ansible | TASK [Dnf_access_install : cat dnf.conf] ***********************************************************************************************************************
2025-05-10 10:40:16,760 p=464779 u=reseke n=ansible | changed: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.006922", "end": "2025-05-10 08:40:16.682442", "msg": "", "rc": 0, "start": "2025-05-10 08:40:16.675520", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"]}
2025-05-10 10:40:16,799 p=464779 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.005300", "end": "2025-05-10 08:40:16.691237", "msg": "", "rc": 0, "start": "2025-05-10 08:40:16.685937", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-10 10:40:17,098 p=464779 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.008024", "end": "2025-05-10 08:40:16.962856", "msg": "", "rc": 0, "start": "2025-05-10 08:40:16.954832", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-10 10:40:17,110 p=464779 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-10 10:40:17,186 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-10 10:40:17,201 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-10 10:40:17,219 p=464779 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"
    ]
}
2025-05-10 10:40:17,229 p=464779 u=reseke n=ansible | TASK [Dnf_access_install : Install common packages] ************************************************************************************************************
2025-05-10 10:40:31,996 p=464779 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"ansible_job_id": "j177341358479.9393", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j177341358479.9393", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-10 10:40:32,414 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_job_id": "j884690672555.9205", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j884690672555.9205", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-10 10:40:33,452 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_job_id": "j441145314166.8488", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j441145314166.8488", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-10 10:40:33,481 p=464779 u=reseke n=ansible | TASK [Print ZFS Status] ****************************************************************************************************************************************
2025-05-10 10:40:34,837 p=464779 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.006854", "end": "2025-05-10 08:40:34.718599", "msg": "", "rc": 0, "start": "2025-05-10 08:40:34.711745", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk \nnvme2n1     259:6    0  500G  0 disk \nnvme2n1p1 259:7    0  500G  0 part ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk ", "nvme2n1     259:6    0  500G  0 disk ", "nvme2n1p1 259:7    0  500G  0 part "]}
2025-05-10 10:40:34,996 p=464779 u=reseke n=ansible | changed: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.009598", "end": "2025-05-10 08:40:34.921968", "msg": "", "rc": 0, "start": "2025-05-10 08:40:34.912370", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:5    0   30G  0 disk ", "stdout_lines": ["nvme1n1     259:5    0   30G  0 disk "]}
2025-05-10 10:40:35,194 p=464779 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.017823", "end": "2025-05-10 08:40:35.064677", "msg": "", "rc": 0, "start": "2025-05-10 08:40:35.046854", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk "]}
2025-05-10 10:40:35,204 p=464779 u=reseke n=ansible | TASK [Is zfs on the systems? No, but here is the lsblk info] ***************************************************************************************************
2025-05-10 10:40:35,270 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk \\nnvme2n1     259:6    0  500G  0 disk \\nnvme2n1p1 259:7    0  500G  0 part ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-10 08:40:34.711745', 'end': '2025-05-10 08:40:34.718599', 'delta': '0:00:00.006854', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk ', 'nvme2n1     259:6    0  500G  0 disk ', 'nvme2n1p1 259:7    0  500G  0 part '], 'stderr_lines': [], 'failed': False}"
}
2025-05-10 10:40:35,280 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-10 08:40:35.046854', 'end': '2025-05-10 08:40:35.064677', 'delta': '0:00:00.017823', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-10 10:40:35,299 p=464779 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:5    0   30G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-10 08:40:34.912370', 'end': '2025-05-10 08:40:34.921968', 'delta': '0:00:00.009598', 'msg': '', 'stdout_lines': ['nvme1n1     259:5    0   30G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-10 10:40:35,308 p=464779 u=reseke n=ansible | TASK [Create mound point for data scratch drive] ***************************************************************************************************************
2025-05-10 10:40:36,679 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre_scratch", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-10 10:40:36,744 p=464779 u=reseke n=ansible | ok: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre_scratch", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-10 10:40:36,913 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre_scratch", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-10 10:40:36,923 p=464779 u=reseke n=ansible | TASK [Create mound point for OSS server] ***********************************************************************************************************************
2025-05-10 10:40:36,983 p=464779 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-10 10:40:37,000 p=464779 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-10 10:40:38,283 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-10 10:40:38,290 p=464779 u=reseke n=ansible | TASK [start ZFS] ***********************************************************************************************************************************************
2025-05-10 10:40:38,354 p=464779 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-10 10:40:38,374 p=464779 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-10 10:40:39,689 p=464779 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": ["/sbin/modprobe", "zfs"], "delta": "0:00:00.004479", "end": "2025-05-10 08:40:39.505374", "msg": "", "rc": 0, "start": "2025-05-10 08:40:39.500895", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-10 10:40:39,697 p=464779 u=reseke n=ansible | TASK [Is zfs on the systems? No, but here is the lsblk info] ***************************************************************************************************
2025-05-10 10:40:39,777 p=464779 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': '', 'stderr': '', 'rc': 0, 'cmd': ['/sbin/modprobe', 'zfs'], 'start': '2025-05-10 08:40:39.500895', 'end': '2025-05-10 08:40:39.505374', 'delta': '0:00:00.004479', 'msg': '', 'stdout_lines': [], 'stderr_lines': [], 'failed': False}"
}
2025-05-10 10:40:39,779 p=464779 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"false_condition": "ansible_host == '10.0.1.11'"}
2025-05-10 10:40:39,790 p=464779 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"false_condition": "ansible_host == '10.0.1.11'"}
2025-05-10 10:40:39,798 p=464779 u=reseke n=ansible | TASK [Create OSS zpool] ****************************************************************************************************************************************
2025-05-10 10:40:39,857 p=464779 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-10 10:40:39,873 p=464779 u=reseke n=ansible | skipping: [ec2-63-177-229-191.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-10 10:40:41,230 p=464779 u=reseke n=ansible | fatal: [ip-10-0-1-11.eu-central-1.compute.internal]: FAILED! => {"changed": true, "cmd": ["zpool", "create", "Lust_pool", "/dev/nvme2n1"], "delta": "0:00:00.030658", "end": "2025-05-10 08:40:41.087364", "msg": "non-zero return code", "rc": 1, "start": "2025-05-10 08:40:41.056706", "stderr": "/dev/nvme2n1 is in use and contains a unknown filesystem.", "stderr_lines": ["/dev/nvme2n1 is in use and contains a unknown filesystem."], "stdout": "", "stdout_lines": []}
2025-05-10 10:40:41,231 p=464779 u=reseke n=ansible | NO MORE HOSTS LEFT *********************************************************************************************************************************************
2025-05-10 10:40:41,233 p=464779 u=reseke n=ansible | PLAY RECAP *****************************************************************************************************************************************************
2025-05-10 10:40:41,233 p=464779 u=reseke n=ansible | ec2-63-177-229-191.eu-central-1.compute.amazonaws.com : ok=17   changed=4    unreachable=0    failed=0    skipped=7    rescued=0    ignored=0   
2025-05-10 10:40:41,233 p=464779 u=reseke n=ansible | ip-10-0-1-10.eu-central-1.compute.internal : ok=15   changed=3    unreachable=0    failed=0    skipped=9    rescued=0    ignored=0   
2025-05-10 10:40:41,233 p=464779 u=reseke n=ansible | ip-10-0-1-11.eu-central-1.compute.internal : ok=20   changed=4    unreachable=0    failed=1    skipped=5    rescued=0    ignored=0   
2025-05-13 13:15:56,135 p=795651 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-13 13:15:57,312 p=795651 u=reseke n=ansible | {
    "_meta": {
        "hostvars": {
            "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.12",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-05-13T11:14:14+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0404aee93c8cb2c5d"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-05-13T11:14:14+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-05449cfd94e026794"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250513111411843200000004",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0c875585d78476752",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-05-13T11:14:14+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "association": {
                            "ip_owner_id": "amazon",
                            "public_dns_name": "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com",
                            "public_ip": "3.69.230.66"
                        },
                        "attachment": {
                            "attach_time": "2025-05-13T11:14:14+00:00",
                            "attachment_id": "eni-attach-034533c96dd7a2231",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-0ee6d81e41ba2b8ff",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:74:b6:5b:2f:3f",
                        "network_interface_id": "eni-0f948e4f551d9e728",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.12",
                        "private_ip_addresses": [
                            {
                                "association": {
                                    "ip_owner_id": "amazon",
                                    "public_dns_name": "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com",
                                    "public_ip": "3.69.230.66"
                                },
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.12"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0947f67ed691ecf7f",
                        "vpc_id": "vpc-009ce1a9bb5f4a374"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-12.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.12",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com",
                "public_ip_address": "3.69.230.66",
                "requester_id": "",
                "reservation_id": "r-0a1e76d7a6892e3a4",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-0ee6d81e41ba2b8ff",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0947f67ed691ecf7f",
                "tags": {
                    "Name": "bastion",
                    "Project": "lustre",
                    "Role": "client"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-05-13T11:14:14+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-009ce1a9bb5f4a374"
            },
            "ip-10-0-1-10.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.10",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-05-13T11:14:14+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-07c41def4e99a7b48"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-05-13T11:14:14+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-017d72a90533258d3"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250513111411844000000005",
                "cpu_options": {
                    "core_count": 1,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0151cb366eb945812",
                "instance_type": "t3a.large",
                "key_name": "Lustre_Key",
                "launch_time": "2025-05-13T11:14:14+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-05-13T11:14:14+00:00",
                            "attachment_id": "eni-attach-0ea8c5cc60f41a518",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-0ee6d81e41ba2b8ff",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:47:9e:10:9e:17",
                        "network_interface_id": "eni-01b5950b5d8be4a5f",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.10",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.10"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0947f67ed691ecf7f",
                        "vpc_id": "vpc-009ce1a9bb5f4a374"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-10.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.10",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-0bf7d699c4e90ea8f",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-0ee6d81e41ba2b8ff",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0947f67ed691ecf7f",
                "tags": {
                    "Name": "lustre_mgt",
                    "Project": "lustre",
                    "Role": "manager"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-05-13T11:14:14+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-009ce1a9bb5f4a374"
            },
            "ip-10-0-1-11.eu-central-1.compute.internal": {
                "ami_launch_index": 0,
                "ansible_host": "10.0.1.11",
                "architecture": "x86_64",
                "block_device_mappings": [
                    {
                        "device_name": "/dev/sda1",
                        "ebs": {
                            "attach_time": "2025-05-13T11:14:14+00:00",
                            "delete_on_termination": true,
                            "status": "attached",
                            "volume_id": "vol-0b508d792cee5bacb"
                        }
                    },
                    {
                        "device_name": "/dev/sdd",
                        "ebs": {
                            "attach_time": "2025-05-13T11:14:14+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-03ec6feae3569980c"
                        }
                    },
                    {
                        "device_name": "/dev/sdz",
                        "ebs": {
                            "attach_time": "2025-05-13T11:14:36.747000+00:00",
                            "delete_on_termination": false,
                            "status": "attached",
                            "volume_id": "vol-053e06dff3464fa39"
                        }
                    }
                ],
                "boot_mode": "uefi-preferred",
                "capacity_reservation_specification": {
                    "capacity_reservation_preference": "open"
                },
                "client_token": "terraform-20250513111411841700000003",
                "cpu_options": {
                    "core_count": 2,
                    "threads_per_core": 2
                },
                "current_instance_boot_mode": "uefi",
                "ebs_optimized": false,
                "ena_support": true,
                "enclave_options": {
                    "enabled": false
                },
                "hibernation_options": {
                    "configured": false
                },
                "hypervisor": "xen",
                "image_id": "ami-0c9a7681c8631e73e",
                "instance_id": "i-0f2a0d9d20c4bc445",
                "instance_type": "t3.xlarge",
                "key_name": "Lustre_Key",
                "launch_time": "2025-05-13T11:14:14+00:00",
                "maintenance_options": {
                    "auto_recovery": "default"
                },
                "metadata_options": {
                    "http_endpoint": "enabled",
                    "http_protocol_ipv6": "disabled",
                    "http_put_response_hop_limit": 1,
                    "http_tokens": "optional",
                    "instance_metadata_tags": "disabled",
                    "state": "applied"
                },
                "monitoring": {
                    "state": "disabled"
                },
                "network_interfaces": [
                    {
                        "attachment": {
                            "attach_time": "2025-05-13T11:14:14+00:00",
                            "attachment_id": "eni-attach-098915d4ad3d37ce8",
                            "delete_on_termination": true,
                            "device_index": 0,
                            "network_card_index": 0,
                            "status": "attached"
                        },
                        "description": "",
                        "groups": [
                            {
                                "group_id": "sg-0ee6d81e41ba2b8ff",
                                "group_name": "Lustre_SG"
                            }
                        ],
                        "interface_type": "interface",
                        "ipv6_addresses": [],
                        "mac_address": "02:a1:ce:7f:e1:7f",
                        "network_interface_id": "eni-04fb607c0c1dd8fca",
                        "operator": {
                            "managed": false
                        },
                        "owner_id": "178783980143",
                        "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                        "private_ip_address": "10.0.1.11",
                        "private_ip_addresses": [
                            {
                                "primary": true,
                                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                                "private_ip_address": "10.0.1.11"
                            }
                        ],
                        "source_dest_check": true,
                        "status": "in-use",
                        "subnet_id": "subnet-0947f67ed691ecf7f",
                        "vpc_id": "vpc-009ce1a9bb5f4a374"
                    }
                ],
                "network_performance_options": {
                    "bandwidth_weighting": "default"
                },
                "operator": {
                    "managed": false
                },
                "owner_id": "178783980143",
                "placement": {
                    "availability_zone": "eu-central-1a",
                    "group_name": "",
                    "region": "eu-central-1",
                    "tenancy": "default"
                },
                "platform_details": "Linux/UNIX",
                "private_dns_name": "ip-10-0-1-11.eu-central-1.compute.internal",
                "private_dns_name_options": {
                    "enable_resource_name_dns_a_record": false,
                    "enable_resource_name_dns_aaaa_record": false,
                    "hostname_type": "ip-name"
                },
                "private_ip_address": "10.0.1.11",
                "product_codes": [
                    {
                        "product_code_id": "be714bpjscoj5uvqz0of5mscl",
                        "product_code_type": "marketplace"
                    }
                ],
                "public_dns_name": "",
                "public_ip_address": "",
                "requester_id": "",
                "reservation_id": "r-037d537fd761a5341",
                "root_device_name": "/dev/sda1",
                "root_device_type": "ebs",
                "security_groups": [
                    {
                        "group_id": "sg-0ee6d81e41ba2b8ff",
                        "group_name": "Lustre_SG"
                    }
                ],
                "source_dest_check": true,
                "state": {
                    "code": 16,
                    "name": "running"
                },
                "state_transition_reason": "",
                "subnet_id": "subnet-0947f67ed691ecf7f",
                "tags": {
                    "Name": "lustre_oss",
                    "Project": "lustre",
                    "Role": "storage"
                },
                "usage_operation": "RunInstances",
                "usage_operation_update_time": "2025-05-13T11:14:14+00:00",
                "virtualization_type": "hvm",
                "vpc_id": "vpc-009ce1a9bb5f4a374"
            }
        }
    },
    "all": {
        "children": [
            "ungrouped",
            "aws_ec2"
        ]
    },
    "aws_ec2": {
        "hosts": [
            "ip-10-0-1-10.eu-central-1.compute.internal",
            "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com",
            "ip-10-0-1-11.eu-central-1.compute.internal"
        ]
    }
}
2025-05-13 13:16:06,542 p=795816 u=reseke n=ansible | ansible-playbook [core 2.16.14]
  config file = /home/reseke/docker/Terraform_Lustre/ansible.cfg
  configured module search path = ['/home/reseke/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/reseke/.local/lib/python3.10/site-packages/ansible
  ansible collection location = /home/reseke/.ansible/collections:/usr/share/ansible/collections
  executable location = /home/reseke/.local/bin/ansible-playbook
  python version = 3.10.12 (main, Feb  4 2025, 14:57:36) [GCC 11.4.0] (/usr/bin/python3)
  jinja version = 3.0.3
  libyaml = True
2025-05-13 13:16:06,542 p=795816 u=reseke n=ansible | Using /home/reseke/docker/Terraform_Lustre/ansible.cfg as config file
2025-05-13 13:16:09,600 p=795816 u=reseke n=ansible | redirecting (type: inventory) ansible.builtin.aws_ec2 to amazon.aws.aws_ec2
2025-05-13 13:16:09,863 p=795816 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-13 13:16:11,056 p=795816 u=reseke n=ansible | Skipping callback 'default', as we already have a stdout callback.
2025-05-13 13:16:11,056 p=795816 u=reseke n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2025-05-13 13:16:11,056 p=795816 u=reseke n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2025-05-13 13:16:11,056 p=795816 u=reseke n=ansible | PLAYBOOK: playbook.yml *****************************************************************************************************************************************
2025-05-13 13:16:11,056 p=795816 u=reseke n=ansible | 1 plays in ../Terraform_Lustre/playbook.yml
2025-05-13 13:16:11,060 p=795816 u=reseke n=ansible | PLAY [Setup Lustre on test servers] ****************************************************************************************************************************
2025-05-13 13:16:11,085 p=795816 u=reseke n=ansible | TASK [Include vault] *******************************************************************************************************************************************
2025-05-13 13:16:11,148 p=795816 u=reseke n=ansible | fatal: [ip-10-0-1-10.eu-central-1.compute.internal]: FAILED! => {"ansible_facts": {}, "ansible_included_var_files": [], "changed": false, "message": "Decryption failed (no vault secrets were found that could decrypt) on /home/reseke/docker/Terraform_Lustre/Terraform_Vault"}
2025-05-13 13:16:11,166 p=795816 u=reseke n=ansible | fatal: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com]: FAILED! => {"ansible_facts": {}, "ansible_included_var_files": [], "changed": false, "message": "Decryption failed (no vault secrets were found that could decrypt) on /home/reseke/docker/Terraform_Lustre/Terraform_Vault"}
2025-05-13 13:16:11,181 p=795816 u=reseke n=ansible | fatal: [ip-10-0-1-11.eu-central-1.compute.internal]: FAILED! => {"ansible_facts": {}, "ansible_included_var_files": [], "changed": false, "message": "Decryption failed (no vault secrets were found that could decrypt) on /home/reseke/docker/Terraform_Lustre/Terraform_Vault"}
2025-05-13 13:16:11,183 p=795816 u=reseke n=ansible | NO MORE HOSTS LEFT *********************************************************************************************************************************************
2025-05-13 13:16:11,184 p=795816 u=reseke n=ansible | PLAY RECAP *****************************************************************************************************************************************************
2025-05-13 13:16:11,184 p=795816 u=reseke n=ansible | ec2-3-69-230-66.eu-central-1.compute.amazonaws.com : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-13 13:16:11,184 p=795816 u=reseke n=ansible | ip-10-0-1-10.eu-central-1.compute.internal : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-13 13:16:11,185 p=795816 u=reseke n=ansible | ip-10-0-1-11.eu-central-1.compute.internal : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-05-13 13:16:14,458 p=795922 u=reseke n=ansible | ansible-playbook [core 2.16.14]
  config file = /home/reseke/docker/Terraform_Lustre/ansible.cfg
  configured module search path = ['/home/reseke/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/reseke/.local/lib/python3.10/site-packages/ansible
  ansible collection location = /home/reseke/.ansible/collections:/usr/share/ansible/collections
  executable location = /home/reseke/.local/bin/ansible-playbook
  python version = 3.10.12 (main, Feb  4 2025, 14:57:36) [GCC 11.4.0] (/usr/bin/python3)
  jinja version = 3.0.3
  libyaml = True
2025-05-13 13:16:14,459 p=795922 u=reseke n=ansible | Using /home/reseke/docker/Terraform_Lustre/ansible.cfg as config file
2025-05-13 13:16:17,654 p=795922 u=reseke n=ansible | redirecting (type: inventory) ansible.builtin.aws_ec2 to amazon.aws.aws_ec2
2025-05-13 13:16:17,904 p=795922 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-13 13:16:19,060 p=795922 u=reseke n=ansible | Skipping callback 'default', as we already have a stdout callback.
2025-05-13 13:16:19,060 p=795922 u=reseke n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2025-05-13 13:16:19,061 p=795922 u=reseke n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2025-05-13 13:16:19,061 p=795922 u=reseke n=ansible | PLAYBOOK: playbook.yml *****************************************************************************************************************************************
2025-05-13 13:16:19,061 p=795922 u=reseke n=ansible | 1 plays in ../Terraform_Lustre/playbook.yml
2025-05-13 13:16:19,063 p=795922 u=reseke n=ansible | PLAY [Setup Lustre on test servers] ****************************************************************************************************************************
2025-05-13 13:16:19,089 p=795922 u=reseke n=ansible | TASK [Include vault] *******************************************************************************************************************************************
2025-05-13 13:16:19,152 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-13 13:16:19,174 p=795922 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-13 13:16:19,191 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-13 13:16:19,205 p=795922 u=reseke n=ansible | TASK [Set_SSH_Vars : Set_fact hostvar of public IP] ************************************************************************************************************
2025-05-13 13:16:19,250 p=795922 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-13 13:16:19,282 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal -> localhost] => (item=ec2-3-69-230-66.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"ec2_public_ip": "3.69.230.66"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com"}
2025-05-13 13:16:19,294 p=795922 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-13 13:16:19,302 p=795922 u=reseke n=ansible | TASK [Set_SSH_Vars : Set bastion_host variable on localhost] ***************************************************************************************************
2025-05-13 13:16:19,361 p=795922 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-13 13:16:19,385 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal -> localhost] => (item=ec2-3-69-230-66.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"bastion_host": "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com"}
2025-05-13 13:16:19,394 p=795922 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-13 13:16:19,406 p=795922 u=reseke n=ansible | TASK [Set_SSH_Vars : Mark ec2 public IP] ***********************************************************************************************************************
2025-05-13 13:16:19,469 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-10.eu-central-1.compute.internal The public IP is 3.69.230.66",
        "10.0.1.10 IP to connect with",
        "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-13 13:16:19,482 p=795922 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com The public IP is 3.69.230.66",
        "10.0.1.12 IP to connect with",
        "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-13 13:16:19,499 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-11.eu-central-1.compute.internal The public IP is 3.69.230.66",
        "10.0.1.11 IP to connect with",
        "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-13 13:16:19,509 p=795922 u=reseke n=ansible | TASK [Set_SSH_Vars : Make sure bastion uses public IP] *********************************************************************************************************
2025-05-13 13:16:19,565 p=795922 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:16:19,574 p=795922 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com -> localhost] => {"ansible_facts": {"ansible_host": "3.69.230.66"}, "changed": false}
2025-05-13 13:16:19,582 p=795922 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:16:19,587 p=795922 u=reseke n=ansible | TASK [Set_SSH_Vars : Set SSH ProxyCommand for Specific Hosts] **************************************************************************************************
2025-05-13 13:16:19,652 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.69.230.66\""}, "changed": false}
2025-05-13 13:16:19,654 p=795922 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:16:19,680 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.69.230.66\""}, "changed": false}
2025-05-13 13:16:19,699 p=795922 u=reseke n=ansible | TASK [Copy ssh-key to non-bastion hosts] ***********************************************************************************************************************
2025-05-13 13:16:19,767 p=795922 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:16:29,670 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-13 13:16:29,744 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-13 13:16:29,751 p=795922 u=reseke n=ansible | TASK [Print Public IP Address] *********************************************************************************************************************************
2025-05-13 13:16:29,820 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-10.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-10.eu-central-1.compute.internal', 'ec2-3-69-230-66.eu-central-1.compute.amazonaws.com', 'ip-10-0-1-11.eu-central-1.compute.internal']",
        "Ansible Private_ip_address 10.0.1.10"
    ]
}
2025-05-13 13:16:29,838 p=795922 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Public IP of ec2-3-69-230-66.eu-central-1.compute.amazonaws.com is 3.69.230.66",
        "Ansible Play hosts ['ip-10-0-1-10.eu-central-1.compute.internal', 'ec2-3-69-230-66.eu-central-1.compute.amazonaws.com', 'ip-10-0-1-11.eu-central-1.compute.internal']",
        "Ansible Private_ip_address 10.0.1.12"
    ]
}
2025-05-13 13:16:29,862 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-11.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-10.eu-central-1.compute.internal', 'ec2-3-69-230-66.eu-central-1.compute.amazonaws.com', 'ip-10-0-1-11.eu-central-1.compute.internal']",
        "Ansible Private_ip_address 10.0.1.11"
    ]
}
2025-05-13 13:16:29,868 p=795922 u=reseke n=ansible | TASK [Print SSH connection] ************************************************************************************************************************************
2025-05-13 13:16:29,920 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-10.eu-central-1.compute.internal via 10.0.1.10 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.69.230.66\""
}
2025-05-13 13:16:29,934 p=795922 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {
    "msg": "Connecting to ec2-3-69-230-66.eu-central-1.compute.amazonaws.com via 3.69.230.66 using No SSH args set"
}
2025-05-13 13:16:29,946 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-11.eu-central-1.compute.internal via 10.0.1.11 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.69.230.66\""
}
2025-05-13 13:16:29,949 p=795922 u=reseke n=ansible | TASK [Add in the DNF update and install role] ******************************************************************************************************************
2025-05-13 13:16:30,061 p=795922 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-13 13:16:30,138 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.10"
    ]
}
2025-05-13 13:16:30,147 p=795922 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Ansible Host from DNF role: 3.69.230.66"
    ]
}
2025-05-13 13:16:30,169 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.11"
    ]
}
2025-05-13 13:16:30,177 p=795922 u=reseke n=ansible | TASK [Dnf_access_install : Install squid proxy on bastion] *****************************************************************************************************
2025-05-13 13:16:30,227 p=795922 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:16:30,245 p=795922 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:16:48,594 p=795922 u=reseke n=ansible | changed: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"pkg_mgr": "dnf"}, "changed": true, "msg": "", "rc": 0, "results": ["Installed: squid-7:4.15-10.module_el8.10.0+3953+e1d43bfb.5.x86_64", "Installed: perl-DBI-1.641-4.module_el8.6.0+2823+173faa7e.x86_64", "Installed: libtool-ltdl-2.4.6-25.el8.x86_64", "Installed: libecap-1.0.1-2.module_el8.6.0+2741+01592ae8.x86_64"]}
2025-05-13 13:16:48,609 p=795922 u=reseke n=ansible | TASK [Dnf_access_install : define squi.conf] *******************************************************************************************************************
2025-05-13 13:16:48,671 p=795922 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:16:48,698 p=795922 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:16:51,847 p=795922 u=reseke n=ansible | changed: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": true, "checksum": "f673c76b3dbcf83cb7aed48af68c42377a95ae0c", "dest": "/etc/squid/squid.conf", "gid": 23, "group": "squid", "md5sum": "c9e7e6ade5c70753847d1f2b4fa092d1", "mode": "0640", "owner": "root", "secontext": "system_u:object_r:squid_conf_t:s0", "size": 224, "src": "/home/ec2-user/.ansible/tmp/ansible-tmp-1747135008.7762232-796422-20014503420003/source", "state": "file", "uid": 0}
2025-05-13 13:16:51,855 p=795922 u=reseke n=ansible | TASK [Dnf_access_install : Run command to enable squid] ********************************************************************************************************
2025-05-13 13:16:51,915 p=795922 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:16:51,935 p=795922 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:16:54,302 p=795922 u=reseke n=ansible | changed: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": ["sudo", "systemctl", "enable", "--now", "squid"], "delta": "0:00:00.389210", "end": "2025-05-13 11:16:55.315098", "msg": "", "rc": 0, "start": "2025-05-13 11:16:54.925888", "stderr": "Created symlink /etc/systemd/system/multi-user.target.wants/squid.service  /usr/lib/systemd/system/squid.service.", "stderr_lines": ["Created symlink /etc/systemd/system/multi-user.target.wants/squid.service  /usr/lib/systemd/system/squid.service."], "stdout": "", "stdout_lines": []}
2025-05-13 13:16:54,308 p=795922 u=reseke n=ansible | TASK [Dnf_access_install : set bastion ip address for the other servers] ***************************************************************************************
2025-05-13 13:16:54,354 p=795922 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:16:54,372 p=795922 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"bastion_ip": "3.69.230.66"}, "changed": false}
2025-05-13 13:16:54,385 p=795922 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:16:54,394 p=795922 u=reseke n=ansible | TASK [Dnf_access_install : Add proxy data to dnf.config to other servers] **************************************************************************************
2025-05-13 13:16:54,468 p=795922 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:16:56,614 p=795922 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"backup": "", "changed": true, "msg": "line added"}
2025-05-13 13:16:56,633 p=795922 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"backup": "", "changed": true, "msg": "line added"}
2025-05-13 13:16:56,641 p=795922 u=reseke n=ansible | TASK [Dnf_access_install : Get Python version] *****************************************************************************************************************
2025-05-13 13:16:58,010 p=795922 u=reseke n=ansible | changed: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.013515", "end": "2025-05-13 11:16:59.173780", "msg": "", "rc": 0, "start": "2025-05-13 11:16:59.160265", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-13 13:16:58,031 p=795922 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.010430", "end": "2025-05-13 11:16:59.126861", "msg": "", "rc": 0, "start": "2025-05-13 11:16:59.116431", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-13 13:16:58,156 p=795922 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.011919", "end": "2025-05-13 11:16:59.293810", "msg": "", "rc": 0, "start": "2025-05-13 11:16:59.281891", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-13 13:16:58,164 p=795922 u=reseke n=ansible | TASK [Dnf_access_install : cat dnf.conf] ***********************************************************************************************************************
2025-05-13 13:16:59,573 p=795922 u=reseke n=ansible | changed: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.008889", "end": "2025-05-13 11:17:00.716435", "msg": "", "rc": 0, "start": "2025-05-13 11:17:00.707546", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"]}
2025-05-13 13:16:59,579 p=795922 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.006793", "end": "2025-05-13 11:17:00.706620", "msg": "", "rc": 0, "start": "2025-05-13 11:17:00.699827", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-13 13:16:59,602 p=795922 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.006430", "end": "2025-05-13 11:17:00.726765", "msg": "", "rc": 0, "start": "2025-05-13 11:17:00.720335", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-13 13:16:59,608 p=795922 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-13 13:16:59,680 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-13 13:16:59,694 p=795922 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"
    ]
}
2025-05-13 13:16:59,718 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-13 13:16:59,724 p=795922 u=reseke n=ansible | TASK [Dnf_access_install : Install common packages] ************************************************************************************************************
2025-05-13 13:17:14,479 p=795922 u=reseke n=ansible | changed: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"ansible_job_id": "j677471483899.4182", "changed": true, "finished": 1, "msg": "", "rc": 0, "results": ["Installed: pciutils-3.7.0-3.el8.x86_64"], "results_file": "/root/.ansible_async/j677471483899.4182", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-13 13:21:31,134 p=795922 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_job_id": "j471108798822.1717", "changed": true, "finished": 1, "msg": "", "rc": 0, "results": ["Installed: pciutils-3.7.0-3.el8.x86_64"], "results_file": "/root/.ansible_async/j471108798822.1717", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-13 13:21:32,564 p=795922 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_job_id": "j564413810139.1688", "changed": true, "finished": 1, "msg": "", "rc": 0, "results": ["Installed: pciutils-3.7.0-3.el8.x86_64"], "results_file": "/root/.ansible_async/j564413810139.1688", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-13 13:21:32,586 p=795922 u=reseke n=ansible | TASK [Print ZFS Status] ****************************************************************************************************************************************
2025-05-13 13:21:34,018 p=795922 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.015416", "end": "2025-05-13 11:21:35.137923", "msg": "", "rc": 0, "start": "2025-05-13 11:21:35.122507", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:5    0   30G  0 disk \nnvme2n1     259:6    0  500G  0 disk ", "stdout_lines": ["nvme1n1     259:5    0   30G  0 disk ", "nvme2n1     259:6    0  500G  0 disk "]}
2025-05-13 13:21:34,099 p=795922 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.013167", "end": "2025-05-13 11:21:35.232593", "msg": "", "rc": 0, "start": "2025-05-13 11:21:35.219426", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk "]}
2025-05-13 13:21:34,392 p=795922 u=reseke n=ansible | changed: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.015467", "end": "2025-05-13 11:21:35.566958", "msg": "", "rc": 0, "start": "2025-05-13 11:21:35.551491", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk "]}
2025-05-13 13:21:34,401 p=795922 u=reseke n=ansible | TASK [Is zfs on the systems? No, but here is the lsblk info] ***************************************************************************************************
2025-05-13 13:21:34,465 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-13 11:21:35.219426', 'end': '2025-05-13 11:21:35.232593', 'delta': '0:00:00.013167', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-13 13:21:34,473 p=795922 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-13 11:21:35.551491', 'end': '2025-05-13 11:21:35.566958', 'delta': '0:00:00.015467', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-13 13:21:34,496 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:5    0   30G  0 disk \\nnvme2n1     259:6    0  500G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-13 11:21:35.122507', 'end': '2025-05-13 11:21:35.137923', 'delta': '0:00:00.015416', 'msg': '', 'stdout_lines': ['nvme1n1     259:5    0   30G  0 disk ', 'nvme2n1     259:6    0  500G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-13 13:21:34,503 p=795922 u=reseke n=ansible | TASK [Create mound point for data scratch drive] ***************************************************************************************************************
2025-05-13 13:21:35,998 p=795922 u=reseke n=ansible | changed: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre_scratch", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-13 13:21:36,124 p=795922 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre_scratch", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-13 13:21:36,126 p=795922 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre_scratch", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-13 13:21:36,137 p=795922 u=reseke n=ansible | TASK [Create mound point for OSS server] ***********************************************************************************************************************
2025-05-13 13:21:36,206 p=795922 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 13:21:36,212 p=795922 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 13:21:37,603 p=795922 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-13 13:21:37,608 p=795922 u=reseke n=ansible | TASK [start ZFS] ***********************************************************************************************************************************************
2025-05-13 13:21:37,674 p=795922 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 13:21:37,678 p=795922 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 13:21:39,436 p=795922 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": ["/sbin/modprobe", "zfs"], "delta": "0:00:00.435913", "end": "2025-05-13 11:21:40.563098", "msg": "", "rc": 0, "start": "2025-05-13 11:21:40.127185", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-13 13:21:39,448 p=795922 u=reseke n=ansible | TASK [Is zfs on the systems? No, but here is the lsblk info] ***************************************************************************************************
2025-05-13 13:21:39,510 p=795922 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"false_condition": "ansible_host == '10.0.1.11'"}
2025-05-13 13:21:39,513 p=795922 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"false_condition": "ansible_host == '10.0.1.11'"}
2025-05-13 13:21:39,540 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': '', 'stderr': '', 'rc': 0, 'cmd': ['/sbin/modprobe', 'zfs'], 'start': '2025-05-13 11:21:40.127185', 'end': '2025-05-13 11:21:40.563098', 'delta': '0:00:00.435913', 'msg': '', 'stdout_lines': [], 'stderr_lines': [], 'failed': False}"
}
2025-05-13 13:21:39,547 p=795922 u=reseke n=ansible | TASK [Create OSS zpool] ****************************************************************************************************************************************
2025-05-13 13:21:39,617 p=795922 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 13:21:39,619 p=795922 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 13:21:41,472 p=795922 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": ["zpool", "create", "Lust_pool", "/dev/nvme2n1"], "delta": "0:00:00.448343", "end": "2025-05-13 11:21:42.606190", "msg": "", "rc": 0, "start": "2025-05-13 11:21:42.157847", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-13 13:21:41,478 p=795922 u=reseke n=ansible | TASK [Create a new file system called myfs in pool rpool with the setuid property turned off] ******************************************************************
2025-05-13 13:21:41,526 p=795922 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 13:21:41,530 p=795922 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 13:21:44,044 p=795922 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "name": "Lust_pool", "setuid": "off", "state": "present"}
2025-05-13 13:21:44,053 p=795922 u=reseke n=ansible | TASK [Mount for MNG] *******************************************************************************************************************************************
2025-05-13 13:21:44,115 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "What is there: 10.0.1.10"
}
2025-05-13 13:21:44,123 p=795922 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {
    "msg": "What is there: 3.69.230.66"
}
2025-05-13 13:21:44,142 p=795922 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: 10.0.1.11"
}
2025-05-13 13:21:44,147 p=795922 u=reseke n=ansible | TASK [Create OSS zpool] ****************************************************************************************************************************************
2025-05-13 13:21:44,209 p=795922 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.10'", "skip_reason": "Conditional result was False"}
2025-05-13 13:21:44,220 p=795922 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.10'", "skip_reason": "Conditional result was False"}
2025-05-13 13:21:45,697 p=795922 u=reseke n=ansible | fatal: [ip-10-0-1-10.eu-central-1.compute.internal]: FAILED! => {"changed": true, "cmd": ["zpool", "create", "Lust_scratch", "/dev/nvme1n1"], "delta": "0:00:00.076348", "end": "2025-05-13 11:21:46.812625", "msg": "non-zero return code", "rc": 1, "start": "2025-05-13 11:21:46.736277", "stderr": "The ZFS modules are not loaded.\nTry running '/sbin/modprobe zfs' as root to load them.", "stderr_lines": ["The ZFS modules are not loaded.", "Try running '/sbin/modprobe zfs' as root to load them."], "stdout": "", "stdout_lines": []}
2025-05-13 13:21:45,699 p=795922 u=reseke n=ansible | NO MORE HOSTS LEFT *********************************************************************************************************************************************
2025-05-13 13:21:45,702 p=795922 u=reseke n=ansible | PLAY RECAP *****************************************************************************************************************************************************
2025-05-13 13:21:45,703 p=795922 u=reseke n=ansible | ec2-3-69-230-66.eu-central-1.compute.amazonaws.com : ok=18   changed=8    unreachable=0    failed=0    skipped=9    rescued=0    ignored=0   
2025-05-13 13:21:45,703 p=795922 u=reseke n=ansible | ip-10-0-1-10.eu-central-1.compute.internal : ok=18   changed=6    unreachable=0    failed=1    skipped=10   rescued=0    ignored=0   
2025-05-13 13:21:45,703 p=795922 u=reseke n=ansible | ip-10-0-1-11.eu-central-1.compute.internal : ok=21   changed=10   unreachable=0    failed=0    skipped=6    rescued=0    ignored=0   
2025-05-13 13:40:15,882 p=815068 u=reseke n=ansible | ansible-playbook [core 2.16.14]
  config file = /home/reseke/docker/Terraform_Lustre/ansible.cfg
  configured module search path = ['/home/reseke/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/reseke/.local/lib/python3.10/site-packages/ansible
  ansible collection location = /home/reseke/.ansible/collections:/usr/share/ansible/collections
  executable location = /home/reseke/.local/bin/ansible-playbook
  python version = 3.10.12 (main, Feb  4 2025, 14:57:36) [GCC 11.4.0] (/usr/bin/python3)
  jinja version = 3.0.3
  libyaml = True
2025-05-13 13:40:15,883 p=815068 u=reseke n=ansible | Using /home/reseke/docker/Terraform_Lustre/ansible.cfg as config file
2025-05-13 13:40:42,205 p=815068 u=reseke n=ansible | redirecting (type: inventory) ansible.builtin.aws_ec2 to amazon.aws.aws_ec2
2025-05-13 13:40:42,432 p=815068 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-13 13:40:43,783 p=815068 u=reseke n=ansible | Skipping callback 'default', as we already have a stdout callback.
2025-05-13 13:40:43,784 p=815068 u=reseke n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2025-05-13 13:40:43,784 p=815068 u=reseke n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2025-05-13 13:40:43,784 p=815068 u=reseke n=ansible | PLAYBOOK: playbook.yml *****************************************************************************************************************************************
2025-05-13 13:40:43,784 p=815068 u=reseke n=ansible | 1 plays in ../Terraform_Lustre/playbook.yml
2025-05-13 13:40:43,790 p=815068 u=reseke n=ansible | PLAY [Setup Lustre on test servers] ****************************************************************************************************************************
2025-05-13 13:40:43,810 p=815068 u=reseke n=ansible | TASK [Include vault] *******************************************************************************************************************************************
2025-05-13 13:40:43,882 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-13 13:40:43,901 p=815068 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-13 13:40:43,919 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-13 13:40:43,929 p=815068 u=reseke n=ansible | TASK [Set_SSH_Vars : Set_fact hostvar of public IP] ************************************************************************************************************
2025-05-13 13:40:43,973 p=815068 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-13 13:40:44,010 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal -> localhost] => (item=ec2-3-69-230-66.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"ec2_public_ip": "3.69.230.66"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com"}
2025-05-13 13:40:44,021 p=815068 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-13 13:40:44,029 p=815068 u=reseke n=ansible | TASK [Set_SSH_Vars : Set bastion_host variable on localhost] ***************************************************************************************************
2025-05-13 13:40:44,087 p=815068 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-13 13:40:44,105 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal -> localhost] => (item=ec2-3-69-230-66.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"bastion_host": "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com"}
2025-05-13 13:40:44,115 p=815068 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-13 13:40:44,127 p=815068 u=reseke n=ansible | TASK [Set_SSH_Vars : Mark ec2 public IP] ***********************************************************************************************************************
2025-05-13 13:40:44,201 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-10.eu-central-1.compute.internal The public IP is 3.69.230.66",
        "10.0.1.10 IP to connect with",
        "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-13 13:40:44,208 p=815068 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com The public IP is 3.69.230.66",
        "10.0.1.12 IP to connect with",
        "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-13 13:40:44,228 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-11.eu-central-1.compute.internal The public IP is 3.69.230.66",
        "10.0.1.11 IP to connect with",
        "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-13 13:40:44,234 p=815068 u=reseke n=ansible | TASK [Set_SSH_Vars : Make sure bastion uses public IP] *********************************************************************************************************
2025-05-13 13:40:44,299 p=815068 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:40:44,313 p=815068 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com -> localhost] => {"ansible_facts": {"ansible_host": "3.69.230.66"}, "changed": false}
2025-05-13 13:40:44,329 p=815068 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:40:44,335 p=815068 u=reseke n=ansible | TASK [Set_SSH_Vars : Set SSH ProxyCommand for Specific Hosts] **************************************************************************************************
2025-05-13 13:40:44,395 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.69.230.66\""}, "changed": false}
2025-05-13 13:40:44,397 p=815068 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:40:44,421 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.69.230.66\""}, "changed": false}
2025-05-13 13:40:44,437 p=815068 u=reseke n=ansible | TASK [Copy ssh-key to non-bastion hosts] ***********************************************************************************************************************
2025-05-13 13:40:44,490 p=815068 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:40:49,085 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-13 13:40:49,100 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-13 13:40:49,109 p=815068 u=reseke n=ansible | TASK [Print Public IP Address] *********************************************************************************************************************************
2025-05-13 13:40:49,181 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-10.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-10.eu-central-1.compute.internal', 'ec2-3-69-230-66.eu-central-1.compute.amazonaws.com', 'ip-10-0-1-11.eu-central-1.compute.internal']",
        "Ansible Private_ip_address 10.0.1.10"
    ]
}
2025-05-13 13:40:49,202 p=815068 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Public IP of ec2-3-69-230-66.eu-central-1.compute.amazonaws.com is 3.69.230.66",
        "Ansible Play hosts ['ip-10-0-1-10.eu-central-1.compute.internal', 'ec2-3-69-230-66.eu-central-1.compute.amazonaws.com', 'ip-10-0-1-11.eu-central-1.compute.internal']",
        "Ansible Private_ip_address 10.0.1.12"
    ]
}
2025-05-13 13:40:49,231 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-11.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-10.eu-central-1.compute.internal', 'ec2-3-69-230-66.eu-central-1.compute.amazonaws.com', 'ip-10-0-1-11.eu-central-1.compute.internal']",
        "Ansible Private_ip_address 10.0.1.11"
    ]
}
2025-05-13 13:40:49,240 p=815068 u=reseke n=ansible | TASK [Print SSH connection] ************************************************************************************************************************************
2025-05-13 13:40:49,320 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-10.eu-central-1.compute.internal via 10.0.1.10 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.69.230.66\""
}
2025-05-13 13:40:49,332 p=815068 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {
    "msg": "Connecting to ec2-3-69-230-66.eu-central-1.compute.amazonaws.com via 3.69.230.66 using No SSH args set"
}
2025-05-13 13:40:49,352 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-11.eu-central-1.compute.internal via 10.0.1.11 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.69.230.66\""
}
2025-05-13 13:40:49,358 p=815068 u=reseke n=ansible | TASK [Add in the DNF update and install role] ******************************************************************************************************************
2025-05-13 13:40:49,469 p=815068 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-13 13:40:49,534 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.10"
    ]
}
2025-05-13 13:40:49,546 p=815068 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Ansible Host from DNF role: 3.69.230.66"
    ]
}
2025-05-13 13:40:49,566 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.11"
    ]
}
2025-05-13 13:40:49,574 p=815068 u=reseke n=ansible | TASK [Dnf_access_install : Install squid proxy on bastion] *****************************************************************************************************
2025-05-13 13:40:49,633 p=815068 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:40:49,654 p=815068 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:40:58,249 p=815068 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"pkg_mgr": "dnf"}, "changed": false, "msg": "Nothing to do", "rc": 0, "results": []}
2025-05-13 13:40:58,259 p=815068 u=reseke n=ansible | TASK [Dnf_access_install : define squi.conf] *******************************************************************************************************************
2025-05-13 13:40:58,332 p=815068 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:40:58,349 p=815068 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:41:00,733 p=815068 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "checksum": "f673c76b3dbcf83cb7aed48af68c42377a95ae0c", "dest": "/etc/squid/squid.conf", "gid": 23, "group": "squid", "mode": "0640", "owner": "root", "path": "/etc/squid/squid.conf", "secontext": "system_u:object_r:squid_conf_t:s0", "size": 224, "state": "file", "uid": 0}
2025-05-13 13:41:00,740 p=815068 u=reseke n=ansible | TASK [Dnf_access_install : Run command to enable squid] ********************************************************************************************************
2025-05-13 13:41:00,773 p=815068 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:41:00,815 p=815068 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:41:02,975 p=815068 u=reseke n=ansible | changed: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": ["sudo", "systemctl", "enable", "--now", "squid"], "delta": "0:00:00.298506", "end": "2025-05-13 11:41:02.801576", "msg": "", "rc": 0, "start": "2025-05-13 11:41:02.503070", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-13 13:41:02,987 p=815068 u=reseke n=ansible | TASK [Dnf_access_install : set bastion ip address for the other servers] ***************************************************************************************
2025-05-13 13:41:03,054 p=815068 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:41:03,072 p=815068 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"bastion_ip": "3.69.230.66"}, "changed": false}
2025-05-13 13:41:03,077 p=815068 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:41:03,083 p=815068 u=reseke n=ansible | TASK [Dnf_access_install : Add proxy data to dnf.config to other servers] **************************************************************************************
2025-05-13 13:41:03,155 p=815068 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:41:05,154 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"backup": "", "changed": false, "msg": ""}
2025-05-13 13:41:05,233 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"backup": "", "changed": false, "msg": ""}
2025-05-13 13:41:05,241 p=815068 u=reseke n=ansible | TASK [Dnf_access_install : Get Python version] *****************************************************************************************************************
2025-05-13 13:41:06,698 p=815068 u=reseke n=ansible | changed: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.021716", "end": "2025-05-13 11:41:06.456896", "msg": "", "rc": 0, "start": "2025-05-13 11:41:06.435180", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-13 13:41:06,708 p=815068 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.017435", "end": "2025-05-13 11:41:06.483831", "msg": "", "rc": 0, "start": "2025-05-13 11:41:06.466396", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-13 13:41:06,712 p=815068 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.013912", "end": "2025-05-13 11:41:06.518975", "msg": "", "rc": 0, "start": "2025-05-13 11:41:06.505063", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-13 13:41:06,717 p=815068 u=reseke n=ansible | TASK [Dnf_access_install : cat dnf.conf] ***********************************************************************************************************************
2025-05-13 13:41:08,150 p=815068 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.006789", "end": "2025-05-13 11:41:07.921787", "msg": "", "rc": 0, "start": "2025-05-13 11:41:07.914998", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-13 13:41:08,152 p=815068 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.006579", "end": "2025-05-13 11:41:07.882954", "msg": "", "rc": 0, "start": "2025-05-13 11:41:07.876375", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-13 13:41:08,299 p=815068 u=reseke n=ansible | changed: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.008790", "end": "2025-05-13 11:41:08.102619", "msg": "", "rc": 0, "start": "2025-05-13 11:41:08.093829", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"]}
2025-05-13 13:41:08,308 p=815068 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-13 13:41:08,376 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-13 13:41:08,388 p=815068 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"
    ]
}
2025-05-13 13:41:08,417 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-13 13:41:08,424 p=815068 u=reseke n=ansible | TASK [Dnf_access_install : Install common packages] ************************************************************************************************************
2025-05-13 13:41:23,545 p=815068 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"ansible_job_id": "j306217472959.5936", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j306217472959.5936", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-13 13:41:24,030 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_job_id": "j585278251190.6115", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j585278251190.6115", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-13 13:41:24,275 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_job_id": "j927589951832.5606", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j927589951832.5606", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-13 13:41:24,299 p=815068 u=reseke n=ansible | TASK [Print ZFS Status] ****************************************************************************************************************************************
2025-05-13 13:41:25,620 p=815068 u=reseke n=ansible | changed: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.011736", "end": "2025-05-13 11:41:25.433063", "msg": "", "rc": 0, "start": "2025-05-13 11:41:25.421327", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk "]}
2025-05-13 13:41:25,857 p=815068 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.021917", "end": "2025-05-13 11:41:25.654991", "msg": "", "rc": 0, "start": "2025-05-13 11:41:25.633074", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:5    0   30G  0 disk \nnvme2n1     259:6    0  500G  0 disk \nnvme2n1p1 259:7    0  500G  0 part ", "stdout_lines": ["nvme1n1     259:5    0   30G  0 disk ", "nvme2n1     259:6    0  500G  0 disk ", "nvme2n1p1 259:7    0  500G  0 part "]}
2025-05-13 13:41:25,873 p=815068 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.012264", "end": "2025-05-13 11:41:25.679266", "msg": "", "rc": 0, "start": "2025-05-13 11:41:25.667002", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk "]}
2025-05-13 13:41:25,881 p=815068 u=reseke n=ansible | TASK [Is zfs on the systems? No, but here is the lsblk info] ***************************************************************************************************
2025-05-13 13:41:25,948 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-13 11:41:25.667002', 'end': '2025-05-13 11:41:25.679266', 'delta': '0:00:00.012264', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-13 13:41:25,960 p=815068 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-13 11:41:25.421327', 'end': '2025-05-13 11:41:25.433063', 'delta': '0:00:00.011736', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-13 13:41:25,983 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:5    0   30G  0 disk \\nnvme2n1     259:6    0  500G  0 disk \\nnvme2n1p1 259:7    0  500G  0 part ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-13 11:41:25.633074', 'end': '2025-05-13 11:41:25.654991', 'delta': '0:00:00.021917', 'msg': '', 'stdout_lines': ['nvme1n1     259:5    0   30G  0 disk ', 'nvme2n1     259:6    0  500G  0 disk ', 'nvme2n1p1 259:7    0  500G  0 part '], 'stderr_lines': [], 'failed': False}"
}
2025-05-13 13:41:25,990 p=815068 u=reseke n=ansible | TASK [Create mound point for data scratch drive] ***************************************************************************************************************
2025-05-13 13:41:27,365 p=815068 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre_scratch", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-13 13:41:27,451 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre_scratch", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-13 13:41:27,509 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre_scratch", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-13 13:41:27,516 p=815068 u=reseke n=ansible | TASK [Create mound point for OSS server] ***********************************************************************************************************************
2025-05-13 13:41:27,578 p=815068 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 13:41:27,579 p=815068 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 13:41:28,939 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-13 13:41:28,944 p=815068 u=reseke n=ansible | TASK [start ZFS - OSS] *****************************************************************************************************************************************
2025-05-13 13:41:29,011 p=815068 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 13:41:29,015 p=815068 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 13:41:30,548 p=815068 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": ["/sbin/modprobe", "zfs"], "delta": "0:00:00.005721", "end": "2025-05-13 11:41:30.282405", "msg": "", "rc": 0, "start": "2025-05-13 11:41:30.276684", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-13 13:41:30,554 p=815068 u=reseke n=ansible | TASK [start Lustre - OSS] **************************************************************************************************************************************
2025-05-13 13:41:30,617 p=815068 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 13:41:30,619 p=815068 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 13:41:33,321 p=815068 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": ["/sbin/modprobe", "lustre"], "delta": "0:00:01.283763", "end": "2025-05-13 11:41:33.014039", "msg": "", "rc": 0, "start": "2025-05-13 11:41:31.730276", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-13 13:41:33,330 p=815068 u=reseke n=ansible | TASK [Is modprobe_oss_zfs] *************************************************************************************************************************************
2025-05-13 13:41:33,387 p=815068 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"false_condition": "ansible_host == '10.0.1.11'"}
2025-05-13 13:41:33,392 p=815068 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"false_condition": "ansible_host == '10.0.1.11'"}
2025-05-13 13:41:33,421 p=815068 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "What is there zfs  {'changed': True, 'stdout': '', 'stderr': '', 'rc': 0, 'cmd': ['/sbin/modprobe', 'zfs'], 'start': '2025-05-13 11:41:30.276684', 'end': '2025-05-13 11:41:30.282405', 'delta': '0:00:00.005721', 'msg': '', 'stdout_lines': [], 'stderr_lines': [], 'failed': False}",
        "What is there lustre: {'changed': True, 'stdout': '', 'stderr': '', 'rc': 0, 'cmd': ['/sbin/modprobe', 'lustre'], 'start': '2025-05-13 11:41:31.730276', 'end': '2025-05-13 11:41:33.014039', 'delta': '0:00:01.283763', 'msg': '', 'stdout_lines': [], 'stderr_lines': [], 'failed': False}"
    ]
}
2025-05-13 13:41:33,429 p=815068 u=reseke n=ansible | TASK [Create OSS zpool] ****************************************************************************************************************************************
2025-05-13 13:41:33,493 p=815068 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 13:41:33,496 p=815068 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 13:41:34,868 p=815068 u=reseke n=ansible | fatal: [ip-10-0-1-11.eu-central-1.compute.internal]: FAILED! => {"changed": true, "cmd": ["zpool", "create", "Lust_pool", "/dev/nvme2n1"], "delta": "0:00:00.032462", "end": "2025-05-13 11:41:34.643086", "msg": "non-zero return code", "rc": 1, "start": "2025-05-13 11:41:34.610624", "stderr": "/dev/nvme2n1 is in use and contains a unknown filesystem.", "stderr_lines": ["/dev/nvme2n1 is in use and contains a unknown filesystem."], "stdout": "", "stdout_lines": []}
2025-05-13 13:41:34,870 p=815068 u=reseke n=ansible | NO MORE HOSTS LEFT *********************************************************************************************************************************************
2025-05-13 13:41:34,874 p=815068 u=reseke n=ansible | PLAY RECAP *****************************************************************************************************************************************************
2025-05-13 13:41:34,874 p=815068 u=reseke n=ansible | ec2-3-69-230-66.eu-central-1.compute.amazonaws.com : ok=17   changed=4    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
2025-05-13 13:41:34,875 p=815068 u=reseke n=ansible | ip-10-0-1-10.eu-central-1.compute.internal : ok=17   changed=3    unreachable=0    failed=0    skipped=10   rescued=0    ignored=0   
2025-05-13 13:41:34,875 p=815068 u=reseke n=ansible | ip-10-0-1-11.eu-central-1.compute.internal : ok=19   changed=5    unreachable=0    failed=1    skipped=5    rescued=0    ignored=0   
2025-05-13 13:59:35,901 p=821674 u=reseke n=ansible | ansible-playbook [core 2.16.14]
  config file = /home/reseke/docker/Terraform_Lustre/ansible.cfg
  configured module search path = ['/home/reseke/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/reseke/.local/lib/python3.10/site-packages/ansible
  ansible collection location = /home/reseke/.ansible/collections:/usr/share/ansible/collections
  executable location = /home/reseke/.local/bin/ansible-playbook
  python version = 3.10.12 (main, Feb  4 2025, 14:57:36) [GCC 11.4.0] (/usr/bin/python3)
  jinja version = 3.0.3
  libyaml = True
2025-05-13 13:59:35,902 p=821674 u=reseke n=ansible | Using /home/reseke/docker/Terraform_Lustre/ansible.cfg as config file
2025-05-13 13:59:40,077 p=821674 u=reseke n=ansible | redirecting (type: inventory) ansible.builtin.aws_ec2 to amazon.aws.aws_ec2
2025-05-13 13:59:40,473 p=821674 u=reseke n=botocore.credentials | Found credentials in shared credentials file: ~/.aws/credentials
2025-05-13 13:59:42,309 p=821674 u=reseke n=ansible | Skipping callback 'default', as we already have a stdout callback.
2025-05-13 13:59:42,310 p=821674 u=reseke n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2025-05-13 13:59:42,310 p=821674 u=reseke n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2025-05-13 13:59:42,311 p=821674 u=reseke n=ansible | PLAYBOOK: playbook.yml *****************************************************************************************************************************************
2025-05-13 13:59:42,311 p=821674 u=reseke n=ansible | 1 plays in ../Terraform_Lustre/playbook.yml
2025-05-13 13:59:42,317 p=821674 u=reseke n=ansible | PLAY [Setup Lustre on test servers] ****************************************************************************************************************************
2025-05-13 13:59:42,344 p=821674 u=reseke n=ansible | TASK [Include vault] *******************************************************************************************************************************************
2025-05-13 13:59:42,434 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-13 13:59:42,457 p=821674 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-13 13:59:42,492 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result", "changed": false}
2025-05-13 13:59:42,505 p=821674 u=reseke n=ansible | TASK [Set_SSH_Vars : Set_fact hostvar of public IP] ************************************************************************************************************
2025-05-13 13:59:42,569 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-13 13:59:42,616 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal -> localhost] => (item=ec2-3-69-230-66.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"ec2_public_ip": "3.69.230.66"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com"}
2025-05-13 13:59:42,635 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "hostvars[item]['public_ip_address'] != ''", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-13 13:59:42,646 p=821674 u=reseke n=ansible | TASK [Set_SSH_Vars : Set bastion_host variable on localhost] ***************************************************************************************************
2025-05-13 13:59:42,730 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-10.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-10.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-13 13:59:42,762 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal -> localhost] => (item=ec2-3-69-230-66.eu-central-1.compute.amazonaws.com) => {"ansible_facts": {"bastion_host": "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com"}, "ansible_loop_var": "item", "changed": false, "item": "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com"}
2025-05-13 13:59:42,774 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => (item=ip-10-0-1-11.eu-central-1.compute.internal)  => {"ansible_loop_var": "item", "changed": false, "false_condition": "item is match('^ec2.*')", "item": "ip-10-0-1-11.eu-central-1.compute.internal", "skip_reason": "Conditional result was False"}
2025-05-13 13:59:42,787 p=821674 u=reseke n=ansible | TASK [Set_SSH_Vars : Mark ec2 public IP] ***********************************************************************************************************************
2025-05-13 13:59:42,866 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-10.eu-central-1.compute.internal The public IP is 3.69.230.66",
        "10.0.1.10 IP to connect with",
        "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-13 13:59:42,883 p=821674 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com The public IP is 3.69.230.66",
        "10.0.1.12 IP to connect with",
        "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-13 13:59:42,916 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "ip-10-0-1-11.eu-central-1.compute.internal The public IP is 3.69.230.66",
        "10.0.1.11 IP to connect with",
        "ec2-3-69-230-66.eu-central-1.compute.amazonaws.com is here."
    ]
}
2025-05-13 13:59:42,924 p=821674 u=reseke n=ansible | TASK [Set_SSH_Vars : Make sure bastion uses public IP] *********************************************************************************************************
2025-05-13 13:59:42,997 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:59:43,012 p=821674 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com -> localhost] => {"ansible_facts": {"ansible_host": "3.69.230.66"}, "changed": false}
2025-05-13 13:59:43,026 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:59:43,032 p=821674 u=reseke n=ansible | TASK [Set_SSH_Vars : Set SSH ProxyCommand for Specific Hosts] **************************************************************************************************
2025-05-13 13:59:43,114 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.69.230.66\""}, "changed": false}
2025-05-13 13:59:43,119 p=821674 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:59:43,155 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_facts": {"ansible_ssh_common_args": "-o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.69.230.66\""}, "changed": false}
2025-05-13 13:59:43,179 p=821674 u=reseke n=ansible | TASK [Copy ssh-key to non-bastion hosts] ***********************************************************************************************************************
2025-05-13 13:59:43,261 p=821674 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:59:50,630 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-13 13:59:50,913 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "checksum": "8abcd3148ebb4b3ed65cbcd14a69414d567df1f5", "dest": "/home/ec2-user/.ssh/lustretest", "gid": 1000, "group": "ec2-user", "mode": "0600", "owner": "ec2-user", "path": "/home/ec2-user/.ssh/lustretest", "secontext": "unconfined_u:object_r:ssh_home_t:s0", "size": 3381, "state": "file", "uid": 1000}
2025-05-13 13:59:50,922 p=821674 u=reseke n=ansible | TASK [Print Public IP Address] *********************************************************************************************************************************
2025-05-13 13:59:50,998 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-10.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-10.eu-central-1.compute.internal', 'ec2-3-69-230-66.eu-central-1.compute.amazonaws.com', 'ip-10-0-1-11.eu-central-1.compute.internal']",
        "Ansible Private_ip_address 10.0.1.10"
    ]
}
2025-05-13 13:59:51,028 p=821674 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Public IP of ec2-3-69-230-66.eu-central-1.compute.amazonaws.com is 3.69.230.66",
        "Ansible Play hosts ['ip-10-0-1-10.eu-central-1.compute.internal', 'ec2-3-69-230-66.eu-central-1.compute.amazonaws.com', 'ip-10-0-1-11.eu-central-1.compute.internal']",
        "Ansible Private_ip_address 10.0.1.12"
    ]
}
2025-05-13 13:59:51,047 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Public IP of ip-10-0-1-11.eu-central-1.compute.internal is ",
        "Ansible Play hosts ['ip-10-0-1-10.eu-central-1.compute.internal', 'ec2-3-69-230-66.eu-central-1.compute.amazonaws.com', 'ip-10-0-1-11.eu-central-1.compute.internal']",
        "Ansible Private_ip_address 10.0.1.11"
    ]
}
2025-05-13 13:59:51,058 p=821674 u=reseke n=ansible | TASK [Print SSH connection] ************************************************************************************************************************************
2025-05-13 13:59:51,140 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-10.eu-central-1.compute.internal via 10.0.1.10 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.69.230.66\""
}
2025-05-13 13:59:51,160 p=821674 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {
    "msg": "Connecting to ec2-3-69-230-66.eu-central-1.compute.amazonaws.com via 3.69.230.66 using No SSH args set"
}
2025-05-13 13:59:51,178 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "Connecting to ip-10-0-1-11.eu-central-1.compute.internal via 10.0.1.11 using -o ProxyCommand=\"ssh -W %h:%p -i /home/reseke/.ssh/lustretest ec2-user@3.69.230.66\""
}
2025-05-13 13:59:51,187 p=821674 u=reseke n=ansible | TASK [Add in the DNF update and install role] ******************************************************************************************************************
2025-05-13 13:59:51,355 p=821674 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-13 13:59:51,433 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.10"
    ]
}
2025-05-13 13:59:51,445 p=821674 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Ansible Host from DNF role: 3.69.230.66"
    ]
}
2025-05-13 13:59:51,477 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Ansible Host from DNF role: 10.0.1.11"
    ]
}
2025-05-13 13:59:51,493 p=821674 u=reseke n=ansible | TASK [Dnf_access_install : Install squid proxy on bastion] *****************************************************************************************************
2025-05-13 13:59:51,569 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 13:59:51,596 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 14:00:03,477 p=821674 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"pkg_mgr": "dnf"}, "changed": false, "msg": "Nothing to do", "rc": 0, "results": []}
2025-05-13 14:00:03,486 p=821674 u=reseke n=ansible | TASK [Dnf_access_install : define squi.conf] *******************************************************************************************************************
2025-05-13 14:00:03,575 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 14:00:03,604 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 14:00:07,554 p=821674 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "checksum": "f673c76b3dbcf83cb7aed48af68c42377a95ae0c", "dest": "/etc/squid/squid.conf", "gid": 23, "group": "squid", "mode": "0640", "owner": "root", "path": "/etc/squid/squid.conf", "secontext": "system_u:object_r:squid_conf_t:s0", "size": 224, "state": "file", "uid": 0}
2025-05-13 14:00:07,563 p=821674 u=reseke n=ansible | TASK [Dnf_access_install : Run command to enable squid] ********************************************************************************************************
2025-05-13 14:00:07,636 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 14:00:07,665 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 14:00:11,203 p=821674 u=reseke n=ansible | changed: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": ["sudo", "systemctl", "enable", "--now", "squid"], "delta": "0:00:00.272686", "end": "2025-05-13 12:00:10.318287", "msg": "", "rc": 0, "start": "2025-05-13 12:00:10.045601", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-13 14:00:11,213 p=821674 u=reseke n=ansible | TASK [Dnf_access_install : set bastion ip address for the other servers] ***************************************************************************************
2025-05-13 14:00:11,290 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 14:00:11,310 p=821674 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"ansible_facts": {"bastion_ip": "3.69.230.66"}, "changed": false}
2025-05-13 14:00:11,317 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "inventory_hostname == bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 14:00:11,326 p=821674 u=reseke n=ansible | TASK [Dnf_access_install : Add proxy data to dnf.config to other servers] **************************************************************************************
2025-05-13 14:00:11,410 p=821674 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "inventory_hostname != bastion_host", "skip_reason": "Conditional result was False"}
2025-05-13 14:00:14,642 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"backup": "", "changed": false, "msg": ""}
2025-05-13 14:00:14,684 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"backup": "", "changed": false, "msg": ""}
2025-05-13 14:00:14,697 p=821674 u=reseke n=ansible | TASK [Dnf_access_install : Get Python version] *****************************************************************************************************************
2025-05-13 14:00:17,252 p=821674 u=reseke n=ansible | changed: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.009878", "end": "2025-05-13 12:00:16.502881", "msg": "", "rc": 0, "start": "2025-05-13 12:00:16.493003", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-13 14:00:17,396 p=821674 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.009410", "end": "2025-05-13 12:00:16.602956", "msg": "", "rc": 0, "start": "2025-05-13 12:00:16.593546", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-13 14:00:17,398 p=821674 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(python3 --version)", "delta": "0:00:00.008053", "end": "2025-05-13 12:00:16.556673", "msg": "", "rc": 0, "start": "2025-05-13 12:00:16.548620", "stderr": "", "stderr_lines": [], "stdout": "Python 3.11.11", "stdout_lines": ["Python 3.11.11"]}
2025-05-13 14:00:17,405 p=821674 u=reseke n=ansible | TASK [Dnf_access_install : cat dnf.conf] ***********************************************************************************************************************
2025-05-13 14:00:19,597 p=821674 u=reseke n=ansible | changed: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.007747", "end": "2025-05-13 12:00:18.878730", "msg": "", "rc": 0, "start": "2025-05-13 12:00:18.870983", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"]}
2025-05-13 14:00:19,670 p=821674 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.007253", "end": "2025-05-13 12:00:18.937227", "msg": "", "rc": 0, "start": "2025-05-13 12:00:18.929974", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-13 14:00:19,672 p=821674 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "echo $(cat /etc/dnf/dnf.conf)", "delta": "0:00:00.004955", "end": "2025-05-13 12:00:18.876184", "msg": "", "rc": 0, "start": "2025-05-13 12:00:18.871229", "stderr": "", "stderr_lines": [], "stdout": "[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128", "stdout_lines": ["[main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"]}
2025-05-13 14:00:19,680 p=821674 u=reseke n=ansible | TASK [Dnf_access_install : show python and dnf.conf version] ***************************************************************************************************
2025-05-13 14:00:19,761 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-13 14:00:19,775 p=821674 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False"
    ]
}
2025-05-13 14:00:19,801 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "Python version: Python 3.11.11",
        "dnf config file: [main] gpgcheck=1 installonly_limit=3 clean_requirements_on_remove=True best=True skip_if_unavailable=False proxy=http://10.0.1.12:3128"
    ]
}
2025-05-13 14:00:19,813 p=821674 u=reseke n=ansible | TASK [Dnf_access_install : Install common packages] ************************************************************************************************************
2025-05-13 14:00:39,231 p=821674 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"ansible_job_id": "j924038815536.7578", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j924038815536.7578", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-13 14:00:40,760 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"ansible_job_id": "j682676165723.7035", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j682676165723.7035", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-13 14:00:40,871 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"ansible_job_id": "j67872119601.8172", "changed": false, "finished": 1, "msg": "Nothing to do", "rc": 0, "results": [], "results_file": "/root/.ansible_async/j67872119601.8172", "started": 1, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-13 14:00:40,894 p=821674 u=reseke n=ansible | TASK [Print ZFS Status] ****************************************************************************************************************************************
2025-05-13 14:00:43,359 p=821674 u=reseke n=ansible | changed: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.011370", "end": "2025-05-13 12:00:42.543898", "msg": "", "rc": 0, "start": "2025-05-13 12:00:42.532528", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk "]}
2025-05-13 14:00:43,433 p=821674 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.009383", "end": "2025-05-13 12:00:42.608188", "msg": "", "rc": 0, "start": "2025-05-13 12:00:42.598805", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:1    0   30G  0 disk ", "stdout_lines": ["nvme1n1     259:1    0   30G  0 disk "]}
2025-05-13 14:00:43,435 p=821674 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": "lsblk | grep [35]0.", "delta": "0:00:00.018453", "end": "2025-05-13 12:00:42.686460", "msg": "", "rc": 0, "start": "2025-05-13 12:00:42.668007", "stderr": "", "stderr_lines": [], "stdout": "nvme1n1     259:5    0   30G  0 disk \nnvme2n1     259:6    0  500G  0 disk \nnvme2n1p1 259:7    0  500G  0 part ", "stdout_lines": ["nvme1n1     259:5    0   30G  0 disk ", "nvme2n1     259:6    0  500G  0 disk ", "nvme2n1p1 259:7    0  500G  0 part "]}
2025-05-13 14:00:43,444 p=821674 u=reseke n=ansible | TASK [Is zfs on the systems? No, but here is the lsblk info] ***************************************************************************************************
2025-05-13 14:00:43,518 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-13 12:00:42.598805', 'end': '2025-05-13 12:00:42.608188', 'delta': '0:00:00.009383', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-13 14:00:43,531 p=821674 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:1    0   30G  0 disk ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-13 12:00:42.532528', 'end': '2025-05-13 12:00:42.543898', 'delta': '0:00:00.011370', 'msg': '', 'stdout_lines': ['nvme1n1     259:1    0   30G  0 disk '], 'stderr_lines': [], 'failed': False}"
}
2025-05-13 14:00:43,563 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": "What is there: {'changed': True, 'stdout': 'nvme1n1     259:5    0   30G  0 disk \\nnvme2n1     259:6    0  500G  0 disk \\nnvme2n1p1 259:7    0  500G  0 part ', 'stderr': '', 'rc': 0, 'cmd': 'lsblk | grep [35]0.', 'start': '2025-05-13 12:00:42.668007', 'end': '2025-05-13 12:00:42.686460', 'delta': '0:00:00.018453', 'msg': '', 'stdout_lines': ['nvme1n1     259:5    0   30G  0 disk ', 'nvme2n1     259:6    0  500G  0 disk ', 'nvme2n1p1 259:7    0  500G  0 part '], 'stderr_lines': [], 'failed': False}"
}
2025-05-13 14:00:43,574 p=821674 u=reseke n=ansible | TASK [Create mound point for data scratch drive] ***************************************************************************************************************
2025-05-13 14:00:45,954 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre_scratch", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-13 14:00:45,996 p=821674 u=reseke n=ansible | ok: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre_scratch", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-13 14:00:46,352 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre_scratch", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-13 14:00:46,362 p=821674 u=reseke n=ansible | TASK [Create mound point for OSS server] ***********************************************************************************************************************
2025-05-13 14:00:46,442 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 14:00:46,445 p=821674 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 14:00:49,000 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/mnt/lustre", "secontext": "unconfined_u:object_r:mnt_t:s0", "size": 6, "state": "directory", "uid": 0}
2025-05-13 14:00:49,012 p=821674 u=reseke n=ansible | TASK [start ZFS - OSS] *****************************************************************************************************************************************
2025-05-13 14:00:49,091 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 14:00:49,096 p=821674 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 14:00:51,555 p=821674 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": ["/sbin/modprobe", "zfs"], "delta": "0:00:00.005825", "end": "2025-05-13 12:00:50.652589", "msg": "", "rc": 0, "start": "2025-05-13 12:00:50.646764", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-13 14:00:51,568 p=821674 u=reseke n=ansible | TASK [start Lustre - OSS] **************************************************************************************************************************************
2025-05-13 14:00:51,642 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 14:00:51,645 p=821674 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 14:00:55,077 p=821674 u=reseke n=ansible | changed: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": true, "cmd": ["/sbin/modprobe", "lustre"], "delta": "0:00:00.004419", "end": "2025-05-13 12:00:54.005893", "msg": "", "rc": 0, "start": "2025-05-13 12:00:54.001474", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-13 14:00:55,089 p=821674 u=reseke n=ansible | TASK [Is modprobe_oss_zfs] *************************************************************************************************************************************
2025-05-13 14:00:55,168 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"false_condition": "ansible_host == '10.0.1.11'"}
2025-05-13 14:00:55,170 p=821674 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"false_condition": "ansible_host == '10.0.1.11'"}
2025-05-13 14:00:55,202 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {
    "msg": [
        "What is there zfs  {'changed': True, 'stdout': '', 'stderr': '', 'rc': 0, 'cmd': ['/sbin/modprobe', 'zfs'], 'start': '2025-05-13 12:00:50.646764', 'end': '2025-05-13 12:00:50.652589', 'delta': '0:00:00.005825', 'msg': '', 'stdout_lines': [], 'stderr_lines': [], 'failed': False}",
        "What is there lustre: {'changed': True, 'stdout': '', 'stderr': '', 'rc': 0, 'cmd': ['/sbin/modprobe', 'lustre'], 'start': '2025-05-13 12:00:54.001474', 'end': '2025-05-13 12:00:54.005893', 'delta': '0:00:00.004419', 'msg': '', 'stdout_lines': [], 'stderr_lines': [], 'failed': False}"
    ]
}
2025-05-13 14:00:55,212 p=821674 u=reseke n=ansible | TASK [Create OSS zpool] ****************************************************************************************************************************************
2025-05-13 14:00:55,289 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 14:00:55,292 p=821674 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 14:00:58,008 p=821674 u=reseke n=ansible | fatal: [ip-10-0-1-11.eu-central-1.compute.internal]: FAILED! => {"changed": true, "cmd": ["zpool", "create", "Lust_pool", "/dev/nvme2n1"], "delta": "0:00:00.016925", "end": "2025-05-13 12:00:57.055262", "msg": "non-zero return code", "rc": 1, "start": "2025-05-13 12:00:57.038337", "stderr": "/dev/nvme2n1 is in use and contains a unknown filesystem.", "stderr_lines": ["/dev/nvme2n1 is in use and contains a unknown filesystem."], "stdout": "", "stdout_lines": []}
2025-05-13 14:00:58,009 p=821674 u=reseke n=ansible | ...ignoring
2025-05-13 14:00:58,020 p=821674 u=reseke n=ansible | TASK [Create a new file system called myfs in pool rpool with the setuid property turned off] ******************************************************************
2025-05-13 14:00:58,099 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 14:00:58,103 p=821674 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.11'", "skip_reason": "Conditional result was False"}
2025-05-13 14:01:01,896 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "name": "Lust_pool", "setuid": "off", "state": "present"}
2025-05-13 14:01:01,903 p=821674 u=reseke n=ansible | TASK [start ZFS - MGT] *****************************************************************************************************************************************
2025-05-13 14:01:01,988 p=821674 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.10'", "skip_reason": "Conditional result was False"}
2025-05-13 14:01:02,014 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.10'", "skip_reason": "Conditional result was False"}
2025-05-13 14:01:04,763 p=821674 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": ["/sbin/modprobe", "zfs"], "delta": "0:00:00.007853", "end": "2025-05-13 12:01:03.811233", "msg": "", "rc": 0, "start": "2025-05-13 12:01:03.803380", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-13 14:01:04,770 p=821674 u=reseke n=ansible | TASK [start Lustre  - MGT] *************************************************************************************************************************************
2025-05-13 14:01:04,852 p=821674 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.10'", "skip_reason": "Conditional result was False"}
2025-05-13 14:01:04,872 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.10'", "skip_reason": "Conditional result was False"}
2025-05-13 14:01:07,280 p=821674 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": ["/sbin/modprobe", "lustre"], "delta": "0:00:00.006799", "end": "2025-05-13 12:01:06.465473", "msg": "", "rc": 0, "start": "2025-05-13 12:01:06.458674", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-13 14:01:07,288 p=821674 u=reseke n=ansible | TASK [Is modprobe_oss_zfs] *************************************************************************************************************************************
2025-05-13 14:01:07,369 p=821674 u=reseke n=ansible | ok: [ip-10-0-1-10.eu-central-1.compute.internal] => {
    "msg": [
        "What is there zfs  {'changed': True, 'stdout': '', 'stderr': '', 'rc': 0, 'cmd': ['/sbin/modprobe', 'zfs'], 'start': '2025-05-13 12:01:03.803380', 'end': '2025-05-13 12:01:03.811233', 'delta': '0:00:00.007853', 'msg': '', 'stdout_lines': [], 'stderr_lines': [], 'failed': False}",
        "What is there lustre: {'changed': True, 'stdout': '', 'stderr': '', 'rc': 0, 'cmd': ['/sbin/modprobe', 'lustre'], 'start': '2025-05-13 12:01:06.458674', 'end': '2025-05-13 12:01:06.465473', 'delta': '0:00:00.006799', 'msg': '', 'stdout_lines': [], 'stderr_lines': [], 'failed': False}"
    ]
}
2025-05-13 14:01:07,373 p=821674 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"false_condition": "ansible_host == '10.0.1.10'"}
2025-05-13 14:01:07,386 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"false_condition": "ansible_host == '10.0.1.10'"}
2025-05-13 14:01:07,394 p=821674 u=reseke n=ansible | TASK [Create OSS zpool] ****************************************************************************************************************************************
2025-05-13 14:01:07,471 p=821674 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.10'", "skip_reason": "Conditional result was False"}
2025-05-13 14:01:07,496 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.10'", "skip_reason": "Conditional result was False"}
2025-05-13 14:01:10,154 p=821674 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": ["zpool", "create", "Lust_scratch", "/dev/nvme1n1"], "delta": "0:00:00.479076", "end": "2025-05-13 12:01:09.305374", "msg": "", "rc": 0, "start": "2025-05-13 12:01:08.826298", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-13 14:01:10,163 p=821674 u=reseke n=ansible | TASK [Create a new file system called myfs in pool rpool with the setuid property turned off] ******************************************************************
2025-05-13 14:01:10,245 p=821674 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.10'", "skip_reason": "Conditional result was False"}
2025-05-13 14:01:10,263 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.10'", "skip_reason": "Conditional result was False"}
2025-05-13 14:01:13,316 p=821674 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "name": "Lust_scratch", "setuid": "off", "state": "present"}
2025-05-13 14:01:13,326 p=821674 u=reseke n=ansible | TASK [Is Lustre installed and ready?] **************************************************************************************************************************
2025-05-13 14:01:13,403 p=821674 u=reseke n=ansible | skipping: [ec2-3-69-230-66.eu-central-1.compute.amazonaws.com] => {"changed": false, "false_condition": "ansible_host == '10.0.1.10'", "skip_reason": "Conditional result was False"}
2025-05-13 14:01:13,426 p=821674 u=reseke n=ansible | skipping: [ip-10-0-1-11.eu-central-1.compute.internal] => {"changed": false, "false_condition": "ansible_host == '10.0.1.10'", "skip_reason": "Conditional result was False"}
2025-05-13 14:01:15,709 p=821674 u=reseke n=ansible | changed: [ip-10-0-1-10.eu-central-1.compute.internal] => {"changed": true, "cmd": ["/sbin/modprobe", "-v", "lustre"], "delta": "0:00:00.006272", "end": "2025-05-13 12:01:14.879957", "msg": "", "rc": 0, "start": "2025-05-13 12:01:14.873685", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-05-13 14:01:15,715 p=821674 u=reseke n=ansible | PLAY RECAP *****************************************************************************************************************************************************
2025-05-13 14:01:15,717 p=821674 u=reseke n=ansible | ec2-3-69-230-66.eu-central-1.compute.amazonaws.com : ok=17   changed=4    unreachable=0    failed=0    skipped=15   rescued=0    ignored=0   
2025-05-13 14:01:15,717 p=821674 u=reseke n=ansible | ip-10-0-1-10.eu-central-1.compute.internal : ok=23   changed=8    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2025-05-13 14:01:15,718 p=821674 u=reseke n=ansible | ip-10-0-1-11.eu-central-1.compute.internal : ok=21   changed=6    unreachable=0    failed=0    skipped=11   rescued=0    ignored=1   
